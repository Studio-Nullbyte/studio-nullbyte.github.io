{"version":3,"file":"index-11699857.js","sources":["../../node_modules/react/cjs/react-jsx-runtime.production.min.js","../../node_modules/react/jsx-runtime.js","../../node_modules/react-dom/client.js","../../node_modules/react-fast-compare/index.js","../../node_modules/invariant/browser.js","../../node_modules/shallowequal/index.js","../../node_modules/react-helmet-async/lib/index.esm.js","../../src/utils/logger.ts","../../src/lib/supabase.ts","../../src/hooks/useAuth.ts","../../src/contexts/AuthContext.tsx","../../src/contexts/CartContext.tsx","../../src/contexts/ToastContext.tsx","../../src/components/ProtectedRoute.tsx","../../src/utils/accessibility.ts","../../src/components/CartModal.tsx","../../src/components/Logo.tsx","../../src/components/Header.tsx","../../src/components/Footer.tsx","../../src/components/CrispChat.tsx","../../src/components/SEO.tsx","../../src/pages/Home.tsx","../../src/pages/Products.tsx","../../src/pages/Product.tsx","../../src/components/payments/StripePayment.tsx","../../src/lib/paypal.ts","../../src/components/payments/PayPalPayment.tsx","../../src/lib/square.ts","../../src/components/payments/SquarePayment.tsx","../../src/pages/Checkout.tsx","../../src/pages/OrderConfirmation.tsx","../../node_modules/@emailjs/browser/es/models/EmailJSResponseStatus.js","../../node_modules/@emailjs/browser/es/utils/createWebStorage/createWebStorage.js","../../node_modules/@emailjs/browser/es/store/store.js","../../node_modules/@emailjs/browser/es/utils/buildOptions/buildOptions.js","../../node_modules/@emailjs/browser/es/methods/init/init.js","../../node_modules/@emailjs/browser/es/api/sendPost.js","../../node_modules/@emailjs/browser/es/utils/validateParams/validateParams.js","../../node_modules/@emailjs/browser/es/utils/validateTemplateParams/validateTemplateParams.js","../../node_modules/@emailjs/browser/es/utils/isHeadless/isHeadless.js","../../node_modules/@emailjs/browser/es/errors/headlessError/headlessError.js","../../node_modules/@emailjs/browser/es/utils/validateBlockListParams/validateBlockListParams.js","../../node_modules/@emailjs/browser/es/utils/isBlockedValueInParams/isBlockedValueInParams.js","../../node_modules/@emailjs/browser/es/errors/blockedEmailError/blockedEmailError.js","../../node_modules/@emailjs/browser/es/utils/validateLimitRateParams/validateLimitRateParams.js","../../node_modules/@emailjs/browser/es/utils/isLimitRateHit/isLimitRateHit.js","../../node_modules/@emailjs/browser/es/errors/limitRateError/limitRateError.js","../../node_modules/@emailjs/browser/es/methods/send/send.js","../../node_modules/@emailjs/browser/es/utils/validateForm/validateForm.js","../../node_modules/@emailjs/browser/es/methods/sendForm/sendForm.js","../../node_modules/@emailjs/browser/es/index.js","../../src/services/emailService.ts","../../src/hooks/useOrderProcessing.ts","../../src/pages/Success.tsx","../../src/pages/Cancel.tsx","../../src/pages/About.tsx","../../src/pages/Contact.tsx","../../src/components/AuthForm.tsx","../../src/pages/Auth.tsx","../../src/pages/ResetPassword.tsx","../../src/utils/emergencySignOut.ts","../../src/pages/UserSettings.tsx","../../src/utils/adminDebug.ts","../../src/utils/supabaseDiagnostics.ts","../../src/hooks/useAdmin.ts","../../src/components/AdminSidebar.tsx","../../src/components/AdminLayout.tsx","../../src/pages/AdminDashboard.tsx","../../src/components/AdminProtectedRoute.tsx","../../src/utils/timeouts.ts","../../src/pages/AdminProducts.tsx","../../src/pages/AdminUsers.tsx","../../src/pages/AdminOrders.tsx","../../src/utils/slugify.ts","../../src/pages/AdminCategories.tsx","../../src/pages/AdminContacts.tsx","../../src/pages/PrivacyPolicy.tsx","../../src/pages/TermsOfService.tsx","../../src/hooks/useScrollToTop.ts","../../src/components/AccessibilityChecker.tsx","../../src/App.tsx","../../src/utils/security.ts","../../src/main.tsx"],"sourcesContent":["/**\n * @license React\n * react-jsx-runtime.production.min.js\n *\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n'use strict';var f=require(\"react\"),k=Symbol.for(\"react.element\"),l=Symbol.for(\"react.fragment\"),m=Object.prototype.hasOwnProperty,n=f.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,p={key:!0,ref:!0,__self:!0,__source:!0};\nfunction q(c,a,g){var b,d={},e=null,h=null;void 0!==g&&(e=\"\"+g);void 0!==a.key&&(e=\"\"+a.key);void 0!==a.ref&&(h=a.ref);for(b in a)m.call(a,b)&&!p.hasOwnProperty(b)&&(d[b]=a[b]);if(c&&c.defaultProps)for(b in a=c.defaultProps,a)void 0===d[b]&&(d[b]=a[b]);return{$$typeof:k,type:c,key:e,ref:h,props:d,_owner:n.current}}exports.Fragment=l;exports.jsx=q;exports.jsxs=q;\n","'use strict';\n\nif (process.env.NODE_ENV === 'production') {\n  module.exports = require('./cjs/react-jsx-runtime.production.min.js');\n} else {\n  module.exports = require('./cjs/react-jsx-runtime.development.js');\n}\n","'use strict';\n\nvar m = require('react-dom');\nif (process.env.NODE_ENV === 'production') {\n  exports.createRoot = m.createRoot;\n  exports.hydrateRoot = m.hydrateRoot;\n} else {\n  var i = m.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;\n  exports.createRoot = function(c, o) {\n    i.usingClientEntryPoint = true;\n    try {\n      return m.createRoot(c, o);\n    } finally {\n      i.usingClientEntryPoint = false;\n    }\n  };\n  exports.hydrateRoot = function(c, h, o) {\n    i.usingClientEntryPoint = true;\n    try {\n      return m.hydrateRoot(c, h, o);\n    } finally {\n      i.usingClientEntryPoint = false;\n    }\n  };\n}\n","/* global Map:readonly, Set:readonly, ArrayBuffer:readonly */\n\nvar hasElementType = typeof Element !== 'undefined';\nvar hasMap = typeof Map === 'function';\nvar hasSet = typeof Set === 'function';\nvar hasArrayBuffer = typeof ArrayBuffer === 'function' && !!ArrayBuffer.isView;\n\n// Note: We **don't** need `envHasBigInt64Array` in fde es6/index.js\n\nfunction equal(a, b) {\n  // START: fast-deep-equal es6/index.js 3.1.3\n  if (a === b) return true;\n\n  if (a && b && typeof a == 'object' && typeof b == 'object') {\n    if (a.constructor !== b.constructor) return false;\n\n    var length, i, keys;\n    if (Array.isArray(a)) {\n      length = a.length;\n      if (length != b.length) return false;\n      for (i = length; i-- !== 0;)\n        if (!equal(a[i], b[i])) return false;\n      return true;\n    }\n\n    // START: Modifications:\n    // 1. Extra `has<Type> &&` helpers in initial condition allow es6 code\n    //    to co-exist with es5.\n    // 2. Replace `for of` with es5 compliant iteration using `for`.\n    //    Basically, take:\n    //\n    //    ```js\n    //    for (i of a.entries())\n    //      if (!b.has(i[0])) return false;\n    //    ```\n    //\n    //    ... and convert to:\n    //\n    //    ```js\n    //    it = a.entries();\n    //    while (!(i = it.next()).done)\n    //      if (!b.has(i.value[0])) return false;\n    //    ```\n    //\n    //    **Note**: `i` access switches to `i.value`.\n    var it;\n    if (hasMap && (a instanceof Map) && (b instanceof Map)) {\n      if (a.size !== b.size) return false;\n      it = a.entries();\n      while (!(i = it.next()).done)\n        if (!b.has(i.value[0])) return false;\n      it = a.entries();\n      while (!(i = it.next()).done)\n        if (!equal(i.value[1], b.get(i.value[0]))) return false;\n      return true;\n    }\n\n    if (hasSet && (a instanceof Set) && (b instanceof Set)) {\n      if (a.size !== b.size) return false;\n      it = a.entries();\n      while (!(i = it.next()).done)\n        if (!b.has(i.value[0])) return false;\n      return true;\n    }\n    // END: Modifications\n\n    if (hasArrayBuffer && ArrayBuffer.isView(a) && ArrayBuffer.isView(b)) {\n      length = a.length;\n      if (length != b.length) return false;\n      for (i = length; i-- !== 0;)\n        if (a[i] !== b[i]) return false;\n      return true;\n    }\n\n    if (a.constructor === RegExp) return a.source === b.source && a.flags === b.flags;\n    // START: Modifications:\n    // Apply guards for `Object.create(null)` handling. See:\n    // - https://github.com/FormidableLabs/react-fast-compare/issues/64\n    // - https://github.com/epoberezkin/fast-deep-equal/issues/49\n    if (a.valueOf !== Object.prototype.valueOf && typeof a.valueOf === 'function' && typeof b.valueOf === 'function') return a.valueOf() === b.valueOf();\n    if (a.toString !== Object.prototype.toString && typeof a.toString === 'function' && typeof b.toString === 'function') return a.toString() === b.toString();\n    // END: Modifications\n\n    keys = Object.keys(a);\n    length = keys.length;\n    if (length !== Object.keys(b).length) return false;\n\n    for (i = length; i-- !== 0;)\n      if (!Object.prototype.hasOwnProperty.call(b, keys[i])) return false;\n    // END: fast-deep-equal\n\n    // START: react-fast-compare\n    // custom handling for DOM elements\n    if (hasElementType && a instanceof Element) return false;\n\n    // custom handling for React/Preact\n    for (i = length; i-- !== 0;) {\n      if ((keys[i] === '_owner' || keys[i] === '__v' || keys[i] === '__o') && a.$$typeof) {\n        // React-specific: avoid traversing React elements' _owner\n        // Preact-specific: avoid traversing Preact elements' __v and __o\n        //    __v = $_original / $_vnode\n        //    __o = $_owner\n        // These properties contain circular references and are not needed when\n        // comparing the actual elements (and not their owners)\n        // .$$typeof and ._store on just reasonable markers of elements\n\n        continue;\n      }\n\n      // all other properties should be traversed as usual\n      if (!equal(a[keys[i]], b[keys[i]])) return false;\n    }\n    // END: react-fast-compare\n\n    // START: fast-deep-equal\n    return true;\n  }\n\n  return a !== a && b !== b;\n}\n// end fast-deep-equal\n\nmodule.exports = function isEqual(a, b) {\n  try {\n    return equal(a, b);\n  } catch (error) {\n    if (((error.message || '').match(/stack|recursion/i))) {\n      // warn on circular references, don't crash\n      // browsers give this different errors name and messages:\n      // chrome/safari: \"RangeError\", \"Maximum call stack size exceeded\"\n      // firefox: \"InternalError\", too much recursion\"\n      // edge: \"Error\", \"Out of stack space\"\n      console.warn('react-fast-compare cannot handle circular refs');\n      return false;\n    }\n    // some other error. we should definitely know about these\n    throw error;\n  }\n};\n","/**\n * Copyright (c) 2013-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\n'use strict';\n\n/**\n * Use invariant() to assert state which your program assumes to be true.\n *\n * Provide sprintf-style format (only %s is supported) and arguments\n * to provide information about what broke and what you were\n * expecting.\n *\n * The invariant message will be stripped in production, but the invariant\n * will remain to ensure logic does not differ in production.\n */\n\nvar invariant = function(condition, format, a, b, c, d, e, f) {\n  if (process.env.NODE_ENV !== 'production') {\n    if (format === undefined) {\n      throw new Error('invariant requires an error message argument');\n    }\n  }\n\n  if (!condition) {\n    var error;\n    if (format === undefined) {\n      error = new Error(\n        'Minified exception occurred; use the non-minified dev environment ' +\n        'for the full error message and additional helpful warnings.'\n      );\n    } else {\n      var args = [a, b, c, d, e, f];\n      var argIndex = 0;\n      error = new Error(\n        format.replace(/%s/g, function() { return args[argIndex++]; })\n      );\n      error.name = 'Invariant Violation';\n    }\n\n    error.framesToPop = 1; // we don't care about invariant's own frame\n    throw error;\n  }\n};\n\nmodule.exports = invariant;\n","//\n\nmodule.exports = function shallowEqual(objA, objB, compare, compareContext) {\n  var ret = compare ? compare.call(compareContext, objA, objB) : void 0;\n\n  if (ret !== void 0) {\n    return !!ret;\n  }\n\n  if (objA === objB) {\n    return true;\n  }\n\n  if (typeof objA !== \"object\" || !objA || typeof objB !== \"object\" || !objB) {\n    return false;\n  }\n\n  var keysA = Object.keys(objA);\n  var keysB = Object.keys(objB);\n\n  if (keysA.length !== keysB.length) {\n    return false;\n  }\n\n  var bHasOwnProperty = Object.prototype.hasOwnProperty.bind(objB);\n\n  // Test for A's keys different from B.\n  for (var idx = 0; idx < keysA.length; idx++) {\n    var key = keysA[idx];\n\n    if (!bHasOwnProperty(key)) {\n      return false;\n    }\n\n    var valueA = objA[key];\n    var valueB = objB[key];\n\n    ret = compare ? compare.call(compareContext, valueA, valueB, key) : void 0;\n\n    if (ret === false || (ret === void 0 && valueA !== valueB)) {\n      return false;\n    }\n  }\n\n  return true;\n};\n","// src/index.tsx\nimport React3, { Component as Component3 } from \"react\";\nimport fastCompare from \"react-fast-compare\";\nimport invariant from \"invariant\";\n\n// src/Provider.tsx\nimport React2, { Component } from \"react\";\n\n// src/server.ts\nimport React from \"react\";\n\n// src/constants.ts\nvar TAG_NAMES = /* @__PURE__ */ ((TAG_NAMES2) => {\n  TAG_NAMES2[\"BASE\"] = \"base\";\n  TAG_NAMES2[\"BODY\"] = \"body\";\n  TAG_NAMES2[\"HEAD\"] = \"head\";\n  TAG_NAMES2[\"HTML\"] = \"html\";\n  TAG_NAMES2[\"LINK\"] = \"link\";\n  TAG_NAMES2[\"META\"] = \"meta\";\n  TAG_NAMES2[\"NOSCRIPT\"] = \"noscript\";\n  TAG_NAMES2[\"SCRIPT\"] = \"script\";\n  TAG_NAMES2[\"STYLE\"] = \"style\";\n  TAG_NAMES2[\"TITLE\"] = \"title\";\n  TAG_NAMES2[\"FRAGMENT\"] = \"Symbol(react.fragment)\";\n  return TAG_NAMES2;\n})(TAG_NAMES || {});\nvar SEO_PRIORITY_TAGS = {\n  link: { rel: [\"amphtml\", \"canonical\", \"alternate\"] },\n  script: { type: [\"application/ld+json\"] },\n  meta: {\n    charset: \"\",\n    name: [\"generator\", \"robots\", \"description\"],\n    property: [\n      \"og:type\",\n      \"og:title\",\n      \"og:url\",\n      \"og:image\",\n      \"og:image:alt\",\n      \"og:description\",\n      \"twitter:url\",\n      \"twitter:title\",\n      \"twitter:description\",\n      \"twitter:image\",\n      \"twitter:image:alt\",\n      \"twitter:card\",\n      \"twitter:site\"\n    ]\n  }\n};\nvar VALID_TAG_NAMES = Object.values(TAG_NAMES);\nvar REACT_TAG_MAP = {\n  accesskey: \"accessKey\",\n  charset: \"charSet\",\n  class: \"className\",\n  contenteditable: \"contentEditable\",\n  contextmenu: \"contextMenu\",\n  \"http-equiv\": \"httpEquiv\",\n  itemprop: \"itemProp\",\n  tabindex: \"tabIndex\"\n};\nvar HTML_TAG_MAP = Object.entries(REACT_TAG_MAP).reduce(\n  (carry, [key, value]) => {\n    carry[value] = key;\n    return carry;\n  },\n  {}\n);\nvar HELMET_ATTRIBUTE = \"data-rh\";\n\n// src/utils.ts\nvar HELMET_PROPS = {\n  DEFAULT_TITLE: \"defaultTitle\",\n  DEFER: \"defer\",\n  ENCODE_SPECIAL_CHARACTERS: \"encodeSpecialCharacters\",\n  ON_CHANGE_CLIENT_STATE: \"onChangeClientState\",\n  TITLE_TEMPLATE: \"titleTemplate\",\n  PRIORITIZE_SEO_TAGS: \"prioritizeSeoTags\"\n};\nvar getInnermostProperty = (propsList, property) => {\n  for (let i = propsList.length - 1; i >= 0; i -= 1) {\n    const props = propsList[i];\n    if (Object.prototype.hasOwnProperty.call(props, property)) {\n      return props[property];\n    }\n  }\n  return null;\n};\nvar getTitleFromPropsList = (propsList) => {\n  let innermostTitle = getInnermostProperty(propsList, \"title\" /* TITLE */);\n  const innermostTemplate = getInnermostProperty(propsList, HELMET_PROPS.TITLE_TEMPLATE);\n  if (Array.isArray(innermostTitle)) {\n    innermostTitle = innermostTitle.join(\"\");\n  }\n  if (innermostTemplate && innermostTitle) {\n    return innermostTemplate.replace(/%s/g, () => innermostTitle);\n  }\n  const innermostDefaultTitle = getInnermostProperty(propsList, HELMET_PROPS.DEFAULT_TITLE);\n  return innermostTitle || innermostDefaultTitle || void 0;\n};\nvar getOnChangeClientState = (propsList) => getInnermostProperty(propsList, HELMET_PROPS.ON_CHANGE_CLIENT_STATE) || (() => {\n});\nvar getAttributesFromPropsList = (tagType, propsList) => propsList.filter((props) => typeof props[tagType] !== \"undefined\").map((props) => props[tagType]).reduce((tagAttrs, current) => ({ ...tagAttrs, ...current }), {});\nvar getBaseTagFromPropsList = (primaryAttributes, propsList) => propsList.filter((props) => typeof props[\"base\" /* BASE */] !== \"undefined\").map((props) => props[\"base\" /* BASE */]).reverse().reduce((innermostBaseTag, tag) => {\n  if (!innermostBaseTag.length) {\n    const keys = Object.keys(tag);\n    for (let i = 0; i < keys.length; i += 1) {\n      const attributeKey = keys[i];\n      const lowerCaseAttributeKey = attributeKey.toLowerCase();\n      if (primaryAttributes.indexOf(lowerCaseAttributeKey) !== -1 && tag[lowerCaseAttributeKey]) {\n        return innermostBaseTag.concat(tag);\n      }\n    }\n  }\n  return innermostBaseTag;\n}, []);\nvar warn = (msg) => console && typeof console.warn === \"function\" && console.warn(msg);\nvar getTagsFromPropsList = (tagName, primaryAttributes, propsList) => {\n  const approvedSeenTags = {};\n  return propsList.filter((props) => {\n    if (Array.isArray(props[tagName])) {\n      return true;\n    }\n    if (typeof props[tagName] !== \"undefined\") {\n      warn(\n        `Helmet: ${tagName} should be of type \"Array\". Instead found type \"${typeof props[tagName]}\"`\n      );\n    }\n    return false;\n  }).map((props) => props[tagName]).reverse().reduce((approvedTags, instanceTags) => {\n    const instanceSeenTags = {};\n    instanceTags.filter((tag) => {\n      let primaryAttributeKey;\n      const keys2 = Object.keys(tag);\n      for (let i = 0; i < keys2.length; i += 1) {\n        const attributeKey = keys2[i];\n        const lowerCaseAttributeKey = attributeKey.toLowerCase();\n        if (primaryAttributes.indexOf(lowerCaseAttributeKey) !== -1 && !(primaryAttributeKey === \"rel\" /* REL */ && tag[primaryAttributeKey].toLowerCase() === \"canonical\") && !(lowerCaseAttributeKey === \"rel\" /* REL */ && tag[lowerCaseAttributeKey].toLowerCase() === \"stylesheet\")) {\n          primaryAttributeKey = lowerCaseAttributeKey;\n        }\n        if (primaryAttributes.indexOf(attributeKey) !== -1 && (attributeKey === \"innerHTML\" /* INNER_HTML */ || attributeKey === \"cssText\" /* CSS_TEXT */ || attributeKey === \"itemprop\" /* ITEM_PROP */)) {\n          primaryAttributeKey = attributeKey;\n        }\n      }\n      if (!primaryAttributeKey || !tag[primaryAttributeKey]) {\n        return false;\n      }\n      const value = tag[primaryAttributeKey].toLowerCase();\n      if (!approvedSeenTags[primaryAttributeKey]) {\n        approvedSeenTags[primaryAttributeKey] = {};\n      }\n      if (!instanceSeenTags[primaryAttributeKey]) {\n        instanceSeenTags[primaryAttributeKey] = {};\n      }\n      if (!approvedSeenTags[primaryAttributeKey][value]) {\n        instanceSeenTags[primaryAttributeKey][value] = true;\n        return true;\n      }\n      return false;\n    }).reverse().forEach((tag) => approvedTags.push(tag));\n    const keys = Object.keys(instanceSeenTags);\n    for (let i = 0; i < keys.length; i += 1) {\n      const attributeKey = keys[i];\n      const tagUnion = {\n        ...approvedSeenTags[attributeKey],\n        ...instanceSeenTags[attributeKey]\n      };\n      approvedSeenTags[attributeKey] = tagUnion;\n    }\n    return approvedTags;\n  }, []).reverse();\n};\nvar getAnyTrueFromPropsList = (propsList, checkedTag) => {\n  if (Array.isArray(propsList) && propsList.length) {\n    for (let index = 0; index < propsList.length; index += 1) {\n      const prop = propsList[index];\n      if (prop[checkedTag]) {\n        return true;\n      }\n    }\n  }\n  return false;\n};\nvar reducePropsToState = (propsList) => ({\n  baseTag: getBaseTagFromPropsList([\"href\" /* HREF */], propsList),\n  bodyAttributes: getAttributesFromPropsList(\"bodyAttributes\" /* BODY */, propsList),\n  defer: getInnermostProperty(propsList, HELMET_PROPS.DEFER),\n  encode: getInnermostProperty(propsList, HELMET_PROPS.ENCODE_SPECIAL_CHARACTERS),\n  htmlAttributes: getAttributesFromPropsList(\"htmlAttributes\" /* HTML */, propsList),\n  linkTags: getTagsFromPropsList(\n    \"link\" /* LINK */,\n    [\"rel\" /* REL */, \"href\" /* HREF */],\n    propsList\n  ),\n  metaTags: getTagsFromPropsList(\n    \"meta\" /* META */,\n    [\n      \"name\" /* NAME */,\n      \"charset\" /* CHARSET */,\n      \"http-equiv\" /* HTTPEQUIV */,\n      \"property\" /* PROPERTY */,\n      \"itemprop\" /* ITEM_PROP */\n    ],\n    propsList\n  ),\n  noscriptTags: getTagsFromPropsList(\"noscript\" /* NOSCRIPT */, [\"innerHTML\" /* INNER_HTML */], propsList),\n  onChangeClientState: getOnChangeClientState(propsList),\n  scriptTags: getTagsFromPropsList(\n    \"script\" /* SCRIPT */,\n    [\"src\" /* SRC */, \"innerHTML\" /* INNER_HTML */],\n    propsList\n  ),\n  styleTags: getTagsFromPropsList(\"style\" /* STYLE */, [\"cssText\" /* CSS_TEXT */], propsList),\n  title: getTitleFromPropsList(propsList),\n  titleAttributes: getAttributesFromPropsList(\"titleAttributes\" /* TITLE */, propsList),\n  prioritizeSeoTags: getAnyTrueFromPropsList(propsList, HELMET_PROPS.PRIORITIZE_SEO_TAGS)\n});\nvar flattenArray = (possibleArray) => Array.isArray(possibleArray) ? possibleArray.join(\"\") : possibleArray;\nvar checkIfPropsMatch = (props, toMatch) => {\n  const keys = Object.keys(props);\n  for (let i = 0; i < keys.length; i += 1) {\n    if (toMatch[keys[i]] && toMatch[keys[i]].includes(props[keys[i]])) {\n      return true;\n    }\n  }\n  return false;\n};\nvar prioritizer = (elementsList, propsToMatch) => {\n  if (Array.isArray(elementsList)) {\n    return elementsList.reduce(\n      (acc, elementAttrs) => {\n        if (checkIfPropsMatch(elementAttrs, propsToMatch)) {\n          acc.priority.push(elementAttrs);\n        } else {\n          acc.default.push(elementAttrs);\n        }\n        return acc;\n      },\n      { priority: [], default: [] }\n    );\n  }\n  return { default: elementsList, priority: [] };\n};\nvar without = (obj, key) => {\n  return {\n    ...obj,\n    [key]: void 0\n  };\n};\n\n// src/server.ts\nvar SELF_CLOSING_TAGS = [\"noscript\" /* NOSCRIPT */, \"script\" /* SCRIPT */, \"style\" /* STYLE */];\nvar encodeSpecialCharacters = (str, encode = true) => {\n  if (encode === false) {\n    return String(str);\n  }\n  return String(str).replace(/&/g, \"&amp;\").replace(/</g, \"&lt;\").replace(/>/g, \"&gt;\").replace(/\"/g, \"&quot;\").replace(/'/g, \"&#x27;\");\n};\nvar generateElementAttributesAsString = (attributes) => Object.keys(attributes).reduce((str, key) => {\n  const attr = typeof attributes[key] !== \"undefined\" ? `${key}=\"${attributes[key]}\"` : `${key}`;\n  return str ? `${str} ${attr}` : attr;\n}, \"\");\nvar generateTitleAsString = (type, title, attributes, encode) => {\n  const attributeString = generateElementAttributesAsString(attributes);\n  const flattenedTitle = flattenArray(title);\n  return attributeString ? `<${type} ${HELMET_ATTRIBUTE}=\"true\" ${attributeString}>${encodeSpecialCharacters(\n    flattenedTitle,\n    encode\n  )}</${type}>` : `<${type} ${HELMET_ATTRIBUTE}=\"true\">${encodeSpecialCharacters(\n    flattenedTitle,\n    encode\n  )}</${type}>`;\n};\nvar generateTagsAsString = (type, tags, encode = true) => tags.reduce((str, t) => {\n  const tag = t;\n  const attributeHtml = Object.keys(tag).filter(\n    (attribute) => !(attribute === \"innerHTML\" /* INNER_HTML */ || attribute === \"cssText\" /* CSS_TEXT */)\n  ).reduce((string, attribute) => {\n    const attr = typeof tag[attribute] === \"undefined\" ? attribute : `${attribute}=\"${encodeSpecialCharacters(tag[attribute], encode)}\"`;\n    return string ? `${string} ${attr}` : attr;\n  }, \"\");\n  const tagContent = tag.innerHTML || tag.cssText || \"\";\n  const isSelfClosing = SELF_CLOSING_TAGS.indexOf(type) === -1;\n  return `${str}<${type} ${HELMET_ATTRIBUTE}=\"true\" ${attributeHtml}${isSelfClosing ? `/>` : `>${tagContent}</${type}>`}`;\n}, \"\");\nvar convertElementAttributesToReactProps = (attributes, initProps = {}) => Object.keys(attributes).reduce((obj, key) => {\n  const mapped = REACT_TAG_MAP[key];\n  obj[mapped || key] = attributes[key];\n  return obj;\n}, initProps);\nvar generateTitleAsReactComponent = (_type, title, attributes) => {\n  const initProps = {\n    key: title,\n    [HELMET_ATTRIBUTE]: true\n  };\n  const props = convertElementAttributesToReactProps(attributes, initProps);\n  return [React.createElement(\"title\" /* TITLE */, props, title)];\n};\nvar generateTagsAsReactComponent = (type, tags) => tags.map((tag, i) => {\n  const mappedTag = {\n    key: i,\n    [HELMET_ATTRIBUTE]: true\n  };\n  Object.keys(tag).forEach((attribute) => {\n    const mapped = REACT_TAG_MAP[attribute];\n    const mappedAttribute = mapped || attribute;\n    if (mappedAttribute === \"innerHTML\" /* INNER_HTML */ || mappedAttribute === \"cssText\" /* CSS_TEXT */) {\n      const content = tag.innerHTML || tag.cssText;\n      mappedTag.dangerouslySetInnerHTML = { __html: content };\n    } else {\n      mappedTag[mappedAttribute] = tag[attribute];\n    }\n  });\n  return React.createElement(type, mappedTag);\n});\nvar getMethodsForTag = (type, tags, encode = true) => {\n  switch (type) {\n    case \"title\" /* TITLE */:\n      return {\n        toComponent: () => generateTitleAsReactComponent(type, tags.title, tags.titleAttributes),\n        toString: () => generateTitleAsString(type, tags.title, tags.titleAttributes, encode)\n      };\n    case \"bodyAttributes\" /* BODY */:\n    case \"htmlAttributes\" /* HTML */:\n      return {\n        toComponent: () => convertElementAttributesToReactProps(tags),\n        toString: () => generateElementAttributesAsString(tags)\n      };\n    default:\n      return {\n        toComponent: () => generateTagsAsReactComponent(type, tags),\n        toString: () => generateTagsAsString(type, tags, encode)\n      };\n  }\n};\nvar getPriorityMethods = ({ metaTags, linkTags, scriptTags, encode }) => {\n  const meta = prioritizer(metaTags, SEO_PRIORITY_TAGS.meta);\n  const link = prioritizer(linkTags, SEO_PRIORITY_TAGS.link);\n  const script = prioritizer(scriptTags, SEO_PRIORITY_TAGS.script);\n  const priorityMethods = {\n    toComponent: () => [\n      ...generateTagsAsReactComponent(\"meta\" /* META */, meta.priority),\n      ...generateTagsAsReactComponent(\"link\" /* LINK */, link.priority),\n      ...generateTagsAsReactComponent(\"script\" /* SCRIPT */, script.priority)\n    ],\n    toString: () => (\n      // generate all the tags as strings and concatenate them\n      `${getMethodsForTag(\"meta\" /* META */, meta.priority, encode)} ${getMethodsForTag(\n        \"link\" /* LINK */,\n        link.priority,\n        encode\n      )} ${getMethodsForTag(\"script\" /* SCRIPT */, script.priority, encode)}`\n    )\n  };\n  return {\n    priorityMethods,\n    metaTags: meta.default,\n    linkTags: link.default,\n    scriptTags: script.default\n  };\n};\nvar mapStateOnServer = (props) => {\n  const {\n    baseTag,\n    bodyAttributes,\n    encode = true,\n    htmlAttributes,\n    noscriptTags,\n    styleTags,\n    title = \"\",\n    titleAttributes,\n    prioritizeSeoTags\n  } = props;\n  let { linkTags, metaTags, scriptTags } = props;\n  let priorityMethods = {\n    toComponent: () => {\n    },\n    toString: () => \"\"\n  };\n  if (prioritizeSeoTags) {\n    ({ priorityMethods, linkTags, metaTags, scriptTags } = getPriorityMethods(props));\n  }\n  return {\n    priority: priorityMethods,\n    base: getMethodsForTag(\"base\" /* BASE */, baseTag, encode),\n    bodyAttributes: getMethodsForTag(\"bodyAttributes\" /* BODY */, bodyAttributes, encode),\n    htmlAttributes: getMethodsForTag(\"htmlAttributes\" /* HTML */, htmlAttributes, encode),\n    link: getMethodsForTag(\"link\" /* LINK */, linkTags, encode),\n    meta: getMethodsForTag(\"meta\" /* META */, metaTags, encode),\n    noscript: getMethodsForTag(\"noscript\" /* NOSCRIPT */, noscriptTags, encode),\n    script: getMethodsForTag(\"script\" /* SCRIPT */, scriptTags, encode),\n    style: getMethodsForTag(\"style\" /* STYLE */, styleTags, encode),\n    title: getMethodsForTag(\"title\" /* TITLE */, { title, titleAttributes }, encode)\n  };\n};\nvar server_default = mapStateOnServer;\n\n// src/HelmetData.ts\nvar instances = [];\nvar isDocument = !!(typeof window !== \"undefined\" && window.document && window.document.createElement);\nvar HelmetData = class {\n  instances = [];\n  canUseDOM = isDocument;\n  context;\n  value = {\n    setHelmet: (serverState) => {\n      this.context.helmet = serverState;\n    },\n    helmetInstances: {\n      get: () => this.canUseDOM ? instances : this.instances,\n      add: (instance) => {\n        (this.canUseDOM ? instances : this.instances).push(instance);\n      },\n      remove: (instance) => {\n        const index = (this.canUseDOM ? instances : this.instances).indexOf(instance);\n        (this.canUseDOM ? instances : this.instances).splice(index, 1);\n      }\n    }\n  };\n  constructor(context, canUseDOM) {\n    this.context = context;\n    this.canUseDOM = canUseDOM || false;\n    if (!canUseDOM) {\n      context.helmet = server_default({\n        baseTag: [],\n        bodyAttributes: {},\n        encodeSpecialCharacters: true,\n        htmlAttributes: {},\n        linkTags: [],\n        metaTags: [],\n        noscriptTags: [],\n        scriptTags: [],\n        styleTags: [],\n        title: \"\",\n        titleAttributes: {}\n      });\n    }\n  }\n};\n\n// src/Provider.tsx\nvar defaultValue = {};\nvar Context = React2.createContext(defaultValue);\nvar HelmetProvider = class _HelmetProvider extends Component {\n  static canUseDOM = isDocument;\n  helmetData;\n  constructor(props) {\n    super(props);\n    this.helmetData = new HelmetData(this.props.context || {}, _HelmetProvider.canUseDOM);\n  }\n  render() {\n    return /* @__PURE__ */ React2.createElement(Context.Provider, { value: this.helmetData.value }, this.props.children);\n  }\n};\n\n// src/Dispatcher.tsx\nimport { Component as Component2 } from \"react\";\nimport shallowEqual from \"shallowequal\";\n\n// src/client.ts\nvar updateTags = (type, tags) => {\n  const headElement = document.head || document.querySelector(\"head\" /* HEAD */);\n  const tagNodes = headElement.querySelectorAll(`${type}[${HELMET_ATTRIBUTE}]`);\n  const oldTags = [].slice.call(tagNodes);\n  const newTags = [];\n  let indexToDelete;\n  if (tags && tags.length) {\n    tags.forEach((tag) => {\n      const newElement = document.createElement(type);\n      for (const attribute in tag) {\n        if (Object.prototype.hasOwnProperty.call(tag, attribute)) {\n          if (attribute === \"innerHTML\" /* INNER_HTML */) {\n            newElement.innerHTML = tag.innerHTML;\n          } else if (attribute === \"cssText\" /* CSS_TEXT */) {\n            if (newElement.styleSheet) {\n              newElement.styleSheet.cssText = tag.cssText;\n            } else {\n              newElement.appendChild(document.createTextNode(tag.cssText));\n            }\n          } else {\n            const attr = attribute;\n            const value = typeof tag[attr] === \"undefined\" ? \"\" : tag[attr];\n            newElement.setAttribute(attribute, value);\n          }\n        }\n      }\n      newElement.setAttribute(HELMET_ATTRIBUTE, \"true\");\n      if (oldTags.some((existingTag, index) => {\n        indexToDelete = index;\n        return newElement.isEqualNode(existingTag);\n      })) {\n        oldTags.splice(indexToDelete, 1);\n      } else {\n        newTags.push(newElement);\n      }\n    });\n  }\n  oldTags.forEach((tag) => tag.parentNode?.removeChild(tag));\n  newTags.forEach((tag) => headElement.appendChild(tag));\n  return {\n    oldTags,\n    newTags\n  };\n};\nvar updateAttributes = (tagName, attributes) => {\n  const elementTag = document.getElementsByTagName(tagName)[0];\n  if (!elementTag) {\n    return;\n  }\n  const helmetAttributeString = elementTag.getAttribute(HELMET_ATTRIBUTE);\n  const helmetAttributes = helmetAttributeString ? helmetAttributeString.split(\",\") : [];\n  const attributesToRemove = [...helmetAttributes];\n  const attributeKeys = Object.keys(attributes);\n  for (const attribute of attributeKeys) {\n    const value = attributes[attribute] || \"\";\n    if (elementTag.getAttribute(attribute) !== value) {\n      elementTag.setAttribute(attribute, value);\n    }\n    if (helmetAttributes.indexOf(attribute) === -1) {\n      helmetAttributes.push(attribute);\n    }\n    const indexToSave = attributesToRemove.indexOf(attribute);\n    if (indexToSave !== -1) {\n      attributesToRemove.splice(indexToSave, 1);\n    }\n  }\n  for (let i = attributesToRemove.length - 1; i >= 0; i -= 1) {\n    elementTag.removeAttribute(attributesToRemove[i]);\n  }\n  if (helmetAttributes.length === attributesToRemove.length) {\n    elementTag.removeAttribute(HELMET_ATTRIBUTE);\n  } else if (elementTag.getAttribute(HELMET_ATTRIBUTE) !== attributeKeys.join(\",\")) {\n    elementTag.setAttribute(HELMET_ATTRIBUTE, attributeKeys.join(\",\"));\n  }\n};\nvar updateTitle = (title, attributes) => {\n  if (typeof title !== \"undefined\" && document.title !== title) {\n    document.title = flattenArray(title);\n  }\n  updateAttributes(\"title\" /* TITLE */, attributes);\n};\nvar commitTagChanges = (newState, cb) => {\n  const {\n    baseTag,\n    bodyAttributes,\n    htmlAttributes,\n    linkTags,\n    metaTags,\n    noscriptTags,\n    onChangeClientState,\n    scriptTags,\n    styleTags,\n    title,\n    titleAttributes\n  } = newState;\n  updateAttributes(\"body\" /* BODY */, bodyAttributes);\n  updateAttributes(\"html\" /* HTML */, htmlAttributes);\n  updateTitle(title, titleAttributes);\n  const tagUpdates = {\n    baseTag: updateTags(\"base\" /* BASE */, baseTag),\n    linkTags: updateTags(\"link\" /* LINK */, linkTags),\n    metaTags: updateTags(\"meta\" /* META */, metaTags),\n    noscriptTags: updateTags(\"noscript\" /* NOSCRIPT */, noscriptTags),\n    scriptTags: updateTags(\"script\" /* SCRIPT */, scriptTags),\n    styleTags: updateTags(\"style\" /* STYLE */, styleTags)\n  };\n  const addedTags = {};\n  const removedTags = {};\n  Object.keys(tagUpdates).forEach((tagType) => {\n    const { newTags, oldTags } = tagUpdates[tagType];\n    if (newTags.length) {\n      addedTags[tagType] = newTags;\n    }\n    if (oldTags.length) {\n      removedTags[tagType] = tagUpdates[tagType].oldTags;\n    }\n  });\n  if (cb) {\n    cb();\n  }\n  onChangeClientState(newState, addedTags, removedTags);\n};\nvar _helmetCallback = null;\nvar handleStateChangeOnClient = (newState) => {\n  if (_helmetCallback) {\n    cancelAnimationFrame(_helmetCallback);\n  }\n  if (newState.defer) {\n    _helmetCallback = requestAnimationFrame(() => {\n      commitTagChanges(newState, () => {\n        _helmetCallback = null;\n      });\n    });\n  } else {\n    commitTagChanges(newState);\n    _helmetCallback = null;\n  }\n};\nvar client_default = handleStateChangeOnClient;\n\n// src/Dispatcher.tsx\nvar HelmetDispatcher = class extends Component2 {\n  rendered = false;\n  shouldComponentUpdate(nextProps) {\n    return !shallowEqual(nextProps, this.props);\n  }\n  componentDidUpdate() {\n    this.emitChange();\n  }\n  componentWillUnmount() {\n    const { helmetInstances } = this.props.context;\n    helmetInstances.remove(this);\n    this.emitChange();\n  }\n  emitChange() {\n    const { helmetInstances, setHelmet } = this.props.context;\n    let serverState = null;\n    const state = reducePropsToState(\n      helmetInstances.get().map((instance) => {\n        const props = { ...instance.props };\n        delete props.context;\n        return props;\n      })\n    );\n    if (HelmetProvider.canUseDOM) {\n      client_default(state);\n    } else if (server_default) {\n      serverState = server_default(state);\n    }\n    setHelmet(serverState);\n  }\n  // componentWillMount will be deprecated\n  // for SSR, initialize on first render\n  // constructor is also unsafe in StrictMode\n  init() {\n    if (this.rendered) {\n      return;\n    }\n    this.rendered = true;\n    const { helmetInstances } = this.props.context;\n    helmetInstances.add(this);\n    this.emitChange();\n  }\n  render() {\n    this.init();\n    return null;\n  }\n};\n\n// src/index.tsx\nvar Helmet = class extends Component3 {\n  static defaultProps = {\n    defer: true,\n    encodeSpecialCharacters: true,\n    prioritizeSeoTags: false\n  };\n  shouldComponentUpdate(nextProps) {\n    return !fastCompare(without(this.props, \"helmetData\"), without(nextProps, \"helmetData\"));\n  }\n  mapNestedChildrenToProps(child, nestedChildren) {\n    if (!nestedChildren) {\n      return null;\n    }\n    switch (child.type) {\n      case \"script\" /* SCRIPT */:\n      case \"noscript\" /* NOSCRIPT */:\n        return {\n          innerHTML: nestedChildren\n        };\n      case \"style\" /* STYLE */:\n        return {\n          cssText: nestedChildren\n        };\n      default:\n        throw new Error(\n          `<${child.type} /> elements are self-closing and can not contain children. Refer to our API for more information.`\n        );\n    }\n  }\n  flattenArrayTypeChildren(child, arrayTypeChildren, newChildProps, nestedChildren) {\n    return {\n      ...arrayTypeChildren,\n      [child.type]: [\n        ...arrayTypeChildren[child.type] || [],\n        {\n          ...newChildProps,\n          ...this.mapNestedChildrenToProps(child, nestedChildren)\n        }\n      ]\n    };\n  }\n  mapObjectTypeChildren(child, newProps, newChildProps, nestedChildren) {\n    switch (child.type) {\n      case \"title\" /* TITLE */:\n        return {\n          ...newProps,\n          [child.type]: nestedChildren,\n          titleAttributes: { ...newChildProps }\n        };\n      case \"body\" /* BODY */:\n        return {\n          ...newProps,\n          bodyAttributes: { ...newChildProps }\n        };\n      case \"html\" /* HTML */:\n        return {\n          ...newProps,\n          htmlAttributes: { ...newChildProps }\n        };\n      default:\n        return {\n          ...newProps,\n          [child.type]: { ...newChildProps }\n        };\n    }\n  }\n  mapArrayTypeChildrenToProps(arrayTypeChildren, newProps) {\n    let newFlattenedProps = { ...newProps };\n    Object.keys(arrayTypeChildren).forEach((arrayChildName) => {\n      newFlattenedProps = {\n        ...newFlattenedProps,\n        [arrayChildName]: arrayTypeChildren[arrayChildName]\n      };\n    });\n    return newFlattenedProps;\n  }\n  warnOnInvalidChildren(child, nestedChildren) {\n    invariant(\n      VALID_TAG_NAMES.some((name) => child.type === name),\n      typeof child.type === \"function\" ? `You may be attempting to nest <Helmet> components within each other, which is not allowed. Refer to our API for more information.` : `Only elements types ${VALID_TAG_NAMES.join(\n        \", \"\n      )} are allowed. Helmet does not support rendering <${child.type}> elements. Refer to our API for more information.`\n    );\n    invariant(\n      !nestedChildren || typeof nestedChildren === \"string\" || Array.isArray(nestedChildren) && !nestedChildren.some((nestedChild) => typeof nestedChild !== \"string\"),\n      `Helmet expects a string as a child of <${child.type}>. Did you forget to wrap your children in braces? ( <${child.type}>{\\`\\`}</${child.type}> ) Refer to our API for more information.`\n    );\n    return true;\n  }\n  mapChildrenToProps(children, newProps) {\n    let arrayTypeChildren = {};\n    React3.Children.forEach(children, (child) => {\n      if (!child || !child.props) {\n        return;\n      }\n      const { children: nestedChildren, ...childProps } = child.props;\n      const newChildProps = Object.keys(childProps).reduce((obj, key) => {\n        obj[HTML_TAG_MAP[key] || key] = childProps[key];\n        return obj;\n      }, {});\n      let { type } = child;\n      if (typeof type === \"symbol\") {\n        type = type.toString();\n      } else {\n        this.warnOnInvalidChildren(child, nestedChildren);\n      }\n      switch (type) {\n        case \"Symbol(react.fragment)\" /* FRAGMENT */:\n          newProps = this.mapChildrenToProps(nestedChildren, newProps);\n          break;\n        case \"link\" /* LINK */:\n        case \"meta\" /* META */:\n        case \"noscript\" /* NOSCRIPT */:\n        case \"script\" /* SCRIPT */:\n        case \"style\" /* STYLE */:\n          arrayTypeChildren = this.flattenArrayTypeChildren(\n            child,\n            arrayTypeChildren,\n            newChildProps,\n            nestedChildren\n          );\n          break;\n        default:\n          newProps = this.mapObjectTypeChildren(child, newProps, newChildProps, nestedChildren);\n          break;\n      }\n    });\n    return this.mapArrayTypeChildrenToProps(arrayTypeChildren, newProps);\n  }\n  render() {\n    const { children, ...props } = this.props;\n    let newProps = { ...props };\n    let { helmetData } = props;\n    if (children) {\n      newProps = this.mapChildrenToProps(children, newProps);\n    }\n    if (helmetData && !(helmetData instanceof HelmetData)) {\n      const data = helmetData;\n      helmetData = new HelmetData(data.context, true);\n      delete newProps.helmetData;\n    }\n    return helmetData ? /* @__PURE__ */ React3.createElement(HelmetDispatcher, { ...newProps, context: helmetData.value }) : /* @__PURE__ */ React3.createElement(Context.Consumer, null, (context) => /* @__PURE__ */ React3.createElement(HelmetDispatcher, { ...newProps, context }));\n  }\n};\nexport {\n  Helmet,\n  HelmetData,\n  HelmetProvider\n};\n","/**\r\n * Production-safe logging utility\r\n * Only logs in development mode to prevent information leakage\r\n */\r\n\r\nconst isDevelopment = import.meta.env.MODE === 'development'\r\n\r\nexport const logger = {\r\n  debug: (message: string, ...args: any[]) => {\r\n    if (isDevelopment) {\r\n      console.log(`ðŸ› [DEBUG] ${message}`, ...args)\r\n    }\r\n  },\r\n  \r\n  info: (message: string, ...args: any[]) => {\r\n    if (isDevelopment) {\r\n      console.log(`â„¹ï¸ [INFO] ${message}`, ...args)\r\n    }\r\n  },\r\n  \r\n  warn: (message: string, ...args: any[]) => {\r\n    if (isDevelopment) {\r\n      console.warn(`âš ï¸ [WARN] ${message}`, ...args)\r\n    }\r\n  },\r\n  \r\n  error: (message: string, ...args: any[]) => {\r\n    // Always log errors, even in production (for critical issues)\r\n    console.error(`âŒ [ERROR] ${message}`, ...args)\r\n  },\r\n  \r\n  // Security-focused logging - never logs in production\r\n  security: (message: string, ...args: any[]) => {\r\n    if (isDevelopment) {\r\n      console.log(`ðŸ”’ [SECURITY] ${message}`, ...args)\r\n    }\r\n  },\r\n\r\n  // Admin-specific logging\r\n  admin: (message: string, ...args: any[]) => {\r\n    if (isDevelopment) {\r\n      console.log(`ðŸ‘‘ [ADMIN] ${message}`, ...args)\r\n    }\r\n  },\r\n\r\n  // Database-related logging\r\n  db: (message: string, ...args: any[]) => {\r\n    if (isDevelopment) {\r\n      console.log(`ðŸ—„ï¸ [DB] ${message}`, ...args)\r\n    }\r\n  },\r\n\r\n  // Auth-related logging\r\n  auth: (message: string, ...args: any[]) => {\r\n    if (isDevelopment) {\r\n      console.log(`ï¿½ [AUTH] ${message}`, ...args)\r\n    }\r\n  }\r\n}\r\n\r\n// Production build should strip console logs\r\nif (!isDevelopment) {\r\n  // Override console methods to prevent accidental logging\r\n  const noop = () => {}\r\n  console.log = noop\r\n  console.debug = noop\r\n  console.info = noop\r\n  console.warn = noop\r\n  // Keep console.error for critical issues\r\n}\r\n","import { createClient } from '@supabase/supabase-js'\r\nimport type { Database } from './types/database'\r\nimport { logger } from '../utils/logger'\r\n\r\nconst supabaseUrl = import.meta.env.VITE_SUPABASE_URL || ''\r\nconst supabaseAnonKey = import.meta.env.VITE_SUPABASE_ANON_KEY || ''\r\n\r\n\r\n\r\n// Create a fallback client if environment variables are missing\r\nlet supabase: any\r\n\r\nif (!supabaseUrl || !supabaseAnonKey) {\r\n  logger.warn('âš ï¸ Missing Supabase environment variables. Authentication will be disabled.')\r\n  logger.warn('âš ï¸ Expected variables: VITE_SUPABASE_URL, VITE_SUPABASE_ANON_KEY')\r\n  \r\n  // Create a mock client for development\r\n  supabase = {\r\n    auth: {\r\n      getSession: () => Promise.resolve({ data: { session: null }, error: null }),\r\n      signUp: () => Promise.resolve({ data: null, error: new Error('Supabase not configured') }),\r\n      signInWithPassword: () => Promise.resolve({ data: null, error: new Error('Supabase not configured') }),\r\n      signOut: () => Promise.resolve({ error: null }),\r\n      resetPasswordForEmail: () => Promise.resolve({ data: null, error: new Error('Supabase not configured') }),\r\n      updateUser: () => Promise.resolve({ data: null, error: new Error('Supabase not configured') }),\r\n      onAuthStateChange: () => ({ data: { subscription: { unsubscribe: () => {} } } })\r\n    },\r\n    from: () => {\r\n      // Create a mock query chain\r\n      const mockQuery = {\r\n        select: () => mockQuery,\r\n        eq: () => mockQuery,\r\n        order: () => mockQuery,\r\n        limit: () => mockQuery,\r\n        single: () => Promise.resolve({ data: null, error: new Error('Supabase not configured') }),\r\n        insert: () => mockQuery,\r\n        update: () => mockQuery,\r\n        delete: () => mockQuery,\r\n        then: () => Promise.resolve({ data: [], error: null }) // For when used as a promise\r\n      }\r\n      return mockQuery\r\n    }\r\n  }\r\n} else {\r\n  supabase = createClient<Database>(supabaseUrl, supabaseAnonKey, {\r\n    auth: {\r\n      autoRefreshToken: true,\r\n      persistSession: true,\r\n      detectSessionInUrl: true,\r\n      // Disable debug logging to reduce console noise\r\n      debug: false\r\n    }\r\n  })\r\n}\r\n\r\nexport { supabase }\r\n\r\n// Test Supabase connection\r\nsupabase.auth.getSession()\r\n  .then(() => {\r\n    // Connection test complete - handle silently\r\n  })\r\n  .catch(() => {\r\n    // Connection failed - handle silently\r\n  })\r\n\r\n// Auth helpers\r\nexport const signUp = async (email: string, password: string, userData?: any) => {\r\n  const { data, error } = await supabase.auth.signUp({\r\n    email,\r\n    password,\r\n    options: {\r\n      data: userData\r\n    }\r\n  })\r\n  return { data, error }\r\n}\r\n\r\nexport const signIn = async (email: string, password: string) => {\r\n  const { data, error } = await supabase.auth.signInWithPassword({\r\n    email,\r\n    password\r\n  })\r\n  return { data, error }\r\n}\r\n\r\nexport const signOut = async () => {\r\n  const { error } = await supabase.auth.signOut()\r\n  return { error }\r\n}\r\n\r\nexport const getCurrentUser = async () => {\r\n  const { data: { user }, error } = await supabase.auth.getUser()\r\n  return { user, error }\r\n}\r\n\r\n// Database helpers\r\nexport const getProducts = async (category?: string) => {\r\n  // Check if Supabase is properly configured\r\n  if (!supabaseUrl || !supabaseAnonKey) {\r\n    console.warn('âš ï¸ Supabase not configured. Returning empty products.')\r\n    return { data: [], error: null }\r\n  }\r\n\r\n  try {\r\n    let query = supabase\r\n      .from('products')\r\n      .select(`\r\n        *,\r\n        categories!inner(name),\r\n        downloads:download_history(count),\r\n        reviews(rating)\r\n      `)\r\n      .eq('active', true)\r\n      .order('created_at', { ascending: false })\r\n\r\n    if (category && category !== 'all') {\r\n      query = query.eq('categories.slug', category)\r\n    }\r\n\r\n    const { data, error } = await query\r\n    return { data, error }\r\n  } catch (err) {\r\n    logger.error('Error in getProducts:', err)\r\n    return { data: [], error: err }\r\n  }\r\n}\r\n\r\nexport const getFeaturedProducts = async (limit = 3) => {\r\n  // Check if Supabase is properly configured\r\n  if (!supabaseUrl || !supabaseAnonKey) {\r\n    logger.warn('âš ï¸ Supabase not configured. Returning empty featured products.')\r\n    return { data: [], error: null }\r\n  }\r\n\r\n  try {\r\n    const { data, error } = await supabase\r\n      .from('products')\r\n      .select(`\r\n        *,\r\n        categories(name, slug),\r\n        downloads:download_history(count),\r\n        reviews(rating)\r\n      `)\r\n      .eq('active', true)\r\n      .eq('featured', true)\r\n      .order('created_at', { ascending: false })\r\n      .limit(limit)\r\n\r\n    return { data, error }\r\n  } catch (err) {\r\n    logger.error('Error in getFeaturedProducts:', err)\r\n    return { data: [], error: err }\r\n  }\r\n}\r\n\r\nexport const getProduct = async (id: string) => {\r\n  const { data, error } = await supabase\r\n    .from('products')\r\n    .select(`\r\n      *,\r\n      categories(name, slug),\r\n      downloads:download_history(count),\r\n      reviews(rating, comment, user_profiles(full_name))\r\n    `)\r\n    .eq('id', id)\r\n    .eq('active', true)\r\n    .single()\r\n\r\n  return { data, error }\r\n}\r\n\r\nexport const createDownload = async (productId: string, userId: string) => {\r\n  const { data, error } = await supabase\r\n    .from('download_history')\r\n    .insert({\r\n      product_id: productId,\r\n      user_id: userId,\r\n      downloaded_at: new Date().toISOString()\r\n    })\r\n    .select()\r\n    .single()\r\n\r\n  return { data, error }\r\n}\r\n\r\nexport const createReview = async (productId: string, userId: string, rating: number, comment?: string) => {\r\n  const { data, error } = await supabase\r\n    .from('reviews')\r\n    .insert({\r\n      product_id: productId,\r\n      user_id: userId,\r\n      rating,\r\n      comment\r\n    })\r\n    .select()\r\n    .single()\r\n\r\n  return { data, error }\r\n}\r\n\r\nexport const getUserDownloads = async (userId: string) => {\r\n  const { data, error } = await supabase\r\n    .from('download_history')\r\n    .select(`\r\n      *,\r\n      products(\r\n        id,\r\n        title,\r\n        description,\r\n        price,\r\n        image_url,\r\n        download_url,\r\n        categories(name)\r\n      )\r\n    `)\r\n    .eq('user_id', userId)\r\n    .order('downloaded_at', { ascending: false })\r\n\r\n  return { data, error }\r\n}\r\n\r\nexport const submitContactForm = async (formData: {\r\n  name: string\r\n  email: string\r\n  subject: string\r\n  message: string\r\n}) => {\r\n  const { data, error } = await supabase\r\n    .from('contact_submissions')\r\n    .insert({\r\n      name: formData.name,\r\n      email: formData.email,\r\n      subject: formData.subject,\r\n      message: formData.message,\r\n      submitted_at: new Date().toISOString()\r\n    })\r\n    .select()\r\n    .single()\r\n\r\n  return { data, error }\r\n}\r\n","import { useState, useEffect, useCallback } from 'react'\r\nimport { User, Session, AuthError } from '@supabase/supabase-js'\r\nimport { supabase } from '../lib/supabase'\r\n\r\ninterface AuthState {\r\n  user: User | null\r\n  session: Session | null\r\n  loading: boolean\r\n  profile: any | null\r\n  isAdmin: boolean\r\n}\r\n\r\ninterface AuthActions {\r\n  signIn: (email: string, password: string) => Promise<{ data: any; error: AuthError | null }>\r\n  signOut: () => Promise<{ error: AuthError | null }>\r\n  signUp: (email: string, password: string, userData?: any) => Promise<{ data: any; error: AuthError | null }>\r\n  resetPassword: (email: string) => Promise<{ data: any; error: AuthError | null }>\r\n  updateProfile: (updates: any) => Promise<{ data: any; error: any }>\r\n  updatePassword: (password: string) => Promise<{ data: any; error: AuthError | null }>\r\n  refreshProfile: () => Promise<void>\r\n}\r\n\r\nexport function useAuth(): AuthState & AuthActions {\r\n  const [user, setUser] = useState<User | null>(null)\r\n  const [session, setSession] = useState<Session | null>(null)\r\n  const [loading, setLoading] = useState(true)\r\n  const [profile, setProfile] = useState<any | null>(null)\r\n\r\n  // Computed admin state - no caching needed\r\n  const isAdmin = profile?.role === 'admin'\r\n\r\n  const fetchProfile = useCallback(async (userId: string): Promise<any | null> => {\r\n    try {\r\n      const { data, error } = await supabase\r\n        .from('user_profiles')\r\n        .select('*')\r\n        .eq('user_id', userId)\r\n        .single()\r\n      \r\n      if (error && error.code !== 'PGRST116') {\r\n        throw error\r\n      }\r\n      \r\n      return data\r\n    } catch (error) {\r\n      console.warn('Profile fetch failed:', error)\r\n      return null\r\n    }\r\n  }, [])\r\n\r\n  // Refresh profile data\r\n  const refreshProfile = async () => {\r\n    if (user) {\r\n      const profileData = await fetchProfile(user.id)\r\n      setProfile(profileData)\r\n    }\r\n  }\r\n\r\n  // Single auth state handler\r\n  useEffect(() => {\r\n    const initializeAuth = async () => {\r\n      try {\r\n        const { data: { session } } = await supabase.auth.getSession()\r\n        \r\n        setSession(session)\r\n        setUser(session?.user ?? null)\r\n        \r\n        if (session?.user) {\r\n          const profileData = await fetchProfile(session.user.id)\r\n          setProfile(profileData)\r\n        } else {\r\n          setProfile(null)\r\n        }\r\n      } catch (error) {\r\n        console.error('Auth initialization error:', error)\r\n        setSession(null)\r\n        setUser(null)\r\n        setProfile(null)\r\n      } finally {\r\n        setLoading(false)\r\n      }\r\n    }\r\n\r\n    initializeAuth()\r\n\r\n    const { data: { subscription } } = supabase.auth.onAuthStateChange(\r\n      async (_event: string, session: Session | null) => {\r\n        setSession(session)\r\n        setUser(session?.user ?? null)\r\n        \r\n        if (session?.user) {\r\n          const profileData = await fetchProfile(session.user.id)\r\n          setProfile(profileData)\r\n        } else {\r\n          setProfile(null)\r\n        }\r\n        \r\n        setLoading(false)\r\n      }\r\n    )\r\n\r\n    return () => subscription.unsubscribe()\r\n  }, [fetchProfile])\r\n\r\n  // Simplified auth actions\r\n  const signIn = async (email: string, password: string) => {\r\n    return await supabase.auth.signInWithPassword({ email, password })\r\n  }\r\n\r\n  const signOut = async () => {\r\n    const result = await supabase.auth.signOut()\r\n    if (!result.error) {\r\n      setUser(null)\r\n      setSession(null)\r\n      setProfile(null)\r\n    }\r\n    return result\r\n  }\r\n\r\n  const signUp = async (email: string, password: string, userData?: any) => {\r\n    return await supabase.auth.signUp({ \r\n      email, \r\n      password, \r\n      options: { data: userData } \r\n    })\r\n  }\r\n\r\n  const resetPassword = async (email: string) => {\r\n    return await supabase.auth.resetPasswordForEmail(email, {\r\n      redirectTo: `${window.location.origin}/reset-password`,\r\n    })\r\n  }\r\n\r\n  const updateProfile = async (updates: any) => {\r\n    if (!user) return { data: null, error: new Error('No user logged in') }\r\n\r\n    try {\r\n      const { data, error } = await supabase\r\n        .from('user_profiles')\r\n        .update({\r\n          ...updates,\r\n          updated_at: new Date().toISOString(),\r\n        })\r\n        .eq('user_id', user.id)\r\n        .select()\r\n        .single()\r\n\r\n      if (!error) {\r\n        setProfile(data)\r\n      }\r\n\r\n      return { data, error }\r\n    } catch (error) {\r\n      return { data: null, error }\r\n    }\r\n  }\r\n\r\n  const updatePassword = async (password: string) => {\r\n    return await supabase.auth.updateUser({ password })\r\n  }\r\n\r\n  return {\r\n    user,\r\n    session,\r\n    loading,\r\n    profile,\r\n    isAdmin,\r\n    signIn,\r\n    signOut,\r\n    signUp,\r\n    resetPassword,\r\n    updateProfile,\r\n    updatePassword,\r\n    refreshProfile,\r\n  }\r\n}\r\n","import { createContext, useContext, ReactNode } from 'react'\r\nimport { User, Session, AuthError } from '@supabase/supabase-js'\r\nimport { useAuth } from '../hooks/useAuth'\r\n\r\ninterface AuthContextType {\r\n  user: User | null\r\n  session: Session | null\r\n  loading: boolean\r\n  profile: any | null\r\n  isAdmin: boolean\r\n  signUp: (email: string, password: string, userData?: any) => Promise<{ data: any; error: AuthError | null }>\r\n  signIn: (email: string, password: string) => Promise<{ data: any; error: AuthError | null }>\r\n  signOut: () => Promise<{ error: AuthError | null }>\r\n  resetPassword: (email: string) => Promise<{ data: any; error: AuthError | null }>\r\n  updateProfile: (updates: any) => Promise<{ data: any; error: any }>\r\n  updatePassword: (password: string) => Promise<{ data: any; error: AuthError | null }>\r\n  refreshProfile: () => Promise<void>\r\n}\r\n\r\nconst AuthContext = createContext<AuthContextType | undefined>(undefined)\r\n\r\nexport function AuthProvider({ children }: { children: ReactNode }) {\r\n  const auth = useAuth()\r\n\r\n  return (\r\n    <AuthContext.Provider value={auth}>\r\n      {children}\r\n    </AuthContext.Provider>\r\n  )\r\n}\r\n\r\nexport function useAuthContext() {\r\n  const context = useContext(AuthContext)\r\n  if (context === undefined) {\r\n    throw new Error('useAuthContext must be used within an AuthProvider')\r\n  }\r\n  return context\r\n}\r\n","import React, { createContext, useContext, useState, useEffect } from 'react'\r\n\r\ninterface CartItem {\r\n  id: string\r\n  title: string\r\n  price: number\r\n  image_url: string | null\r\n  quantity: number\r\n  stripe_price_id?: string | null  // Optional until database is migrated\r\n}\r\n\r\ninterface CartContextType {\r\n  items: CartItem[]\r\n  addToCart: (product: { id: string; title: string; price: number; image_url: string | null; stripe_price_id?: string | null }) => void\r\n  removeFromCart: (productId: string) => void\r\n  updateQuantity: (productId: string, quantity: number) => void\r\n  clearCart: () => void\r\n  getTotalItems: () => number\r\n  getTotalPrice: () => number\r\n  isInCart: (productId: string) => boolean\r\n}\r\n\r\nconst CartContext = createContext<CartContextType | undefined>(undefined)\r\n\r\nexport const useCart = () => {\r\n  const context = useContext(CartContext)\r\n  if (!context) {\r\n    throw new Error('useCart must be used within a CartProvider')\r\n  }\r\n  return context\r\n}\r\n\r\ninterface CartProviderProps {\r\n  children: React.ReactNode\r\n}\r\n\r\nexport const CartProvider: React.FC<CartProviderProps> = ({ children }) => {\r\n  const [items, setItems] = useState<CartItem[]>([])\r\n\r\n  // Load cart from localStorage on mount\r\n  useEffect(() => {\r\n    try {\r\n      const savedCart = localStorage.getItem('studio_nullbyte_cart')\r\n      if (savedCart) {\r\n        setItems(JSON.parse(savedCart))\r\n      }\r\n    } catch (error) {\r\n      console.error('Error loading cart from localStorage:', error)\r\n    }\r\n  }, [])\r\n\r\n  // Save cart to localStorage whenever items change\r\n  useEffect(() => {\r\n    try {\r\n      localStorage.setItem('studio_nullbyte_cart', JSON.stringify(items))\r\n    } catch (error) {\r\n      console.error('Error saving cart to localStorage:', error)\r\n    }\r\n  }, [items])\r\n\r\n  const addToCart = (product: { id: string; title: string; price: number; image_url: string | null; stripe_price_id?: string | null }) => {\r\n    setItems(prevItems => {\r\n      const existingItem = prevItems.find(item => item.id === product.id)\r\n      \r\n      if (existingItem) {\r\n        // If item already exists, increase quantity\r\n        return prevItems.map(item =>\r\n          item.id === product.id\r\n            ? { ...item, quantity: item.quantity + 1 }\r\n            : item\r\n        )\r\n      } else {\r\n        // If new item, add to cart with quantity 1\r\n        return [...prevItems, { ...product, quantity: 1 }]\r\n      }\r\n    })\r\n  }\r\n\r\n  const removeFromCart = (productId: string) => {\r\n    setItems(prevItems => prevItems.filter(item => item.id !== productId))\r\n  }\r\n\r\n  const updateQuantity = (productId: string, quantity: number) => {\r\n    if (quantity <= 0) {\r\n      removeFromCart(productId)\r\n      return\r\n    }\r\n\r\n    setItems(prevItems =>\r\n      prevItems.map(item =>\r\n        item.id === productId\r\n          ? { ...item, quantity }\r\n          : item\r\n      )\r\n    )\r\n  }\r\n\r\n  const clearCart = () => {\r\n    setItems([])\r\n  }\r\n\r\n  const getTotalItems = () => {\r\n    return items.reduce((total, item) => total + item.quantity, 0)\r\n  }\r\n\r\n  const getTotalPrice = () => {\r\n    return items.reduce((total, item) => total + (item.price * item.quantity), 0)\r\n  }\r\n\r\n  const isInCart = (productId: string) => {\r\n    return items.some(item => item.id === productId)\r\n  }\r\n\r\n  const value: CartContextType = {\r\n    items,\r\n    addToCart,\r\n    removeFromCart,\r\n    updateQuantity,\r\n    clearCart,\r\n    getTotalItems,\r\n    getTotalPrice,\r\n    isInCart\r\n  }\r\n\r\n  return (\r\n    <CartContext.Provider value={value}>\r\n      {children}\r\n    </CartContext.Provider>\r\n  )\r\n}\r\n","import React, { createContext, useContext, useState, useCallback } from 'react'\r\nimport { motion, AnimatePresence } from 'framer-motion'\r\nimport { X, Check, AlertCircle, Info } from 'lucide-react'\r\n\r\ninterface Toast {\r\n  id: string\r\n  type: 'success' | 'error' | 'info' | 'warning'\r\n  title: string\r\n  message?: string\r\n  duration?: number\r\n}\r\n\r\ninterface ToastContextType {\r\n  showToast: (toast: Omit<Toast, 'id'>) => void\r\n  removeToast: (id: string) => void\r\n}\r\n\r\nconst ToastContext = createContext<ToastContextType | undefined>(undefined)\r\n\r\nexport const useToast = () => {\r\n  const context = useContext(ToastContext)\r\n  if (!context) {\r\n    throw new Error('useToast must be used within a ToastProvider')\r\n  }\r\n  return context\r\n}\r\n\r\ninterface ToastProviderProps {\r\n  children: React.ReactNode\r\n}\r\n\r\nexport const ToastProvider: React.FC<ToastProviderProps> = ({ children }) => {\r\n  const [toasts, setToasts] = useState<Toast[]>([])\r\n\r\n  const showToast = useCallback((toastData: Omit<Toast, 'id'>) => {\r\n    const id = Date.now().toString()\r\n    const toast: Toast = {\r\n      id,\r\n      duration: 3000,\r\n      ...toastData\r\n    }\r\n\r\n    setToasts(prev => [...prev, toast])\r\n\r\n    // Auto remove after duration\r\n    if (toast.duration && toast.duration > 0) {\r\n      setTimeout(() => {\r\n        removeToast(id)\r\n      }, toast.duration)\r\n    }\r\n  }, [])\r\n\r\n  const removeToast = useCallback((id: string) => {\r\n    setToasts(prev => prev.filter(toast => toast.id !== id))\r\n  }, [])\r\n\r\n  const getIcon = (type: Toast['type']) => {\r\n    switch (type) {\r\n      case 'success':\r\n        return <Check className=\"w-5 h-5\" />\r\n      case 'error':\r\n        return <AlertCircle className=\"w-5 h-5\" />\r\n      case 'warning':\r\n        return <AlertCircle className=\"w-5 h-5\" />\r\n      default:\r\n        return <Info className=\"w-5 h-5\" />\r\n    }\r\n  }\r\n\r\n  const getStyles = (type: Toast['type']) => {\r\n    switch (type) {\r\n      case 'success':\r\n        return 'bg-green-600 border-green-500 text-white'\r\n      case 'error':\r\n        return 'bg-red-600 border-red-500 text-white'\r\n      case 'warning':\r\n        return 'bg-yellow-600 border-yellow-500 text-black'\r\n      default:\r\n        return 'bg-blue-600 border-blue-500 text-white'\r\n    }\r\n  }\r\n\r\n  return (\r\n    <ToastContext.Provider value={{ showToast, removeToast }}>\r\n      {children}\r\n      \r\n      {/* Toast Container */}\r\n      <div className=\"fixed top-4 right-4 z-50 space-y-2\">\r\n        <AnimatePresence>\r\n          {toasts.map((toast) => (\r\n            <motion.div\r\n              key={toast.id}\r\n              initial={{ opacity: 0, x: 100, scale: 0.8 }}\r\n              animate={{ opacity: 1, x: 0, scale: 1 }}\r\n              exit={{ opacity: 0, x: 100, scale: 0.8 }}\r\n              transition={{ duration: 0.2 }}\r\n              className={`\r\n                max-w-sm p-4 rounded-sm border shadow-lg font-mono\r\n                ${getStyles(toast.type)}\r\n              `}\r\n            >\r\n              <div className=\"flex items-start gap-3\">\r\n                <div className=\"flex-shrink-0\">\r\n                  {getIcon(toast.type)}\r\n                </div>\r\n                <div className=\"flex-1 min-w-0\">\r\n                  <p className=\"font-bold text-sm\">{toast.title}</p>\r\n                  {toast.message && (\r\n                    <p className=\"text-sm opacity-90 mt-1\">{toast.message}</p>\r\n                  )}\r\n                </div>\r\n                <button\r\n                  onClick={() => removeToast(toast.id)}\r\n                  className=\"flex-shrink-0 opacity-70 hover:opacity-100 transition-opacity\"\r\n                >\r\n                  <X className=\"w-4 h-4\" />\r\n                </button>\r\n              </div>\r\n            </motion.div>\r\n          ))}\r\n        </AnimatePresence>\r\n      </div>\r\n    </ToastContext.Provider>\r\n  )\r\n}\r\n","import { ReactNode } from 'react'\r\nimport { Navigate, useLocation } from 'react-router-dom'\r\nimport { useAuthContext } from '../contexts/AuthContext'\r\n\r\ninterface ProtectedRouteProps {\r\n  children: ReactNode\r\n  requireAuth?: boolean\r\n  requireAdmin?: boolean\r\n}\r\n\r\nexport function ProtectedRoute({ \r\n  children, \r\n  requireAuth = true, \r\n  requireAdmin = false \r\n}: ProtectedRouteProps) {\r\n  const { user, isAdmin, loading } = useAuthContext()\r\n  const location = useLocation()\r\n\r\n  // Show loading while checking auth\r\n  if (loading) {\r\n    return (\r\n      <div className=\"min-h-screen flex items-center justify-center bg-black\">\r\n        <div className=\"text-white font-mono\">Loading...</div>\r\n      </div>\r\n    )\r\n  }\r\n\r\n  // Check authentication\r\n  if (requireAuth && !user) {\r\n    return <Navigate to=\"/auth\" state={{ from: location }} replace />\r\n  }\r\n\r\n  // Check admin access\r\n  if (requireAdmin && !isAdmin) {\r\n    return <Navigate to=\"/\" replace />\r\n  }\r\n\r\n  return <>{children}</>\r\n}\r\n","import { useEffect, useState, useCallback, RefObject } from 'react'\r\n\r\n// WCAG AA Accessibility utilities for Studio Nullbyte\r\n\r\nexport const accessibility = {\r\n  // WCAG AA color contrast requirements\r\n  colors: {\r\n    // These colors meet WCAG AA contrast requirements on black background\r\n    text: {\r\n      primary: '#FFFFFF',      // 21:1 contrast ratio\r\n      secondary: '#D1D5DB',    // 14.4:1 contrast ratio  \r\n      muted: '#9CA3AF',        // 8.7:1 contrast ratio (AA compliant)\r\n    },\r\n    interactive: {\r\n      primary: '#A78BFA',      // Electric violet light - 8.2:1 contrast\r\n      hover: '#C4B5FD',        // Lighter violet for hover - 10.1:1 contrast\r\n      focus: '#DDD6FE',        // Focus ring color - 15.2:1 contrast\r\n    },\r\n    status: {\r\n      success: '#10B981',      // Green - 8.1:1 contrast\r\n      warning: '#F59E0B',      // Amber - 8.9:1 contrast\r\n      error: '#EF4444',        // Red - 7.2:1 contrast\r\n      info: '#3B82F6',         // Blue - 7.8:1 contrast\r\n    }\r\n  },\r\n\r\n  // Focus management utilities\r\n  focus: {\r\n    // Trap focus within a container\r\n    trapFocus: (container: HTMLElement) => {\r\n      const focusableElements = container.querySelectorAll(\r\n        'button, [href], input, select, textarea, [tabindex]:not([tabindex=\"-1\"])'\r\n      )\r\n      const firstFocusable = focusableElements[0] as HTMLElement\r\n      const lastFocusable = focusableElements[focusableElements.length - 1] as HTMLElement\r\n\r\n      const handleTabKey = (e: KeyboardEvent) => {\r\n        if (e.key === 'Tab') {\r\n          if (e.shiftKey) {\r\n            if (document.activeElement === firstFocusable) {\r\n              lastFocusable.focus()\r\n              e.preventDefault()\r\n            }\r\n          } else {\r\n            if (document.activeElement === lastFocusable) {\r\n              firstFocusable.focus()\r\n              e.preventDefault()\r\n            }\r\n          }\r\n        }\r\n      }\r\n\r\n      container.addEventListener('keydown', handleTabKey)\r\n      return () => container.removeEventListener('keydown', handleTabKey)\r\n    },\r\n\r\n    // Return focus to previous element\r\n    restoreFocus: (previousElement: HTMLElement | null) => {\r\n      if (previousElement && typeof previousElement.focus === 'function') {\r\n        previousElement.focus()\r\n      }\r\n    }\r\n  },\r\n\r\n  // Screen reader utilities\r\n  screenReader: {\r\n    // Announce content to screen readers\r\n    announce: (message: string, priority: 'polite' | 'assertive' = 'polite') => {\r\n      const announcer = document.createElement('div')\r\n      announcer.setAttribute('aria-live', priority)\r\n      announcer.setAttribute('aria-atomic', 'true')\r\n      announcer.className = 'sr-only'\r\n      announcer.textContent = message\r\n      \r\n      document.body.appendChild(announcer)\r\n      \r\n      setTimeout(() => {\r\n        document.body.removeChild(announcer)\r\n      }, 1000)\r\n    },\r\n\r\n    // Hide content from screen readers\r\n    hide: (element: HTMLElement) => {\r\n      element.setAttribute('aria-hidden', 'true')\r\n    },\r\n\r\n    // Show content to screen readers\r\n    show: (element: HTMLElement) => {\r\n      element.removeAttribute('aria-hidden')\r\n    }\r\n  },\r\n\r\n  // Keyboard navigation utilities\r\n  keyboard: {\r\n    // Handle escape key\r\n    onEscape: (callback: () => void) => {\r\n      const handleEscape = (e: KeyboardEvent) => {\r\n        if (e.key === 'Escape') {\r\n          callback()\r\n        }\r\n      }\r\n      document.addEventListener('keydown', handleEscape)\r\n      return () => document.removeEventListener('keydown', handleEscape)\r\n    },\r\n\r\n    // Handle enter/space for button-like elements\r\n    onActivate: (callback: () => void) => {\r\n      return (e: KeyboardEvent) => {\r\n        if (e.key === 'Enter' || e.key === ' ') {\r\n          e.preventDefault()\r\n          callback()\r\n        }\r\n      }\r\n    }\r\n  },\r\n\r\n  // Form validation utilities\r\n  form: {\r\n    // Validate required fields\r\n    validateRequired: (value: string, fieldName: string): string | null => {\r\n      if (!value.trim()) {\r\n        return `${fieldName} is required`\r\n      }\r\n      return null\r\n    },\r\n\r\n    // Validate email format\r\n    validateEmail: (email: string): string | null => {\r\n      const emailRegex = /^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/\r\n      if (!emailRegex.test(email)) {\r\n        return 'Please enter a valid email address'\r\n      }\r\n      return null\r\n    },\r\n\r\n    // Generate accessible error messages\r\n    getErrorId: (fieldName: string) => `${fieldName}-error`,\r\n    getDescriptionId: (fieldName: string) => `${fieldName}-description`\r\n  },\r\n\r\n  // Motion and animation utilities\r\n  motion: {\r\n    // Check if user prefers reduced motion\r\n    prefersReducedMotion: () => {\r\n      return window.matchMedia('(prefers-reduced-motion: reduce)').matches\r\n    },\r\n\r\n    // Respect motion preferences\r\n    respectMotionPreference: <T>(animatedValue: T, staticValue: T): T => {\r\n      return accessibility.motion.prefersReducedMotion() ? staticValue : animatedValue\r\n    }\r\n  },\r\n\r\n  // Image and media utilities\r\n  media: {\r\n    // Generate accessible alt text guidelines\r\n    getAltTextGuideline: (context: 'decorative' | 'informative' | 'functional') => {\r\n      switch (context) {\r\n        case 'decorative':\r\n          return '' // Empty alt for decorative images\r\n        case 'informative':\r\n          return 'Describe the information conveyed by the image'\r\n        case 'functional':\r\n          return 'Describe the function or purpose of the image'\r\n        default:\r\n          return 'Describe the image content'\r\n      }\r\n    }\r\n  }\r\n}\r\n\r\n// React hook for accessibility features\r\nexport const useAccessibility = () => {\r\n  return accessibility\r\n}\r\n\r\n// Custom hook for keyboard navigation\r\nexport const useKeyboardNavigation = (onEscape?: () => void) => {\r\n  useEffect(() => {\r\n    if (onEscape) {\r\n      return accessibility.keyboard.onEscape(onEscape)\r\n    }\r\n  }, [onEscape])\r\n}\r\n\r\n// Custom hook for focus management\r\nexport const useFocusManagement = (containerRef: RefObject<HTMLElement>) => {\r\n  const [previousFocus, setPreviousFocus] = useState<HTMLElement | null>(null)\r\n\r\n  const trapFocus = useCallback(() => {\r\n    if (containerRef.current) {\r\n      setPreviousFocus(document.activeElement as HTMLElement)\r\n      return accessibility.focus.trapFocus(containerRef.current)\r\n    }\r\n  }, [containerRef])\r\n\r\n  const restoreFocus = useCallback(() => {\r\n    accessibility.focus.restoreFocus(previousFocus)\r\n  }, [previousFocus])\r\n\r\n  return { trapFocus, restoreFocus }\r\n}\r\n\r\nexport default accessibility\r\n","import React from 'react'\r\nimport { motion, AnimatePresence } from 'framer-motion'\r\nimport { useNavigate } from 'react-router-dom'\r\nimport { X, Plus, Minus, Trash2, ShoppingBag } from 'lucide-react'\r\nimport { useCart } from '../contexts/CartContext'\r\nimport { useToast } from '../contexts/ToastContext'\r\n\r\ninterface CartModalProps {\r\n  isOpen: boolean\r\n  onClose: () => void\r\n}\r\n\r\nconst CartModal: React.FC<CartModalProps> = ({ isOpen, onClose }) => {\r\n  const navigate = useNavigate()\r\n  const { items, updateQuantity, removeFromCart, clearCart, getTotalPrice } = useCart()\r\n  const { showToast } = useToast()\r\n\r\n  const handleRemoveItem = (item: { id: string; title: string }) => {\r\n    removeFromCart(item.id)\r\n    showToast({\r\n      type: 'info',\r\n      title: 'Item Removed',\r\n      message: `${item.title} has been removed from your cart.`\r\n    })\r\n  }\r\n\r\n  const handleClearCart = () => {\r\n    if (items.length > 0) {\r\n      clearCart()\r\n      showToast({\r\n        type: 'info',\r\n        title: 'Cart Cleared',\r\n        message: 'All items have been removed from your cart.'\r\n      })\r\n    }\r\n  }\r\n\r\n  const handleCheckout = () => {\r\n    onClose() // Close the modal first\r\n    navigate('/checkout')\r\n  }\r\n\r\n  return (\r\n    <AnimatePresence>\r\n      {isOpen && (\r\n        <>\r\n          {/* Backdrop */}\r\n          <motion.div\r\n            initial={{ opacity: 0 }}\r\n            animate={{ opacity: 1 }}\r\n            exit={{ opacity: 0 }}\r\n            onClick={onClose}\r\n            className=\"fixed inset-0 bg-black bg-opacity-50 z-50\"\r\n          />\r\n          \r\n          {/* Modal */}\r\n          <motion.div\r\n            initial={{ opacity: 0, x: '100%' }}\r\n            animate={{ opacity: 1, x: 0 }}\r\n            exit={{ opacity: 0, x: '100%' }}\r\n            transition={{ type: 'tween', duration: 0.3 }}\r\n            className=\"fixed right-0 top-0 h-full w-full max-w-md bg-black border-l border-gray-700 z-50 overflow-hidden\"\r\n          >\r\n            <div className=\"flex flex-col h-full\">\r\n              {/* Header */}\r\n              <div className=\"flex items-center justify-between p-6 border-b border-gray-700\">\r\n                <h2 className=\"text-xl font-mono font-bold\">Shopping Cart</h2>\r\n                <button\r\n                  onClick={onClose}\r\n                  className=\"p-2 hover:bg-gray-800 rounded-sm transition-colors\"\r\n                >\r\n                  <X className=\"w-5 h-5\" />\r\n                </button>\r\n              </div>\r\n\r\n              {/* Cart Items */}\r\n              <div className=\"flex-1 overflow-y-auto p-6\">\r\n                {items.length === 0 ? (\r\n                  <div className=\"text-center py-12\">\r\n                    <ShoppingBag className=\"w-12 h-12 text-gray-400 mx-auto mb-4\" />\r\n                    <p className=\"text-gray-400 font-mono\">Your cart is empty</p>\r\n                    <button\r\n                      onClick={onClose}\r\n                      className=\"btn-primary mt-4\"\r\n                    >\r\n                      Continue Shopping\r\n                    </button>\r\n                  </div>\r\n                ) : (\r\n                  <div className=\"space-y-4\">\r\n                    {items.map((item) => (\r\n                      <div key={item.id} className=\"flex gap-4 p-4 bg-code-gray rounded-sm\">\r\n                        {/* Product Image */}\r\n                        <div className=\"w-16 h-16 bg-code-gray-dark rounded-sm overflow-hidden flex-shrink-0\">\r\n                          {item.image_url ? (\r\n                            <img\r\n                              src={item.image_url}\r\n                              alt={item.title}\r\n                              className=\"w-full h-full object-cover\"\r\n                            />\r\n                          ) : (\r\n                            <div className=\"w-full h-full flex items-center justify-center text-gray-500 text-xs\">\r\n                              No Image\r\n                            </div>\r\n                          )}\r\n                        </div>\r\n\r\n                        {/* Product Info */}\r\n                        <div className=\"flex-1 min-w-0\">\r\n                          <h3 className=\"font-mono font-bold text-sm truncate mb-1\">\r\n                            {item.title}\r\n                          </h3>\r\n                          <p className=\"text-electric-violet font-mono text-sm mb-2\">\r\n                            ${item.price}\r\n                          </p>\r\n\r\n                          {/* Quantity Controls */}\r\n                          <div className=\"flex items-center gap-2\">\r\n                            <button\r\n                              onClick={() => updateQuantity(item.id, item.quantity - 1)}\r\n                              className=\"p-1 hover:bg-gray-700 rounded-sm transition-colors\"\r\n                            >\r\n                              <Minus className=\"w-3 h-3\" />\r\n                            </button>\r\n                            <span className=\"font-mono text-sm w-8 text-center\">\r\n                              {item.quantity}\r\n                            </span>\r\n                            <button\r\n                              onClick={() => updateQuantity(item.id, item.quantity + 1)}\r\n                              className=\"p-1 hover:bg-gray-700 rounded-sm transition-colors\"\r\n                            >\r\n                              <Plus className=\"w-3 h-3\" />\r\n                            </button>\r\n                            <button\r\n                              onClick={() => handleRemoveItem({ id: item.id, title: item.title })}\r\n                              className=\"p-1 hover:bg-red-600 rounded-sm transition-colors ml-2\"\r\n                            >\r\n                              <Trash2 className=\"w-3 h-3\" />\r\n                            </button>\r\n                          </div>\r\n                        </div>\r\n\r\n                        {/* Item Total */}\r\n                        <div className=\"text-right\">\r\n                          <p className=\"font-mono font-bold text-sm\">\r\n                            ${(item.price * item.quantity).toFixed(2)}\r\n                          </p>\r\n                        </div>\r\n                      </div>\r\n                    ))}\r\n                  </div>\r\n                )}\r\n              </div>\r\n\r\n              {/* Footer */}\r\n              {items.length > 0 && (\r\n                <div className=\"border-t border-gray-700 p-6\">\r\n                  <div className=\"flex justify-between items-center mb-4\">\r\n                    <span className=\"font-mono font-bold\">Total:</span>\r\n                    <span className=\"font-mono font-bold text-xl text-electric-violet\">\r\n                      ${getTotalPrice().toFixed(2)}\r\n                    </span>\r\n                  </div>\r\n                  \r\n                  <div className=\"space-y-2\">\r\n                    <button\r\n                      onClick={handleCheckout}\r\n                      className=\"btn-primary w-full\"\r\n                    >\r\n                      Checkout\r\n                    </button>\r\n                    <button\r\n                      onClick={handleClearCart}\r\n                      className=\"btn-ghost w-full text-sm\"\r\n                    >\r\n                      Clear Cart\r\n                    </button>\r\n                  </div>\r\n                </div>\r\n              )}\r\n            </div>\r\n          </motion.div>\r\n        </>\r\n      )}\r\n    </AnimatePresence>\r\n  )\r\n}\r\n\r\nexport default CartModal\r\n","import React from 'react'\r\n\r\ninterface LogoProps {\r\n  className?: string\r\n  size?: 'sm' | 'md' | 'lg'\r\n}\r\n\r\nconst Logo: React.FC<LogoProps> = ({ className = '', size = 'md' }) => {\r\n  const sizeClasses = {\r\n    sm: 'w-6 h-6',\r\n    md: 'w-8 h-8',\r\n    lg: 'w-10 h-10'\r\n  }\r\n\r\n  return (\r\n    <svg\r\n      className={`${sizeClasses[size]} ${className}`}\r\n      viewBox=\"0 0 32 32\"\r\n      fill=\"none\"\r\n      xmlns=\"http://www.w3.org/2000/svg\"\r\n      aria-hidden=\"true\"\r\n    >\r\n      {/* N_ logo design */}\r\n      <path\r\n        d=\"M6 6V26H10V14.5L18 22.5V26H22V6H18V17.5L10 9.5V6H6Z\"\r\n        fill=\"currentColor\"\r\n      />\r\n      <rect\r\n        x=\"24\"\r\n        y=\"22\"\r\n        width=\"6\"\r\n        height=\"4\"\r\n        fill=\"currentColor\"\r\n      />\r\n      {/* Subtle glow effect */}\r\n      <path\r\n        d=\"M6 6V26H10V14.5L18 22.5V26H22V6H18V17.5L10 9.5V6H6Z\"\r\n        fill=\"url(#logoGlow)\"\r\n        opacity=\"0.3\"\r\n      />\r\n      <defs>\r\n        <linearGradient id=\"logoGlow\" x1=\"0%\" y1=\"0%\" x2=\"100%\" y2=\"100%\">\r\n          <stop offset=\"0%\" stopColor=\"#8B5CF6\" />\r\n          <stop offset=\"100%\" stopColor=\"#A78BFA\" />\r\n        </linearGradient>\r\n      </defs>\r\n    </svg>\r\n  )\r\n}\r\n\r\nexport default Logo\r\n","import { useState, useEffect } from 'react'\r\nimport { Link, useLocation } from 'react-router-dom'\r\nimport { motion, AnimatePresence } from 'framer-motion'\r\nimport { Menu, X, ShoppingCart, User, Settings, LogOut, Shield } from 'lucide-react'\r\nimport { useAuthContext } from '../contexts/AuthContext'\r\nimport { useCart } from '../contexts/CartContext'\r\nimport { useKeyboardNavigation } from '../utils/accessibility'\r\nimport CartModal from './CartModal'\r\nimport Logo from './Logo'\r\nimport { logger } from '../utils/logger'\r\n\r\nconst Header: React.FC = () => {\r\n  const [isMenuOpen, setIsMenuOpen] = useState(false)\r\n  const [isUserMenuOpen, setIsUserMenuOpen] = useState(false)\r\n  const [isCartOpen, setIsCartOpen] = useState(false)\r\n  const [scrolled, setScrolled] = useState(false)\r\n  const location = useLocation()\r\n  const { user, isAdmin, signOut, profile } = useAuthContext()\r\n  const { getTotalItems } = useCart()\r\n\r\n  // Close mobile menu with Escape key\r\n  useKeyboardNavigation(() => {\r\n    setIsMenuOpen(false)\r\n    setIsUserMenuOpen(false)\r\n  })\r\n\r\n  const handleSignOut = async () => {\r\n    // Show confirmation\r\n    const confirmSignOut = confirm('Are you sure you want to sign out?')\r\n\r\n    if (confirmSignOut) {\r\n      // Close menus first\r\n      setIsUserMenuOpen(false)\r\n      setIsMenuOpen(false)\r\n\r\n      // Use the regular sign out function\r\n      await signOut()\r\n    }\r\n  }\r\n\r\n  useEffect(() => {\r\n    const handleScroll = () => {\r\n      setScrolled(window.scrollY > 50)\r\n    }\r\n\r\n    window.addEventListener('scroll', handleScroll)\r\n    return () => window.removeEventListener('scroll', handleScroll)\r\n  }, [])\r\n\r\n  useEffect(() => {\r\n    setIsMenuOpen(false)\r\n    setIsUserMenuOpen(false)\r\n  }, [location])\r\n\r\n  useEffect(() => {\r\n    const handleClickOutside = (event: MouseEvent) => {\r\n      if (isUserMenuOpen) {\r\n        const target = event.target as Element\r\n        if (!target.closest('.user-menu-container')) {\r\n          setIsUserMenuOpen(false)\r\n        }\r\n      }\r\n    }\r\n\r\n    document.addEventListener('mousedown', handleClickOutside)\r\n    return () => document.removeEventListener('mousedown', handleClickOutside)\r\n  }, [isUserMenuOpen])\r\n\r\n  const navItems = [\r\n    { name: 'Home', path: '/' },\r\n    { name: 'Products', path: '/products' },\r\n    { name: 'About', path: '/about' },\r\n    { name: 'Contact', path: '/contact' }\r\n  ]\r\n\r\n  return (\r\n    <header\r\n      className={`fixed top-0 left-0 right-0 z-50 transition-all duration-300 ${\r\n        scrolled ? 'bg-black/90 backdrop-blur-md border-b border-gray-800' : 'bg-transparent'\r\n      }`}\r\n      role=\"banner\"\r\n    >\r\n      <div className=\"container mx-auto px-4 sm:px-6 lg:px-8 py-3 sm:py-4\">\r\n        <div className=\"flex items-center justify-between\">\r\n          {/* Logo */}\r\n          <Link \r\n            to=\"/\" \r\n            className=\"nav-link flex items-center space-x-2 sm:space-x-3 group\"\r\n            aria-label=\"Studio Nullbyte - Home\"\r\n          >\r\n            <div className=\"w-6 h-6 sm:w-8 sm:h-8 flex items-center justify-center\">\r\n              <Logo \r\n                size=\"md\"\r\n                className=\"text-white group-hover:text-electric-violet group-hover:scale-110 transition-all duration-300\"\r\n              />\r\n            </div>\r\n            <span className=\"font-mono text-lg sm:text-xl font-bold glitch-text group-hover:text-electric-violet transition-colors\">\r\n              <span className=\"mr-1 hidden xs:inline\">Studio</span><span className=\"text-electric-violet cursor-blink\">Nullbyte</span>\r\n            </span>\r\n          </Link>\r\n\r\n          {/* Desktop Navigation */}\r\n          <nav className=\"hidden lg:flex items-center space-x-6 xl:space-x-8\" role=\"navigation\" aria-label=\"Main navigation\">\r\n            {navItems.map((item) => (\r\n              <Link\r\n                key={item.name}\r\n                to={item.path}\r\n                className={`nav-link font-mono text-sm transition-colors hover:text-electric-violet ${\r\n                  location.pathname === item.path\r\n                    ? 'text-electric-violet'\r\n                    : 'text-gray-300'\r\n                }`}\r\n                aria-current={location.pathname === item.path ? 'page' : undefined}\r\n              >\r\n                {item.name}\r\n              </Link>\r\n            ))}\r\n            \r\n            {/* Admin Link in Main Navigation */}\r\n            {isAdmin && (\r\n              <Link\r\n                to=\"/admin\"\r\n                className={`flex items-center gap-1 font-mono text-sm transition-colors hover:text-electric-violet ${\r\n                  location.pathname.startsWith('/admin')\r\n                    ? 'text-electric-violet'\r\n                    : 'text-gray-300'\r\n                }`}\r\n              >\r\n                <Shield className=\"w-4 h-4\" />\r\n                Admin\r\n              </Link>\r\n            )}\r\n          </nav>\r\n\r\n          {/* Cart, User Menu, and Mobile Menu Button */}\r\n          <div className=\"flex items-center space-x-2 sm:space-x-4\">\r\n            <button \r\n              onClick={() => setIsCartOpen(true)}\r\n              className=\"nav-link relative p-2 hover:bg-gray-800 rounded-sm transition-colors\"\r\n              aria-label={`Shopping cart - ${getTotalItems()} items`}\r\n            >\r\n              <ShoppingCart className=\"w-4 h-4 sm:w-5 sm:h-5\" aria-hidden=\"true\" />\r\n              {getTotalItems() > 0 && (\r\n                <span \r\n                  className=\"absolute -top-1 -right-1 bg-electric-violet text-black text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center\"\r\n                  aria-label={`${getTotalItems()} items in cart`}\r\n                >\r\n                  {getTotalItems()}\r\n                </span>\r\n              )}\r\n            </button>\r\n            \r\n            {/* User Authentication */}\r\n            {user ? (\r\n              <div className=\"relative user-menu-container\">\r\n                <button\r\n                  onClick={() => setIsUserMenuOpen(!isUserMenuOpen)}\r\n                  className=\"flex items-center gap-2 p-2 hover:bg-gray-800 rounded-sm transition-colors\"\r\n                >\r\n                  <div className=\"w-6 h-6 bg-electric-violet rounded-full flex items-center justify-center\">\r\n                    <User className=\"w-3 h-3 text-black\" />\r\n                  </div>\r\n                  <span className=\"hidden sm:inline font-mono text-sm text-gray-300\">\r\n                    {profile?.full_name || user.email?.split('@')[0] || 'User'}\r\n                  </span>\r\n                </button>\r\n\r\n                {/* User Dropdown Menu */}\r\n                <AnimatePresence>\r\n                  {isUserMenuOpen && (\r\n                    <motion.div\r\n                      initial={{ opacity: 0, y: -10 }}\r\n                      animate={{ opacity: 1, y: 0 }}\r\n                      exit={{ opacity: 0, y: -10 }}\r\n                      className=\"absolute right-0 mt-2 w-48 bg-code-gray-light border border-gray-700 rounded-lg shadow-lg z-50\"\r\n                    >\r\n                      <div className=\"py-2\">\r\n                        <Link\r\n                          to=\"/settings\"\r\n                          className=\"flex items-center gap-3 px-4 py-2 font-mono text-sm text-gray-300 hover:text-white hover:bg-gray-700 transition-colors\"\r\n                          onClick={() => setIsUserMenuOpen(false)}\r\n                        >\r\n                          <Settings className=\"w-4 h-4\" />\r\n                          Account Settings\r\n                        </Link>\r\n                        \r\n                        {/* Admin Menu Items */}\r\n                        {isAdmin && (\r\n                          <>\r\n                            <hr className=\"border-gray-700 my-1\" />\r\n                            <div className=\"px-4 py-2\">\r\n                              <p className=\"font-mono text-xs text-gray-500 uppercase tracking-wider\">Admin</p>\r\n                            </div>\r\n                            <Link\r\n                              to=\"/admin\"\r\n                              className=\"flex items-center gap-3 px-4 py-2 font-mono text-sm text-electric-violet hover:text-white hover:bg-electric-violet/10 transition-colors\"\r\n                              onClick={() => setIsUserMenuOpen(false)}\r\n                            >\r\n                              <Shield className=\"w-4 h-4\" />\r\n                              Dashboard\r\n                            </Link>\r\n                            <Link\r\n                              to=\"/admin/products\"\r\n                              className=\"flex items-center gap-3 px-4 py-2 font-mono text-sm text-gray-300 hover:text-white hover:bg-gray-700 transition-colors\"\r\n                              onClick={() => setIsUserMenuOpen(false)}\r\n                            >\r\n                              Products\r\n                            </Link>\r\n                            <Link\r\n                              to=\"/admin/users\"\r\n                              className=\"flex items-center gap-3 px-4 py-2 font-mono text-sm text-gray-300 hover:text-white hover:bg-gray-700 transition-colors\"\r\n                              onClick={() => setIsUserMenuOpen(false)}\r\n                            >\r\n                              Users\r\n                            </Link>\r\n                            <Link\r\n                              to=\"/admin/categories\"\r\n                              className=\"flex items-center gap-3 px-4 py-2 font-mono text-sm text-gray-300 hover:text-white hover:bg-gray-700 transition-colors\"\r\n                              onClick={() => setIsUserMenuOpen(false)}\r\n                            >\r\n                              Categories\r\n                            </Link>\r\n                            <Link\r\n                              to=\"/admin/orders\"\r\n                              className=\"flex items-center gap-3 px-4 py-2 font-mono text-sm text-gray-300 hover:text-white hover:bg-gray-700 transition-colors\"\r\n                              onClick={() => setIsUserMenuOpen(false)}\r\n                            >\r\n                              Orders\r\n                            </Link>\r\n                            <Link\r\n                              to=\"/admin/contacts\"\r\n                              className=\"flex items-center gap-3 px-4 py-2 font-mono text-sm text-gray-300 hover:text-white hover:bg-gray-700 transition-colors\"\r\n                              onClick={() => setIsUserMenuOpen(false)}\r\n                            >\r\n                              Messages\r\n                            </Link>\r\n                          </>\r\n                        )}\r\n                        \r\n                        <hr className=\"border-gray-700 my-1\" />\r\n                        <button\r\n                          onClick={handleSignOut}\r\n                          className=\"w-full flex items-center gap-3 px-4 py-2 font-mono text-sm text-red-400 hover:text-red-300 hover:bg-red-500/10 transition-colors\"\r\n                        >\r\n                          <LogOut className=\"w-4 h-4\" />\r\n                          Sign Out\r\n                        </button>\r\n                      </div>\r\n                    </motion.div>\r\n                  )}\r\n                </AnimatePresence>\r\n              </div>\r\n            ) : (\r\n              <Link\r\n                to=\"/auth\"\r\n                className=\"hidden sm:flex items-center gap-2 bg-electric-violet hover:bg-electric-violet-light text-white font-mono text-sm py-2 px-4 rounded transition-colors\"\r\n              >\r\n                <User className=\"w-4 h-4\" />\r\n                Sign In\r\n              </Link>\r\n            )}\r\n            \r\n            <button\r\n              onClick={() => setIsMenuOpen(!isMenuOpen)}\r\n              className=\"mobile-menu-button lg:hidden\"\r\n              aria-expanded={isMenuOpen}\r\n              aria-controls=\"mobile-menu\"\r\n              aria-label={isMenuOpen ? 'Close menu' : 'Open menu'}\r\n            >\r\n              {isMenuOpen ? \r\n                <X className=\"w-4 h-4 sm:w-5 sm:h-5\" aria-hidden=\"true\" /> : \r\n                <Menu className=\"w-4 h-4 sm:w-5 sm:h-5\" aria-hidden=\"true\" />\r\n              }\r\n            </button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      {/* Mobile Menu */}\r\n      <AnimatePresence>\r\n        {isMenuOpen && (\r\n          <motion.div\r\n            initial={{ opacity: 0, height: 0 }}\r\n            animate={{ opacity: 1, height: 'auto' }}\r\n            exit={{ opacity: 0, height: 0 }}\r\n            className=\"lg:hidden bg-black/95 backdrop-blur-md border-t border-gray-800\"\r\n          >\r\n            <div className=\"container mx-auto px-4 sm:px-6 py-4 sm:py-6\">\r\n              <nav className=\"flex flex-col space-y-4\">\r\n                {navItems.map((item) => (\r\n                  <Link\r\n                    key={item.name}\r\n                    to={item.path}\r\n                    className={`font-mono text-base sm:text-lg py-2 transition-colors hover:text-electric-violet ${\r\n                      location.pathname === item.path\r\n                        ? 'text-electric-violet'\r\n                        : 'text-gray-300'\r\n                    }`}\r\n                  >\r\n                    {item.name}\r\n                  </Link>\r\n                ))}\r\n                \r\n                {/* Admin Link in Mobile Main Navigation */}\r\n                {isAdmin && (\r\n                  <Link\r\n                    to=\"/admin\"\r\n                    className={`flex items-center gap-2 font-mono text-base sm:text-lg py-2 transition-colors hover:text-electric-violet ${\r\n                      location.pathname.startsWith('/admin')\r\n                        ? 'text-electric-violet'\r\n                        : 'text-gray-300'\r\n                    }`}\r\n                  >\r\n                    <Shield className=\"w-5 h-5\" />\r\n                    Admin\r\n                  </Link>\r\n                )}\r\n                \r\n                {/* Mobile Auth Links */}\r\n                <hr className=\"border-gray-700 my-2\" />\r\n                {user ? (\r\n                  <>\r\n                    <Link\r\n                      to=\"/settings\"\r\n                      className=\"flex items-center gap-3 font-mono text-base sm:text-lg py-2 text-gray-300 hover:text-electric-violet transition-colors\"\r\n                    >\r\n                      <Settings className=\"w-5 h-5\" />\r\n                      Account Settings\r\n                    </Link>\r\n                    \r\n                    {/* Mobile Admin Menu Items */}\r\n                    {isAdmin && (\r\n                      <>\r\n                        <hr className=\"border-gray-700 my-2\" />\r\n                        <div className=\"py-2\">\r\n                          <p className=\"font-mono text-sm text-gray-500 uppercase tracking-wider\">Admin</p>\r\n                        </div>\r\n                        <Link\r\n                          to=\"/admin\"\r\n                          className=\"flex items-center gap-3 font-mono text-base sm:text-lg py-2 text-electric-violet hover:text-electric-violet-light transition-colors\"\r\n                          onClick={() => setIsMenuOpen(false)}\r\n                        >\r\n                          <Shield className=\"w-5 h-5\" />\r\n                          Dashboard\r\n                        </Link>\r\n                        <Link\r\n                          to=\"/admin/products\"\r\n                          className=\"flex items-center gap-3 font-mono text-base sm:text-lg py-2 text-gray-300 hover:text-electric-violet transition-colors\"\r\n                          onClick={() => setIsMenuOpen(false)}\r\n                        >\r\n                          Products\r\n                        </Link>\r\n                        <Link\r\n                          to=\"/admin/users\"\r\n                          className=\"flex items-center gap-3 font-mono text-base sm:text-lg py-2 text-gray-300 hover:text-electric-violet transition-colors\"\r\n                          onClick={() => setIsMenuOpen(false)}\r\n                        >\r\n                          Users\r\n                        </Link>\r\n                        <Link\r\n                          to=\"/admin/categories\"\r\n                          className=\"flex items-center gap-3 font-mono text-base sm:text-lg py-2 text-gray-300 hover:text-electric-violet transition-colors\"\r\n                          onClick={() => setIsMenuOpen(false)}\r\n                        >\r\n                          Categories\r\n                        </Link>\r\n                        <Link\r\n                          to=\"/admin/orders\"\r\n                          className=\"flex items-center gap-3 font-mono text-base sm:text-lg py-2 text-gray-300 hover:text-electric-violet transition-colors\"\r\n                          onClick={() => setIsMenuOpen(false)}\r\n                        >\r\n                          Orders\r\n                        </Link>\r\n                        <Link\r\n                          to=\"/admin/contacts\"\r\n                          className=\"flex items-center gap-3 font-mono text-base sm:text-lg py-2 text-gray-300 hover:text-electric-violet transition-colors\"\r\n                          onClick={() => setIsMenuOpen(false)}\r\n                        >\r\n                          Messages\r\n                        </Link>\r\n                        <hr className=\"border-gray-700 my-2\" />\r\n                      </>\r\n                    )}\r\n                    \r\n                    <button\r\n                      onClick={handleSignOut}\r\n                      className=\"flex items-center gap-3 font-mono text-base sm:text-lg py-2 text-red-400 hover:text-red-300 transition-colors text-left\"\r\n                    >\r\n                      <LogOut className=\"w-5 h-5\" />\r\n                      Sign Out\r\n                    </button>\r\n                  </>\r\n                ) : (\r\n                  <Link\r\n                    to=\"/auth\"\r\n                    className=\"flex items-center gap-3 font-mono text-base sm:text-lg py-2 text-electric-violet hover:text-electric-violet-light transition-colors\"\r\n                  >\r\n                    <User className=\"w-5 h-5\" />\r\n                    Sign In\r\n                  </Link>\r\n                )}\r\n              </nav>\r\n            </div>\r\n          </motion.div>\r\n        )}\r\n      </AnimatePresence>\r\n\r\n      {/* Cart Modal */}\r\n      <CartModal \r\n        isOpen={isCartOpen} \r\n        onClose={() => setIsCartOpen(false)} \r\n      />\r\n    </header>\r\n  )\r\n}\r\n\r\nexport default Header\r\n","import React from 'react'\r\nimport { Link } from 'react-router-dom'\r\nimport { Github, Mail } from 'lucide-react'\r\nimport Logo from './Logo'\r\n\r\nconst Footer: React.FC = () => {\r\n  return (\r\n    <footer className=\"bg-code-gray border-t border-gray-800\">\r\n      <div className=\"container mx-auto px-4 sm:px-6 lg:px-8 py-8 sm:py-12\">\r\n        <div className=\"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-8\">\r\n          {/* Brand */}\r\n          <div className=\"sm:col-span-2 lg:col-span-2\">\r\n            <div className=\"flex items-center space-x-2 sm:space-x-3 mb-4\">\r\n              <div className=\"w-6 h-6 sm:w-8 sm:h-8 flex items-center justify-center\">\r\n                <Logo \r\n                  size=\"md\"\r\n                  className=\"text-white hover:text-electric-violet hover:scale-110 transition-all duration-300\"\r\n                />\r\n              </div>\r\n              <span className=\"font-mono text-lg sm:text-xl font-bold\">\r\n                Studio<span className=\"text-electric-violet ml-1 cursor-blink\">Nullbyte</span>\r\n              </span>\r\n            </div>\r\n            <p className=\"text-gray-400 font-mono text-sm mb-4 max-w-md\">\r\n              Modular tools for the design-minded developer. Clean. Branded. Ready to deploy.\r\n            </p>\r\n            <div className=\"flex space-x-4\">\r\n              <a\r\n                href=\"https://github.com/studio-nullbyte\"\r\n                target=\"_blank\"\r\n                rel=\"noopener noreferrer\"\r\n                className=\"text-gray-400 hover:text-electric-violet transition-colors\"\r\n              >\r\n                <Github className=\"w-5 h-5\" />\r\n              </a>\r\n              <a\r\n                href=\"mailto:studionullbyte@gmail.com\"\r\n                className=\"text-gray-400 hover:text-electric-violet transition-colors\"\r\n              >\r\n                <Mail className=\"w-5 h-5\" />\r\n              </a>\r\n            </div>\r\n          </div>\r\n\r\n          {/* Quick Links */}\r\n          <div>\r\n            <h3 className=\"font-mono text-sm font-bold mb-4 text-electric-violet\">\r\n              Navigation\r\n            </h3>\r\n            <ul className=\"space-y-2 text-sm\">\r\n              <li>\r\n                <Link to=\"/\" className=\"text-gray-400 hover:text-white transition-colors\">\r\n                  Home\r\n                </Link>\r\n              </li>\r\n              <li>\r\n                <Link to=\"/products\" className=\"text-gray-400 hover:text-white transition-colors\">\r\n                  Products\r\n                </Link>\r\n              </li>\r\n              <li>\r\n                <Link to=\"/about\" className=\"text-gray-400 hover:text-white transition-colors\">\r\n                  About\r\n                </Link>\r\n              </li>\r\n              <li>\r\n                <Link to=\"/contact\" className=\"text-gray-400 hover:text-white transition-colors\">\r\n                  Contact\r\n                </Link>\r\n              </li>\r\n            </ul>\r\n          </div>\r\n\r\n          {/* Products */}\r\n          <div>\r\n            <h3 className=\"font-mono text-sm font-bold mb-4 text-electric-violet\">\r\n              Products\r\n            </h3>\r\n            <ul className=\"space-y-2 text-sm\">\r\n              <li>\r\n                <Link to=\"/products?category=web\" className=\"text-gray-400 hover:text-white transition-colors\">\r\n                  Web Templates\r\n                </Link>\r\n              </li>\r\n              <li>\r\n                <Link to=\"/products?category=notion\" className=\"text-gray-400 hover:text-white transition-colors\">\r\n                  Notion Templates\r\n                </Link>\r\n              </li>\r\n              <li>\r\n                <Link to=\"/products?category=ai\" className=\"text-gray-400 hover:text-white transition-colors\">\r\n                  AI Prompts\r\n                </Link>\r\n              </li>\r\n              <li>\r\n                <Link to=\"/products?category=docs\" className=\"text-gray-400 hover:text-white transition-colors\">\r\n                  Document Templates\r\n                </Link>\r\n              </li>\r\n            </ul>\r\n          </div>\r\n        </div>\r\n\r\n        {/* Bottom Bar */}\r\n        <div className=\"border-t border-gray-800 mt-8 pt-6 sm:pt-8 flex flex-col sm:flex-row justify-between items-center space-y-4 sm:space-y-0\">\r\n          <p className=\"text-gray-400 text-sm font-mono text-center sm:text-left\">\r\n            Â© 2025 Studio Nullbyte. Built with â˜• and code.\r\n          </p>\r\n          <div className=\"flex space-x-4 sm:space-x-6\">\r\n            <Link to=\"/privacy-policy\" className=\"text-gray-400 hover:text-white text-sm transition-colors\">\r\n              Privacy Policy\r\n            </Link>\r\n            <Link to=\"/terms-of-service\" className=\"text-gray-400 hover:text-white text-sm transition-colors\">\r\n              Terms of Service\r\n            </Link>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </footer>\r\n  )\r\n}\r\n\r\nexport default Footer\r\n","import { useEffect } from 'react'\r\n\r\n// Extend Window interface for Crisp\r\ndeclare global {\r\n  interface Window {\r\n    $crisp: any[]\r\n    CRISP_WEBSITE_ID: string\r\n  }\r\n}\r\n\r\nconst CrispChat: React.FC = () => {\r\n  useEffect(() => {\r\n    // Get Crisp Website ID from environment\r\n    const crispWebsiteId = import.meta.env.VITE_CRISP_WEBSITE_ID\r\n\r\n    if (!crispWebsiteId) {\r\n      console.warn('Crisp Chat: VITE_CRISP_WEBSITE_ID not found in environment variables')\r\n      return\r\n    }\r\n\r\n    // Initialize Crisp\r\n    window.$crisp = []\r\n    window.CRISP_WEBSITE_ID = crispWebsiteId\r\n\r\n    // Create and append Crisp script\r\n    const script = document.createElement('script')\r\n    script.src = 'https://client.crisp.chat/l.js'\r\n    script.async = true\r\n    script.onload = () => {\r\n      // Customize Crisp to match Studio Nullbyte theme\r\n      configureCrispTheme()\r\n    }\r\n    \r\n    document.getElementsByTagName('head')[0].appendChild(script)\r\n\r\n    // Cleanup function\r\n    return () => {\r\n      const existingScript = document.querySelector('script[src=\"https://client.crisp.chat/l.js\"]')\r\n      if (existingScript) {\r\n        existingScript.remove()\r\n      }\r\n      \r\n      // Reset Crisp globals\r\n      if (window.$crisp) {\r\n        window.$crisp = []\r\n      }\r\n    }\r\n  }, [])\r\n\r\n  const configureCrispTheme = () => {\r\n    if (!window.$crisp) return\r\n\r\n    try {\r\n      // Studio Nullbyte theme customization\r\n      window.$crisp.push(['set', 'appearance:theme', ['dark']])\r\n      window.$crisp.push(['set', 'appearance:color', ['#8B5CF6']]) // Electric violet\r\n      \r\n      // Position and behavior\r\n      window.$crisp.push(['set', 'appearance:position', ['bottom-right']])\r\n      window.$crisp.push(['set', 'appearance:animation', ['slide']])\r\n      \r\n      // Custom welcome message\r\n      window.$crisp.push(['set', 'chat:greeting:text', [\r\n        'Welcome to Studio Nullbyte! ðŸ‘‹\\n\\nNeed help with our templates or have questions about custom development?'\r\n      ]])\r\n      \r\n      // Set availability text\r\n      window.$crisp.push(['set', 'chat:availability:text', [\r\n        'We typically respond within a few hours. Drop us a message!'\r\n      ]])\r\n\r\n      // Tag conversations for better organization\r\n      window.$crisp.push(['set', 'session:segments', [['website-visitor']]])\r\n      \r\n    } catch (error) {\r\n      console.error('Crisp Chat configuration error:', error)\r\n    }\r\n  }\r\n\r\n  // This component doesn't render any visible elements\r\n  return null\r\n}\r\n\r\nexport default CrispChat\r\n","import React from 'react'\r\nimport { Helmet } from 'react-helmet-async'\r\n\r\ninterface SEOProps {\r\n  title?: string\r\n  description?: string\r\n  keywords?: string\r\n  image?: string\r\n  url?: string\r\n  type?: 'website' | 'article' | 'product'\r\n  structuredData?: string\r\n  noIndex?: boolean\r\n  canonical?: string\r\n}\r\n\r\nconst SEO: React.FC<SEOProps> = ({\r\n  title = \"Studio Nullbyte - Modular Design Tools\",\r\n  description = \"Modular tools for the design-minded developer. Clean. Branded. Ready to deploy.\",\r\n  keywords = \"templates, web templates, notion templates, AI prompts, developer tools, freelancers, design tools, react templates, typescript templates\",\r\n  image = \"https://studio-nullbyte.github.io/android-chrome-512x512.png\",\r\n  url = \"https://studio-nullbyte.github.io\",\r\n  type = \"website\",\r\n  structuredData,\r\n  noIndex = false,\r\n  canonical\r\n}) => {\r\n  const fullTitle = title.includes('Studio Nullbyte') ? title : `${title} - Studio Nullbyte`\r\n  const fullUrl = url.startsWith('http') ? url : `https://studio-nullbyte.github.io${url}`\r\n  \r\n  return (\r\n    <Helmet>\r\n      {/* Basic Meta Tags */}\r\n      <title>{fullTitle}</title>\r\n      <meta name=\"description\" content={description} />\r\n      <meta name=\"keywords\" content={keywords} />\r\n      <meta name=\"author\" content=\"Studio Nullbyte\" />\r\n      \r\n      {/* Canonical URL */}\r\n      {canonical && <link rel=\"canonical\" href={canonical} />}\r\n      \r\n      {/* Robots */}\r\n      {noIndex ? (\r\n        <meta name=\"robots\" content=\"noindex, nofollow\" />\r\n      ) : (\r\n        <meta name=\"robots\" content=\"index, follow, max-snippet:-1, max-image-preview:large, max-video-preview:-1\" />\r\n      )}\r\n      \r\n      {/* Open Graph */}\r\n      <meta property=\"og:title\" content={fullTitle} />\r\n      <meta property=\"og:description\" content={description} />\r\n      <meta property=\"og:type\" content={type} />\r\n      <meta property=\"og:url\" content={fullUrl} />\r\n      <meta property=\"og:image\" content={image} />\r\n      <meta property=\"og:image:width\" content=\"512\" />\r\n      <meta property=\"og:image:height\" content=\"512\" />\r\n      <meta property=\"og:site_name\" content=\"Studio Nullbyte\" />\r\n      <meta property=\"og:locale\" content=\"en_US\" />\r\n      \r\n      {/* Twitter Card */}\r\n      <meta name=\"twitter:card\" content=\"summary_large_image\" />\r\n      <meta name=\"twitter:title\" content={fullTitle} />\r\n      <meta name=\"twitter:description\" content={description} />\r\n      <meta name=\"twitter:image\" content={image} />\r\n      <meta name=\"twitter:site\" content=\"@studionullbyte\" />\r\n      <meta name=\"twitter:creator\" content=\"@studionullbyte\" />\r\n      \r\n      {/* Additional Meta Tags */}\r\n      <meta name=\"theme-color\" content=\"#000000\" />\r\n      <meta name=\"msapplication-TileColor\" content=\"#000000\" />\r\n      \r\n      {/* Structured Data */}\r\n      {structuredData && (\r\n        <script type=\"application/ld+json\">\r\n          {structuredData}\r\n        </script>\r\n      )}\r\n      \r\n      {/* Preconnect to external domains for performance */}\r\n      <link rel=\"preconnect\" href=\"https://fonts.googleapis.com\" />\r\n      <link rel=\"preconnect\" href=\"https://fonts.gstatic.com\" crossOrigin=\"anonymous\" />\r\n      <link rel=\"dns-prefetch\" href=\"https://js.stripe.com\" />\r\n      <link rel=\"dns-prefetch\" href=\"https://client.crisp.chat\" />\r\n    </Helmet>\r\n  )\r\n}\r\n\r\nexport default SEO\r\n","import React, { useState, useEffect } from 'react'\r\nimport { Link } from 'react-router-dom'\r\nimport { motion } from 'framer-motion'\r\nimport { ArrowRight, Code, Palette, Zap, Users, Download, Contact, Loader2 } from 'lucide-react'\r\nimport SEO from '../components/SEO'\r\nimport { getFeaturedProducts } from '../lib/supabase'\r\nimport { logger } from '../utils/logger'\r\nimport type { Product } from '../lib/types/database'\r\n\r\nconst Home: React.FC = () => {\r\n  const [featuredProducts, setFeaturedProducts] = useState<Product[]>([])\r\n  const [loading, setLoading] = useState(true)\r\n  const [error, setError] = useState<string | null>(null)\r\n\r\n  useEffect(() => {\r\n    const fetchFeaturedProducts = async () => {\r\n      try {\r\n        setLoading(true)\r\n        const { data, error } = await getFeaturedProducts(3)\r\n        \r\n        if (error) {\r\n          logger.error('Error fetching featured products:', error)\r\n          setError('Failed to load featured products')\r\n        } else if (data) {\r\n          setFeaturedProducts(data)\r\n        }\r\n      } catch (err) {\r\n        logger.error('Error fetching featured products:', err)\r\n        setError('Failed to load featured products')\r\n      } finally {\r\n        setLoading(false)\r\n      }\r\n    }\r\n\r\n    fetchFeaturedProducts()\r\n  }, [])\r\n\r\n  const features = [\r\n    {\r\n      icon: <Code className=\"w-8 h-8\" aria-hidden=\"true\" />,\r\n      title: \"Developer-First\",\r\n      description: \"Built for those who think in syntax and ship in silence.\"\r\n    },\r\n    {\r\n      icon: <Palette className=\"w-8 h-8\" aria-hidden=\"true\" />,\r\n      title: \"Design-Minded\",\r\n      description: \"Aesthetic precision meets functional excellence.\"\r\n    },\r\n    {\r\n      icon: <Zap className=\"w-8 h-8\" aria-hidden=\"true\" />,\r\n      title: \"Ready to Deploy\",\r\n      description: \"Plug-and-play solutions that work out of the box.\"\r\n    },\r\n    {\r\n      icon: <Users className=\"w-8 h-8\" aria-hidden=\"true\" />,\r\n      title: \"Community Driven\",\r\n      description: \"Built by developers, for developers and creators.\"\r\n    }\r\n  ]\r\n\r\n  const stats = [\r\n    { value: \"500+\", label: \"Templates\" },\r\n    { value: \"10k+\", label: \"Downloads\" },\r\n    { value: \"4.9/5\", label: \"Rating\" },\r\n    { value: \"24/7\", label: \"Support\" }\r\n  ]\r\n\r\n  const structuredData = JSON.stringify({\r\n    \"@context\": \"https://schema.org\",\r\n    \"@type\": \"WebSite\",\r\n    \"name\": \"Studio Nullbyte\",\r\n    \"url\": \"https://studio-nullbyte.github.io\",\r\n    \"description\": \"Modular tools for the design-minded developer. Clean. Branded. Ready to deploy.\",\r\n    \"publisher\": {\r\n      \"@type\": \"Organization\",\r\n      \"name\": \"Studio Nullbyte\"\r\n    },\r\n    \"potentialAction\": {\r\n      \"@type\": \"SearchAction\",\r\n      \"target\": \"https://studio-nullbyte.github.io/products?search={search_term_string}\",\r\n      \"query-input\": \"required name=search_term_string\"\r\n    }\r\n  }, null, 2)\r\n\r\n  return (\r\n    <>\r\n      <SEO\r\n        title=\"Studio Nullbyte - Modular Design Tools\"\r\n        description=\"Modular tools for the design-minded developer. Clean. Branded. Ready to deploy.\"\r\n        keywords=\"templates, web templates, notion templates, AI prompts, developer tools, react templates, ui components, freelancers, digital products\"\r\n        url=\"/\"\r\n        type=\"website\"\r\n        structuredData={structuredData}\r\n      />\r\n\r\n      {/* Skip Link */}\r\n      <a href=\"#main-content\" className=\"skip-link\">\r\n        Skip to main content\r\n      </a>\r\n\r\n      {/* Hero Section */}\r\n      <section \r\n        id=\"main-content\"\r\n        className=\"min-h-screen flex items-center justify-center relative overflow-hidden px-4 sm:px-6 pt-20\" \r\n        aria-labelledby=\"hero-heading\"\r\n      >\r\n        <div className=\"absolute inset-0 bg-grid-pattern opacity-10\" aria-hidden=\"true\" />\r\n        <div className=\"container mx-auto text-center relative z-10 max-w-6xl\">\r\n          <motion.div\r\n            initial={{ opacity: 0, y: 40 }}\r\n            animate={{ opacity: 1, y: 0 }}\r\n            transition={{ duration: 0.8 }}\r\n            className=\"max-w-4xl mx-auto\"\r\n          >\r\n            <h1 \r\n              id=\"hero-heading\"\r\n              className=\"text-3xl sm:text-4xl md:text-5xl lg:text-6xl xl:text-7xl font-mono font-bold mb-4 sm:mb-6 leading-tight\"\r\n            >\r\n              Modular tools for the\r\n              <span className=\"block text-electric-violet mt-2\">\r\n                design-minded developer\r\n              </span>\r\n            </h1>\r\n            <p className=\"text-lg sm:text-xl md:text-2xl text-gray-400 mb-6 sm:mb-8 font-mono px-4\">\r\n              Clean. Branded. Ready to deploy.\r\n            </p>\r\n            <div className=\"flex flex-col sm:flex-row gap-4 justify-center px-4\">\r\n              <Link \r\n                to=\"/products\" \r\n                className=\"btn-primary inline-flex items-center justify-center\"\r\n                aria-describedby=\"browse-description\"\r\n              >\r\n                Browse Templates\r\n                <ArrowRight className=\"w-4 h-4 sm:w-5 sm:h-5 ml-2\" aria-hidden=\"true\" />\r\n              </Link>\r\n              <span id=\"browse-description\" className=\"sr-only\">\r\n                Explore our collection of developer tools and templates\r\n              </span>\r\n              <Link to=\"/about\" className=\"btn-secondary\">\r\n                Learn More\r\n              </Link>\r\n            </div>\r\n          </motion.div>\r\n        </div>\r\n      </section>\r\n\r\n      {/* Stats Section */}\r\n      <section \r\n        className=\"py-12 sm:py-16 lg:py-20 bg-code-gray\"\r\n        aria-labelledby=\"stats-heading\"\r\n      >\r\n        <div className=\"container mx-auto px-4 sm:px-6 lg:px-8\">\r\n          <h2 id=\"stats-heading\" className=\"sr-only\">Company Statistics</h2>\r\n          <div className=\"grid grid-cols-2 lg:grid-cols-4 gap-6 sm:gap-8\">\r\n            {stats.map((stat, index) => (\r\n              <motion.div\r\n                key={index}\r\n                initial={{ opacity: 0, y: 20 }}\r\n                whileInView={{ opacity: 1, y: 0 }}\r\n                transition={{ duration: 0.5, delay: index * 0.1 }}\r\n                className=\"text-center\"\r\n              >\r\n                <div \r\n                  className=\"text-2xl sm:text-3xl lg:text-4xl font-mono font-bold text-electric-violet mb-2\"\r\n                  aria-label={`${stat.value} ${stat.label}`}\r\n                >\r\n                  {stat.value}\r\n                </div>\r\n                <div className=\"text-gray-400 font-mono text-xs sm:text-sm\">\r\n                  {stat.label}\r\n                </div>\r\n              </motion.div>\r\n            ))}\r\n          </div>\r\n        </div>\r\n      </section>\r\n\r\n      {/* Features Section */}\r\n      <section \r\n        className=\"py-12 sm:py-16 lg:py-20\"\r\n        aria-labelledby=\"features-heading\"\r\n      >\r\n        <div className=\"container mx-auto px-4 sm:px-6 lg:px-8\">\r\n          <div className=\"text-center mb-12 sm:mb-16\">\r\n            <h2 \r\n              id=\"features-heading\"\r\n              className=\"text-2xl sm:text-3xl lg:text-4xl font-mono font-bold mb-4\"\r\n            >\r\n              Built for <span className=\"text-electric-violet\">Creators</span>\r\n            </h2>\r\n            <p className=\"text-gray-400 text-base sm:text-lg max-w-2xl mx-auto px-4\">\r\n              Whether you're a freelancer, indie developer, or agency owner, our tools adapt to your workflow.\r\n            </p>\r\n          </div>\r\n\r\n          <div className=\"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6 sm:gap-8\">\r\n            {features.map((feature, index) => (\r\n              <motion.div\r\n                key={index}\r\n                initial={{ opacity: 0, y: 20 }}\r\n                whileInView={{ opacity: 1, y: 0 }}\r\n                transition={{ duration: 0.5, delay: index * 0.1 }}\r\n                className=\"card group\"\r\n              >\r\n                <div className=\"text-electric-violet mb-4 group-hover:scale-110 transition-transform\">\r\n                  {feature.icon}\r\n                </div>\r\n                <h3 className=\"text-lg sm:text-xl font-mono font-bold mb-2\">\r\n                  {feature.title}\r\n                </h3>\r\n                <p className=\"text-gray-400 text-sm\">\r\n                  {feature.description}\r\n                </p>\r\n              </motion.div>\r\n            ))}\r\n          </div>\r\n        </div>\r\n      </section>\r\n\r\n      {/* Featured Products - Only show if there are products or if loading/error */}\r\n      {(loading || error || featuredProducts.length > 0) && (\r\n        <section \r\n          className=\"py-12 sm:py-16 lg:py-20 bg-code-gray\"\r\n          aria-labelledby=\"featured-products-heading\"\r\n        >\r\n          <div className=\"container mx-auto px-4 sm:px-6 lg:px-8\">\r\n            <div className=\"text-center mb-12 sm:mb-16\">\r\n              <h2 \r\n                id=\"featured-products-heading\"\r\n                className=\"text-2xl sm:text-3xl lg:text-4xl font-mono font-bold mb-4\"\r\n              >\r\n                Featured <span className=\"text-electric-violet\">Products</span>\r\n              </h2>\r\n              <p className=\"text-gray-400 text-base sm:text-lg max-w-2xl mx-auto px-4\">\r\n                Handpicked templates and tools to accelerate your next project.\r\n              </p>\r\n            </div>\r\n\r\n            <div className=\"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 gap-6 sm:gap-8\">\r\n              {loading ? (\r\n                // Loading state\r\n                <div className=\"col-span-full flex items-center justify-center py-12\">\r\n                  <Loader2 className=\"w-8 h-8 animate-spin text-electric-violet\" />\r\n                  <span className=\"ml-3 text-gray-400\">Loading featured products...</span>\r\n                </div>\r\n              ) : error ? (\r\n                // Error state\r\n                <div className=\"col-span-full text-center py-12\">\r\n                  <p className=\"text-red-400 mb-4\">{error}</p>\r\n                  <button\r\n                    onClick={() => window.location.reload()}\r\n                    className=\"btn-secondary\"\r\n                  >\r\n                    Try Again\r\n                  </button>\r\n                </div>\r\n              ) : (\r\n                // Products loaded successfully\r\n                featuredProducts.map((product, index) => (\r\n                  <motion.article\r\n                    key={product.id}\r\n                    initial={{ opacity: 0, y: 20 }}\r\n                    whileInView={{ opacity: 1, y: 0 }}\r\n                    transition={{ duration: 0.5, delay: index * 0.1 }}\r\n                    className=\"card group\"\r\n                  >\r\n                    <div className=\"aspect-video bg-code-gray-dark rounded-sm mb-4 overflow-hidden\">\r\n                      <img\r\n                        src={product.image_url || \"/api/placeholder/400/300\"}\r\n                        alt={`${product.title} preview`}\r\n                        className=\"w-full h-full object-cover group-hover:scale-105 transition-transform\"\r\n                        onError={(e) => {\r\n                          const target = e.target as HTMLImageElement;\r\n                          target.src = \"/api/placeholder/400/300\";\r\n                        }}\r\n                      />\r\n                    </div>\r\n                    <div className=\"flex justify-between items-start mb-2\">\r\n                      <span className=\"text-xs text-electric-violet font-mono\">\r\n                        {(product as any).categories?.name || 'Product'}\r\n                      </span>\r\n                      <span className=\"text-lg sm:text-xl font-mono font-bold text-electric-violet\">\r\n                        ${product.price}\r\n                      </span>\r\n                    </div>\r\n                    <h3 className=\"text-base sm:text-lg font-mono font-bold mb-2\">\r\n                      {product.title}\r\n                    </h3>\r\n                    <div className=\"flex flex-wrap gap-2 mb-4\">\r\n                      {product.tags.map((tag, tagIndex) => (\r\n                        <span\r\n                          key={tagIndex}\r\n                          className=\"text-xs bg-gray-800 text-gray-300 px-2 py-1 rounded-sm\"\r\n                        >\r\n                          {tag}\r\n                        </span>\r\n                      ))}\r\n                    </div>\r\n                    <Link\r\n                      to={`/product/${product.id}`}\r\n                      className=\"btn-primary w-full text-center text-sm sm:text-base\"\r\n                    >\r\n                      View Details\r\n                    </Link>\r\n                  </motion.article>\r\n                ))\r\n              )}\r\n            </div>\r\n\r\n            {featuredProducts.length > 0 && (\r\n              <div className=\"text-center mt-8 sm:mt-12\">\r\n                <Link \r\n                  to=\"/products\" \r\n                  className=\"btn-secondary inline-flex items-center\"\r\n                  aria-label=\"View all products in our catalog\"\r\n                >\r\n                  View All Products\r\n                  <ArrowRight className=\"w-4 h-4 sm:w-5 sm:h-5 ml-2\" aria-hidden=\"true\" />\r\n                </Link>\r\n              </div>\r\n            )}\r\n          </div>\r\n        </section>\r\n      )}\r\n\r\n      {/* CTA Section */}\r\n      <section \r\n        className=\"py-20\"\r\n        aria-labelledby=\"cta-heading\"\r\n      >\r\n        <div className=\"container mx-auto px-4\">\r\n          <div className=\"max-w-4xl mx-auto text-center\">\r\n            <h2 \r\n              id=\"cta-heading\"\r\n              className=\"text-3xl md:text-4xl font-mono font-bold mb-4\"\r\n            >\r\n              Ready to <span className=\"text-electric-violet\">Ship</span>?\r\n            </h2>\r\n            <p className=\"text-gray-400 text-lg mb-8\">\r\n              Join thousands of developers who trust Studio Nullbyte for their projects.\r\n            </p>\r\n            <div className=\"flex flex-col sm:flex-row gap-4 justify-center\">\r\n              <Link \r\n                to=\"/products\" \r\n                className=\"btn-primary flex\"\r\n                aria-describedby=\"get-started-description\"\r\n              >\r\n                <Download className=\"w-5 h-5 mr-2\" aria-hidden=\"true\" />\r\n                Get Started\r\n              </Link>\r\n              <span id=\"get-started-description\" className=\"sr-only\">\r\n                Browse our product catalog to find the perfect template for your project\r\n              </span>\r\n              <Link \r\n                to=\"/contact\" \r\n                className=\"btn-secondary flex\"\r\n                aria-label=\"Contact us for support or custom solutions\"\r\n              >\r\n                <Contact className=\"w-5 h-5 mr-2\" aria-hidden=\"true\" />\r\n                Contact Us\r\n              </Link>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </section>\r\n    </>\r\n  )\r\n}\r\n\r\nexport default Home\r\n","import React, { useState, useEffect } from 'react'\r\nimport { motion } from 'framer-motion'\r\nimport { Filter, Search } from 'lucide-react'\r\nimport { useNavigate } from 'react-router-dom'\r\nimport { supabase } from '../lib/supabase'\r\nimport SEO from '../components/SEO'\r\n\r\ninterface Product {\r\n  id: string\r\n  title: string\r\n  description: string\r\n  price: number\r\n  category_id: string\r\n  category?: {\r\n    name: string\r\n    slug: string\r\n  }\r\n  image_url: string | null\r\n  download_url: string | null\r\n  preview_url: string | null\r\n  tags: string[]\r\n  featured: boolean\r\n  active: boolean\r\n  created_at: string\r\n  updated_at: string\r\n}\r\n\r\ninterface Category {\r\n  id: string\r\n  name: string\r\n  slug: string\r\n  description: string | null\r\n  is_active: boolean\r\n  created_at: string\r\n  updated_at: string\r\n}\r\n\r\nconst Products: React.FC = () => {\r\n  const navigate = useNavigate()\r\n  const [selectedCategory, setSelectedCategory] = useState('all')\r\n  const [searchTerm, setSearchTerm] = useState('')\r\n  const [products, setProducts] = useState<Product[]>([])\r\n  const [categories, setCategories] = useState<Category[]>([])\r\n  const [loading, setLoading] = useState(true)\r\n\r\n  // Fetch products and categories from database\r\n  useEffect(() => {\r\n    const fetchData = async () => {\r\n      try {\r\n        // Fetch products\r\n        const { data: productsData, error: productsError } = await supabase\r\n          .from('products')\r\n          .select(`\r\n            *,\r\n            category:categories(name, slug)\r\n          `)\r\n          .eq('active', true)\r\n          .order('created_at', { ascending: false })\r\n\r\n        if (productsError) {\r\n          console.error('Error fetching products:', productsError)\r\n        } else {\r\n          setProducts(productsData || [])\r\n        }\r\n\r\n        // Fetch categories\r\n        const { data: categoriesData, error: categoriesError } = await supabase\r\n          .from('categories')\r\n          .select('*')\r\n          .eq('is_active', true)\r\n          .order('name')\r\n\r\n        if (categoriesError) {\r\n          console.error('Error fetching categories:', categoriesError)\r\n        } else {\r\n          setCategories(categoriesData || [])\r\n        }\r\n      } catch (error) {\r\n        console.error('Error fetching data:', error)\r\n      } finally {\r\n        setLoading(false)\r\n      }\r\n    }\r\n\r\n    fetchData()\r\n  }, [])\r\n\r\n  // Handler for viewing product details\r\n  const handleViewDetails = (productId: string) => {\r\n    navigate(`/product/${productId}`)\r\n  }\r\n\r\n  // Filter products based on search and category\r\n  const filteredProducts = products.filter(product => {\r\n    const matchesSearch = searchTerm === '' || \r\n      product.title.toLowerCase().includes(searchTerm.toLowerCase()) ||\r\n      product.description.toLowerCase().includes(searchTerm.toLowerCase()) ||\r\n      product.tags.some(tag => tag.toLowerCase().includes(searchTerm.toLowerCase()))\r\n    \r\n    const matchesCategory = selectedCategory === 'all' || product.category_id === selectedCategory\r\n    \r\n    return matchesSearch && matchesCategory\r\n  })\r\n\r\n  // Create categories with counts\r\n  const categoriesWithCounts = [\r\n    { id: 'all', name: 'All Products', count: products.length },\r\n    ...categories.map(category => ({\r\n      id: category.id,\r\n      name: category.name,\r\n      count: products.filter(p => p.category_id === category.id).length\r\n    }))\r\n  ]\r\n\r\n  const structuredData = JSON.stringify({\r\n    \"@context\": \"https://schema.org\",\r\n    \"@type\": \"CollectionPage\",\r\n    \"name\": \"Products - Studio Nullbyte\",\r\n    \"description\": \"Browse our collection of web templates, Notion templates, AI prompts, and more.\",\r\n    \"url\": \"https://studio-nullbyte.github.io/products\",\r\n    \"publisher\": {\r\n      \"@type\": \"Organization\",\r\n      \"name\": \"Studio Nullbyte\"\r\n    },\r\n    \"mainEntity\": {\r\n      \"@type\": \"ItemList\",\r\n      \"name\": \"Digital Products\",\r\n      \"numberOfItems\": products.length\r\n    }\r\n  }, null, 2)\r\n\r\n  return (\r\n    <>\r\n      <SEO\r\n        title=\"Products - Studio Nullbyte\"\r\n        description=\"Browse our collection of web templates, Notion templates, AI prompts, UI components, and document templates for developers and creators.\"\r\n        keywords=\"web templates, notion templates, AI prompts, UI components, react templates, developer tools, digital products, freelancer tools\"\r\n        url=\"/products\"\r\n        type=\"website\"\r\n        structuredData={structuredData}\r\n      />\r\n\r\n      <div className=\"min-h-screen pt-16 sm:pt-20\">\r\n        {/* Skip Link for Keyboard Navigation */}\r\n        <a \r\n          href=\"#main-content\" \r\n          className=\"skip-link\"\r\n          onFocus={(e) => e.currentTarget.style.transform = 'translateY(0)'}\r\n          onBlur={(e) => e.currentTarget.style.transform = 'translateY(-100%)'}\r\n        >\r\n          Skip to main content\r\n        </a>\r\n\r\n        {/* Header */}\r\n        <section className=\"py-12 sm:py-16 lg:py-20 bg-code-gray\" role=\"banner\">\r\n          <div className=\"container mx-auto px-4 sm:px-6 lg:px-8\">\r\n            <div className=\"text-center mb-8 sm:mb-12\">\r\n              <h1 className=\"text-3xl sm:text-4xl lg:text-5xl font-mono font-bold mb-4\">\r\n                Browse <span className=\"text-electric-violet\">Products</span>\r\n              </h1>\r\n              <p className=\"text-gray-300 text-base sm:text-lg max-w-2xl mx-auto px-4\">\r\n                Handcrafted templates and tools to accelerate your next project.\r\n              </p>\r\n            </div>\r\n\r\n            {/* Search and Filters */}\r\n            <div className=\"max-w-4xl mx-auto\">\r\n              <div className=\"flex flex-col gap-4 mb-6 sm:mb-8\">\r\n                <div className=\"relative\">\r\n                  <label htmlFor=\"product-search\" className=\"sr-only\">\r\n                    Search products by name, description, or tags\r\n                  </label>\r\n                  <Search \r\n                    className=\"w-4 h-4 sm:w-5 sm:h-5 absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400\" \r\n                    aria-hidden=\"true\"\r\n                  />\r\n                  <input\r\n                    id=\"product-search\"\r\n                    type=\"text\"\r\n                    placeholder=\"Search products...\"\r\n                    value={searchTerm}\r\n                    onChange={(e) => setSearchTerm(e.target.value)}\r\n                    className=\"input-field pl-10\"\r\n                    aria-describedby=\"search-description\"\r\n                  />\r\n                  <div id=\"search-description\" className=\"sr-only\">\r\n                    Search through {products.length} products by name, description, or tags\r\n                  </div>\r\n                </div>\r\n                <div className=\"flex items-center justify-center sm:justify-start space-x-2\">\r\n                  <Filter className=\"w-4 h-4 sm:w-5 sm:h-5 text-gray-400\" aria-hidden=\"true\" />\r\n                  <span className=\"text-xs sm:text-sm text-gray-300 font-mono\">Filter by category</span>\r\n                </div>\r\n              </div>\r\n\r\n              {/* Category Filters */}\r\n              <fieldset className=\"mb-6 sm:mb-8\">\r\n                <legend className=\"sr-only\">Filter products by category</legend>\r\n                <div className=\"flex flex-wrap gap-2 justify-center sm:justify-start\" role=\"group\">\r\n                  {categoriesWithCounts.map(category => (\r\n                    <button\r\n                      key={category.id}\r\n                      onClick={() => setSelectedCategory(category.id)}\r\n                      className={`px-3 py-2 sm:px-4 rounded-sm font-mono text-xs sm:text-sm transition-colors ${\r\n                        selectedCategory === category.id\r\n                          ? 'bg-electric-violet text-black'\r\n                          : 'bg-gray-800 text-gray-300 hover:bg-gray-700'\r\n                      }`}\r\n                      aria-pressed={selectedCategory === category.id}\r\n                      aria-describedby={`category-${category.id}-count`}\r\n                    >\r\n                      {category.name}\r\n                      <span id={`category-${category.id}-count`} className=\"sr-only\">\r\n                        {category.count} products\r\n                      </span>\r\n                      <span aria-hidden=\"true\"> ({category.count})</span>\r\n                    </button>\r\n                  ))}\r\n                </div>\r\n              </fieldset>\r\n            </div>\r\n          </div>\r\n        </section>\r\n\r\n        {/* Products Grid */}\r\n        <main id=\"main-content\" className=\"py-12 sm:py-16 lg:py-20\">\r\n          <div className=\"container mx-auto px-4 sm:px-6 lg:px-8\">\r\n            {loading ? (\r\n              <div className=\"text-center py-12\" role=\"status\" aria-live=\"polite\">\r\n                <div className=\"font-mono text-gray-300\">Loading products...</div>\r\n                <div className=\"sr-only\">Please wait while we load the products</div>\r\n              </div>\r\n            ) : filteredProducts.length === 0 ? (\r\n              <div className=\"text-center py-16\" role=\"status\" aria-live=\"polite\">\r\n                <div className=\"max-w-md mx-auto\">\r\n                  <div className=\"w-16 h-16 bg-electric-violet/20 rounded-lg flex items-center justify-center mx-auto mb-6\">\r\n                    <Search className=\"w-8 h-8 text-electric-violet\" />\r\n                  </div>\r\n                  <h2 className=\"text-2xl font-mono font-bold text-white mb-4\">\r\n                    No products found\r\n                  </h2>\r\n                  <p className=\"text-gray-400 font-mono text-sm mb-6\">\r\n                    {searchTerm && selectedCategory !== 'all' ? (\r\n                      <>We couldn't find any products matching \"{searchTerm}\" in the selected category.</>\r\n                    ) : searchTerm ? (\r\n                      <>We couldn't find any products matching \"{searchTerm}\".</>\r\n                    ) : selectedCategory !== 'all' ? (\r\n                      <>No products available in the selected category.</>\r\n                    ) : products.length === 0 ? (\r\n                      <>No products are currently available. Check back soon for new releases!</>\r\n                    ) : (\r\n                      <>No products found matching your criteria.</>\r\n                    )}\r\n                  </p>\r\n                  <div className=\"flex flex-col sm:flex-row gap-3 justify-center\">\r\n                    {searchTerm && (\r\n                      <button\r\n                        onClick={() => setSearchTerm('')}\r\n                        className=\"btn-secondary\"\r\n                      >\r\n                        Clear search\r\n                      </button>\r\n                    )}\r\n                    {selectedCategory !== 'all' && (\r\n                      <button\r\n                        onClick={() => setSelectedCategory('all')}\r\n                        className=\"btn-secondary\"\r\n                      >\r\n                        View all products\r\n                      </button>\r\n                    )}\r\n                  </div>\r\n                </div>\r\n                <div className=\"sr-only\">\r\n                  {searchTerm ? `No products found for search term \"${searchTerm}\"` : 'No products in selected category'}\r\n                </div>\r\n              </div>\r\n            ) : (\r\n              <>\r\n                <div className=\"sr-only\" aria-live=\"polite\" aria-atomic=\"true\">\r\n                  Showing {filteredProducts.length} of {products.length} products\r\n                  {selectedCategory !== 'all' && ` in ${categoriesWithCounts.find(c => c.id === selectedCategory)?.name}`}\r\n                  {searchTerm && ` matching \"${searchTerm}\"`}\r\n                </div>\r\n                <div \r\n                  className=\"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6 sm:gap-8\"\r\n                  role=\"region\"\r\n                  aria-label=\"Product listings\"\r\n                >\r\n                  {filteredProducts.map((product, index) => (\r\n                    <article\r\n                      key={product.id}\r\n                      className=\"card group relative\"\r\n                      aria-labelledby={`product-title-${product.id}`}\r\n                    >\r\n                      <motion.div\r\n                        initial={{ opacity: 0, y: 20 }}\r\n                        animate={{ opacity: 1, y: 0 }}\r\n                        transition={{ duration: 0.5, delay: index * 0.1 }}\r\n                      >\r\n                        {product.featured && (\r\n                          <div \r\n                            className=\"absolute top-3 right-3 sm:top-4 sm:right-4 bg-electric-violet text-black px-2 py-1 rounded-sm text-xs font-mono font-bold z-10\"\r\n                            aria-label=\"Featured product\"\r\n                          >\r\n                            FEATURED\r\n                          </div>\r\n                        )}\r\n                        \r\n                        <div className=\"aspect-video bg-code-gray-dark rounded-sm mb-4 overflow-hidden\">\r\n                          {product.image_url ? (\r\n                            <img\r\n                              src={`${product.image_url}?t=${product.updated_at || Date.now()}`}\r\n                              alt={`Preview image for ${product.title}`}\r\n                              className=\"w-full h-full object-cover group-hover:scale-105 transition-transform\"\r\n                              onError={(e) => {\r\n                                const target = e.target as HTMLImageElement\r\n                                target.style.display = 'none'\r\n                                target.nextElementSibling?.classList.remove('hidden')\r\n                              }}\r\n                            />\r\n                          ) : null}\r\n                          <div className={`w-full h-full flex items-center justify-center text-gray-500 ${product.image_url ? 'hidden' : ''}`}>\r\n                            <span className=\"font-mono text-sm\">No preview available</span>\r\n                          </div>\r\n                        </div>\r\n                        \r\n                        <div className=\"flex justify-between items-start mb-2\">\r\n                          <span className=\"text-xs text-electric-violet font-mono uppercase\">\r\n                            {product.category?.name || 'Uncategorized'}\r\n                          </span>\r\n                          <span \r\n                            className=\"text-lg sm:text-xl font-mono font-bold text-electric-violet\"\r\n                            aria-label={`Price: $${product.price}`}\r\n                          >\r\n                            ${product.price}\r\n                          </span>\r\n                        </div>\r\n                      \r\n                        <h3 \r\n                          id={`product-title-${product.id}`}\r\n                          className=\"text-base sm:text-lg font-mono font-bold mb-2 group-hover:text-electric-violet transition-colors\"\r\n                        >\r\n                          {product.title}\r\n                        </h3>\r\n                        \r\n                        <p className=\"text-gray-300 text-sm mb-4 line-clamp-2\">\r\n                          {product.description}\r\n                        </p>\r\n                        \r\n                        <div className=\"flex flex-wrap gap-2 mb-4\" role=\"list\" aria-label=\"Product tags\">\r\n                          {product.tags.slice(0, 3).map((tag, tagIndex) => (\r\n                            <span\r\n                              key={tagIndex}\r\n                              className=\"text-xs bg-gray-800 text-gray-300 px-2 py-1 rounded-sm\"\r\n                              role=\"listitem\"\r\n                            >\r\n                              {tag}\r\n                            </span>\r\n                          ))}\r\n                          {product.tags.length > 3 && (\r\n                            <span className=\"text-xs text-gray-400\" aria-label={`${product.tags.length - 3} additional tags`}>\r\n                              +{product.tags.length - 3} more\r\n                            </span>\r\n                          )}\r\n                        </div>\r\n                        \r\n                        <button \r\n                          className=\"btn-primary w-full\"\r\n                          onClick={() => handleViewDetails(product.id)}\r\n                          aria-describedby={`product-description-${product.id}`}\r\n                        >\r\n                          View Details\r\n                          <span className=\"sr-only\"> for {product.title}</span>\r\n                        </button>\r\n                        <div id={`product-description-${product.id}`} className=\"sr-only\">\r\n                          {product.description}\r\n                        </div>\r\n                      </motion.div>\r\n                    </article>\r\n                  ))}\r\n                </div>\r\n              </>\r\n            )}\r\n          </div>\r\n        </main>\r\n      </div>\r\n    </>\r\n  )\r\n}\r\n\r\nexport default Products\r\n","import React, { useState, useEffect } from 'react'\r\nimport { useParams, useNavigate } from 'react-router-dom'\r\nimport { Helmet } from 'react-helmet-async'\r\nimport { Heart, Share2, ArrowLeft, Check } from 'lucide-react'\r\nimport { supabase } from '../lib/supabase'\r\nimport { useCart } from '../contexts/CartContext'\r\nimport { useToast } from '../contexts/ToastContext'\r\n\r\ninterface Product {\r\n  id: string\r\n  title: string\r\n  description: string\r\n  price: number\r\n  category_id: string\r\n  category?: {\r\n    name: string\r\n    slug: string\r\n  }\r\n  image_url: string | null\r\n  download_url: string | null\r\n  preview_url: string | null\r\n  tags: string[]\r\n  featured: boolean\r\n  active: boolean\r\n  stripe_price_id?: string | null\r\n  created_at: string\r\n  updated_at: string\r\n}\r\n\r\nconst Product: React.FC = () => {\r\n  const { id } = useParams<{ id: string }>()\r\n  const navigate = useNavigate()\r\n  const { addToCart, isInCart } = useCart()\r\n  const { showToast } = useToast()\r\n  const [product, setProduct] = useState<Product | null>(null)\r\n  const [loading, setLoading] = useState(true)\r\n  const [error, setError] = useState<string | null>(null)\r\n  const [isAddingToCart, setIsAddingToCart] = useState(false)\r\n\r\n  useEffect(() => {\r\n    const fetchProduct = async () => {\r\n      if (!id) {\r\n        setError('Product ID not found')\r\n        setLoading(false)\r\n        return\r\n      }\r\n\r\n      try {\r\n        const { data, error } = await supabase\r\n          .from('products')\r\n          .select(`\r\n            *,\r\n            category:categories(name, slug)\r\n          `)\r\n          .eq('id', id)\r\n          .eq('active', true)\r\n          .single()\r\n\r\n        if (error) {\r\n          setError('Product not found')\r\n        } else {\r\n          setProduct(data)\r\n        }\r\n      } catch (err) {\r\n        setError('Failed to load product')\r\n      } finally {\r\n        setLoading(false)\r\n      }\r\n    }\r\n\r\n    fetchProduct()\r\n  }, [id])\r\n\r\n  const handleAddToCart = async () => {\r\n    if (!product) return\r\n    \r\n    setIsAddingToCart(true)\r\n    try {\r\n      addToCart({\r\n        id: product.id,\r\n        title: product.title,\r\n        price: product.price,\r\n        image_url: product.image_url,\r\n        stripe_price_id: product.stripe_price_id\r\n      })\r\n      \r\n      // Show success toast\r\n      showToast({\r\n        type: 'success',\r\n        title: 'Added to Cart!',\r\n        message: `${product.title} has been added to your cart.`\r\n      })\r\n    } catch (error) {\r\n      showToast({\r\n        type: 'error',\r\n        title: 'Error',\r\n        message: 'Failed to add item to cart. Please try again.'\r\n      })\r\n    } finally {\r\n      setIsAddingToCart(false)\r\n    }\r\n  }\r\n\r\n  const handleBuyNow = async () => {\r\n    if (!product) return\r\n    \r\n    setIsAddingToCart(true)\r\n    try {\r\n      // Add to cart if not already there\r\n      if (!isInCart(product.id)) {\r\n        addToCart({\r\n          id: product.id,\r\n          title: product.title,\r\n          price: product.price,\r\n          image_url: product.image_url,\r\n          stripe_price_id: product.stripe_price_id\r\n        })\r\n      }\r\n      \r\n      // Navigate to checkout\r\n      navigate('/checkout')\r\n    } catch (error) {\r\n      showToast({\r\n        type: 'error',\r\n        title: 'Error',\r\n        message: 'Failed to proceed to checkout. Please try again.'\r\n      })\r\n    } finally {\r\n      setIsAddingToCart(false)\r\n    }\r\n  }\r\n\r\n  if (loading) {\r\n    return (\r\n      <div className=\"min-h-screen bg-black text-white pt-20\">\r\n        <div className=\"container mx-auto px-4 py-20\">\r\n          <div className=\"text-center\">\r\n            <div className=\"font-mono text-gray-400\">Loading product...</div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    )\r\n  }\r\n\r\n  if (error || !product) {\r\n    return (\r\n      <div className=\"min-h-screen bg-black text-white pt-20\">\r\n        <div className=\"container mx-auto px-4 py-20\">\r\n          <div className=\"text-center\">\r\n            <div className=\"font-mono text-red-400 mb-4\">{error || 'Product not found'}</div>\r\n            <button \r\n              onClick={() => navigate('/products')}\r\n              className=\"btn-secondary\"\r\n            >\r\n              Back to Products\r\n            </button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    )\r\n  }\r\n\r\n  return (\r\n    <>\r\n      <Helmet>\r\n        <title>{product.title} - Studio Nullbyte</title>\r\n        <meta name=\"description\" content={product.description} />\r\n      </Helmet>\r\n\r\n      <div className=\"min-h-screen pt-20\">\r\n        {/* Back Button */}\r\n        <div className=\"container mx-auto px-4 py-8\">\r\n          <button \r\n            onClick={() => navigate('/products')}\r\n            className=\"flex items-center text-gray-400 hover:text-white transition-colors font-mono text-sm\"\r\n          >\r\n            <ArrowLeft className=\"w-4 h-4 mr-2\" />\r\n            Back to Products\r\n          </button>\r\n        </div>\r\n\r\n        {/* Product Header */}\r\n        <section className=\"py-12 bg-code-gray\">\r\n          <div className=\"container mx-auto px-4\">\r\n            <div className=\"grid grid-cols-1 lg:grid-cols-2 gap-12\">\r\n              {/* Product Images */}\r\n              <div className=\"space-y-4\">\r\n                <div className=\"aspect-video bg-code-gray-dark rounded-sm overflow-hidden\">\r\n                  {product.image_url ? (\r\n                    <img\r\n                      src={`${product.image_url}?t=${product.updated_at || Date.now()}`}\r\n                      alt={product.title}\r\n                      className=\"w-full h-full object-cover\"\r\n                      onError={(e) => {\r\n                        const target = e.target as HTMLImageElement\r\n                        target.style.display = 'none'\r\n                      }}\r\n                    />\r\n                  ) : (\r\n                    <div className=\"w-full h-full flex items-center justify-center text-gray-500\">\r\n                      <span className=\"font-mono text-sm\">No Image Available</span>\r\n                    </div>\r\n                  )}\r\n                </div>\r\n              </div>\r\n\r\n              {/* Product Info */}\r\n              <div>\r\n                <div className=\"flex items-center gap-2 mb-4\">\r\n                  <span className=\"text-sm text-electric-violet font-mono\">\r\n                    {product.category?.name || 'Uncategorized'}\r\n                  </span>\r\n                  {product.featured && (\r\n                    <>\r\n                      <span className=\"text-gray-400\">â€¢</span>\r\n                      <span className=\"text-xs bg-electric-violet text-black px-2 py-1 rounded-sm font-mono font-bold\">\r\n                        FEATURED\r\n                      </span>\r\n                    </>\r\n                  )}\r\n                </div>\r\n\r\n                <h1 className=\"text-3xl md:text-4xl font-mono font-bold mb-4\">\r\n                  {product.title}\r\n                </h1>\r\n\r\n                <p className=\"text-gray-400 text-lg mb-6\">\r\n                  {product.description}\r\n                </p>\r\n\r\n                <div className=\"flex items-center gap-4 mb-6\">\r\n                  <div className=\"flex items-center gap-2\">\r\n                    <span className=\"text-3xl font-mono font-bold text-electric-violet\">\r\n                      ${product.price}\r\n                    </span>\r\n                  </div>\r\n                </div>\r\n\r\n                <div className=\"flex gap-4 mb-6\">\r\n                  <button \r\n                    onClick={handleAddToCart}\r\n                    disabled={isAddingToCart || isInCart(product.id)}\r\n                    className={`flex-1 ${\r\n                      isInCart(product.id) \r\n                        ? 'btn-secondary cursor-not-allowed' \r\n                        : 'btn-primary'\r\n                    }`}\r\n                  >\r\n                    {isAddingToCart ? (\r\n                      <span className=\"flex items-center justify-center gap-2\">\r\n                        <div className=\"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin\"></div>\r\n                        Adding...\r\n                      </span>\r\n                    ) : isInCart(product.id) ? (\r\n                      <span className=\"flex items-center justify-center gap-2\">\r\n                        <Check className=\"w-4 h-4\" />\r\n                        In Cart\r\n                      </span>\r\n                    ) : (\r\n                      `Add to Cart - $${product.price}`\r\n                    )}\r\n                  </button>\r\n                  \r\n                  <button \r\n                    onClick={handleBuyNow}\r\n                    disabled={isAddingToCart}\r\n                    className=\"btn-primary flex-1\"\r\n                  >\r\n                    {isAddingToCart ? (\r\n                      <span className=\"flex items-center justify-center gap-2\">\r\n                        <div className=\"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin\"></div>\r\n                        Loading...\r\n                      </span>\r\n                    ) : (\r\n                      'Buy Now'\r\n                    )}\r\n                  </button>\r\n                </div>\r\n\r\n                <div className=\"flex gap-4 mb-8\">\r\n                  <button className=\"btn-secondary\">\r\n                    <Heart className=\"w-5 h-5\" />\r\n                  </button>\r\n                  <button className=\"btn-secondary\">\r\n                    <Share2 className=\"w-5 h-5\" />\r\n                  </button>\r\n                </div>\r\n\r\n                {/* Show demo and download links if available */}\r\n                <div className=\"flex gap-4 mb-8\">\r\n                  {product.preview_url && (\r\n                    <a\r\n                      href={product.preview_url}\r\n                      target=\"_blank\"\r\n                      rel=\"noopener noreferrer\"\r\n                      className=\"btn-ghost\"\r\n                    >\r\n                      Live Demo\r\n                    </a>\r\n                  )}\r\n                  {product.download_url && (\r\n                    <a\r\n                      href={product.download_url}\r\n                      target=\"_blank\"\r\n                      rel=\"noopener noreferrer\"\r\n                      className=\"btn-ghost\"\r\n                    >\r\n                      Download\r\n                    </a>\r\n                  )}\r\n                </div>\r\n\r\n                <div className=\"flex flex-wrap gap-2\">\r\n                  {product.tags.map((tag, index) => (\r\n                    <span\r\n                      key={index}\r\n                      className=\"text-xs bg-gray-800 text-gray-300 px-2 py-1 rounded-sm\"\r\n                    >\r\n                      {tag}\r\n                    </span>\r\n                  ))}\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </section>\r\n\r\n        {/* Product Details */}\r\n        <section className=\"py-20\">\r\n          <div className=\"container mx-auto px-4\">\r\n            <div className=\"grid grid-cols-1 lg:grid-cols-3 gap-12\">\r\n              <div className=\"lg:col-span-2\">\r\n                <h2 className=\"text-2xl font-mono font-bold mb-6\">\r\n                  About This Product\r\n                </h2>\r\n                <div className=\"prose prose-invert max-w-none\">\r\n                  <p className=\"text-gray-400 leading-relaxed text-lg\">\r\n                    {product.description}\r\n                  </p>\r\n                </div>\r\n              </div>\r\n\r\n              <div className=\"space-y-8\">\r\n                <div className=\"card\">\r\n                  <h3 className=\"text-lg font-mono font-bold mb-4\">Product Details</h3>\r\n                  <div className=\"space-y-3\">\r\n                    <div className=\"flex justify-between\">\r\n                      <span className=\"text-gray-400\">Category</span>\r\n                      <span className=\"font-mono\">{product.category?.name || 'Uncategorized'}</span>\r\n                    </div>\r\n                    <div className=\"flex justify-between\">\r\n                      <span className=\"text-gray-400\">Price</span>\r\n                      <span className=\"font-mono text-electric-violet\">${product.price}</span>\r\n                    </div>\r\n                    <div className=\"flex justify-between\">\r\n                      <span className=\"text-gray-400\">Status</span>\r\n                      <span className=\"font-mono text-green-400\">\r\n                        {product.featured ? 'Featured' : 'Available'}\r\n                      </span>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n\r\n                <div className=\"card\">\r\n                  <h3 className=\"text-lg font-mono font-bold mb-4\">Tags</h3>\r\n                  <div className=\"flex flex-wrap gap-2\">\r\n                    {product.tags.map((tag, index) => (\r\n                      <span\r\n                        key={index}\r\n                        className=\"text-xs bg-electric-violet bg-opacity-20 text-electric-violet px-2 py-1 rounded-sm\"\r\n                      >\r\n                        {tag}\r\n                      </span>\r\n                    ))}\r\n                  </div>\r\n                </div>\r\n\r\n                <div className=\"card\">\r\n                  <h3 className=\"text-lg font-mono font-bold mb-4\">License</h3>\r\n                  <p className=\"text-gray-400 text-sm\">\r\n                    Single-use license for personal and commercial projects. \r\n                    Full source code included with lifetime updates.\r\n                  </p>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </section>\r\n      </div>\r\n    </>\r\n  )\r\n}\r\n\r\nexport default Product\r\n","import React, { useState } from 'react'\r\nimport { CreditCard, Lock, ExternalLink } from 'lucide-react'\r\nimport { loadStripe } from '@stripe/stripe-js'\r\n\r\n// Get the publishable key\r\nconst STRIPE_PUBLISHABLE_KEY = import.meta.env.VITE_STRIPE_PUBLISHABLE_KEY\r\n\r\n// Initialize Stripe\r\nconst stripePromise = STRIPE_PUBLISHABLE_KEY ? loadStripe(STRIPE_PUBLISHABLE_KEY) : null\r\n\r\ninterface Product {\r\n  id: string\r\n  name: string\r\n  price: number\r\n  description?: string\r\n  image?: string\r\n  stripePriceId?: string // Add this for pre-created Stripe Price IDs\r\n  cartItems?: Array<{    // Add this for multi-product checkout\r\n    priceId: string | null | undefined\r\n    quantity: number\r\n  }>\r\n}\r\n\r\ninterface StripePaymentProps {\r\n  product: Product\r\n  onSuccess?: () => void\r\n  onError?: (error: string) => void\r\n  disabled?: boolean\r\n}\r\n\r\n// Stripe Checkout Component - GitHub Pages Compatible\r\nconst StripeCheckout: React.FC<StripePaymentProps> = ({\r\n  product,\r\n  onSuccess,\r\n  onError,\r\n  disabled = false\r\n}) => {\r\n  const [isProcessing, setIsProcessing] = useState(false)\r\n\r\n  const handleCheckout = async () => {\r\n    if (!stripePromise) {\r\n      onError?.('Stripe is not available')\r\n      return\r\n    }\r\n\r\n    if (disabled) {\r\n      onError?.('Please complete all required fields before proceeding.')\r\n      return\r\n    }\r\n\r\n    setIsProcessing(true)\r\n\r\n    try {\r\n      const stripe = await stripePromise\r\n\r\n      if (!stripe) {\r\n        onError?.('Failed to load Stripe')\r\n        return\r\n      }\r\n\r\n      // Check if we have cart items or a single product\r\n      if (product.cartItems && product.cartItems.length > 0) {\r\n        // Multi-product checkout with individual Price IDs\r\n        const validItems = product.cartItems.filter(item => item.priceId)\r\n        \r\n        if (validItems.length === 0) {\r\n          onError?.('No valid Price IDs found for cart items. Please ensure all products have Stripe Price IDs configured.')\r\n          return\r\n        }\r\n\r\n        if (validItems.length !== product.cartItems.length) {\r\n          onError?.('Some products in your cart are missing Stripe Price IDs. Please remove them or contact support.')\r\n          return\r\n        }\r\n\r\n        const { error } = await stripe.redirectToCheckout({\r\n          lineItems: validItems.map(item => ({\r\n            price: item.priceId!,\r\n            quantity: item.quantity,\r\n          })),\r\n          mode: 'payment',\r\n          successUrl: `${window.location.origin}/success?session_id={CHECKOUT_SESSION_ID}`,\r\n          cancelUrl: `${window.location.origin}/cancel`,\r\n          clientReferenceId: product.id,\r\n        })\r\n\r\n        if (error) {\r\n          console.error('Stripe Checkout error:', error)\r\n          onError?.(error.message || 'Failed to redirect to checkout')\r\n        } else {\r\n          onSuccess?.()\r\n        }\r\n      } else if (product.stripePriceId) {\r\n        // Single product checkout with pre-created Price ID (GitHub Pages compatible)\r\n        const { error } = await stripe.redirectToCheckout({\r\n          lineItems: [{\r\n            price: product.stripePriceId,\r\n            quantity: 1,\r\n          }],\r\n          mode: 'payment',\r\n          successUrl: `${window.location.origin}/success?session_id={CHECKOUT_SESSION_ID}`,\r\n          cancelUrl: `${window.location.origin}/cancel`,\r\n          clientReferenceId: product.id,\r\n        })\r\n\r\n        if (error) {\r\n          console.error('Stripe Checkout error:', error)\r\n          onError?.(error.message || 'Failed to redirect to checkout')\r\n        } else {\r\n          // Success callback will be handled by the success page\r\n          onSuccess?.()\r\n        }\r\n      } else {\r\n        // No pre-created Price ID available for single product or cart\r\n        onError?.('Products require Stripe Price IDs for GitHub Pages compatibility. Please configure Price IDs in the Stripe Dashboard.')\r\n      }\r\n\r\n    } catch (error) {\r\n      console.error('Checkout error:', error)\r\n      onError?.(error instanceof Error ? error.message : 'Checkout failed')\r\n    } finally {\r\n      setIsProcessing(false)\r\n    }\r\n  }\r\n\r\n  // Show message if Stripe is not available\r\n  if (!stripePromise) {\r\n    return (\r\n      <div className=\"p-4 bg-red-900/20 border border-red-500 rounded-sm\">\r\n        <p className=\"text-red-400 font-mono text-sm mb-2\">\r\n          <strong>Stripe configuration error:</strong>\r\n        </p>\r\n        <div className=\"text-red-300 font-mono text-xs space-y-1\">\r\n          <p>â€¢ VITE_STRIPE_PUBLISHABLE_KEY: {STRIPE_PUBLISHABLE_KEY ? 'âœ… Found' : 'âŒ Missing'}</p>\r\n          <p>â€¢ Key starts with 'pk_': {STRIPE_PUBLISHABLE_KEY?.startsWith('pk_') ? 'âœ… Valid format' : 'âŒ Invalid format'}</p>\r\n          <p>â€¢ Environment: {import.meta.env.MODE}</p>\r\n        </div>\r\n        <div className=\"mt-3 text-xs text-gray-400\">\r\n          <p>1. Check your .env file contains VITE_STRIPE_PUBLISHABLE_KEY</p>\r\n          <p>2. Restart your development server</p>\r\n          <p>3. Ensure the key starts with 'pk_test_' or 'pk_live_'</p>\r\n        </div>\r\n      </div>\r\n    )\r\n  }\r\n\r\n  return (\r\n    <div className=\"space-y-4\">\r\n      {/* Header */}\r\n      <div className=\"flex items-center gap-2 mb-4\">\r\n        <CreditCard className=\"w-5 h-5 text-electric-violet\" />\r\n        <span className=\"font-mono font-bold text-white\">Secure Checkout</span>\r\n      </div>\r\n\r\n      {/* Product Summary */}\r\n      <div className=\"p-4 bg-code-gray border border-gray-600 rounded-sm\">\r\n        <div className=\"flex justify-between items-center font-mono\">\r\n          <span className=\"text-gray-300\">{product.name}</span>\r\n          <span className=\"text-white font-bold\">${product.price.toFixed(2)}</span>\r\n        </div>\r\n        {product.description && (\r\n          <p className=\"text-sm text-gray-400 mt-2 font-mono\">{product.description}</p>\r\n        )}\r\n      </div>\r\n\r\n      {/* Checkout Button */}\r\n      <button\r\n        onClick={handleCheckout}\r\n        disabled={disabled || isProcessing}\r\n        className=\"w-full bg-electric-violet hover:bg-electric-violet-light disabled:bg-gray-600 text-white font-mono py-3 px-4 rounded-sm transition-colors flex items-center justify-center gap-2\"\r\n      >\r\n        {isProcessing ? (\r\n          <>\r\n            <div className=\"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin\"></div>\r\n            Redirecting to Checkout...\r\n          </>\r\n        ) : (\r\n          <>\r\n            <Lock className=\"w-4 h-4\" />\r\n            Buy Now - ${product.price.toFixed(2)}\r\n          </>\r\n        )}\r\n      </button>\r\n\r\n      {/* Security Notice */}\r\n      <div className=\"text-xs text-gray-400 text-center font-mono\">\r\n        <Lock className=\"w-3 h-3 inline mr-1\" />\r\n        Secured by Stripe â€¢ Redirects to secure checkout\r\n      </div>\r\n\r\n      {/* Info Notice */}\r\n      <div className=\"text-xs text-gray-400 font-mono bg-code-gray-light p-3 rounded-sm\">\r\n        <p>â€¢ You'll be redirected to Stripe's secure checkout page</p>\r\n        <p>â€¢ Payment is processed entirely on Stripe's servers</p>\r\n        <p>â€¢ You'll return here after successful payment</p>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\n// Main component - no Elements wrapper needed for Checkout\r\nconst StripePayment: React.FC<StripePaymentProps> = (props) => {\r\n  if (!stripePromise) {\r\n    return (\r\n      <div className=\"p-4 bg-red-900/20 border border-red-500 rounded-sm\">\r\n        <p className=\"text-red-400 font-mono text-sm\">\r\n          Stripe is not available. Check your environment configuration.\r\n        </p>\r\n      </div>\r\n    )\r\n  }\r\n\r\n  return <StripeCheckout {...props} />\r\n}\r\n\r\nexport default StripePayment\r\n","// PayPal configuration\r\nexport const PAYPAL_CLIENT_ID = import.meta.env.VITE_PAYPAL_CLIENT_ID || ''\r\n\r\n// PayPal API endpoints\r\nexport const PAYPAL_API_BASE = import.meta.env.VITE_PAYPAL_API_BASE || 'https://api.sandbox.paypal.com'\r\n\r\n// Return and Cancel URLs (can be overridden with environment variables)\r\nexport const PAYPAL_RETURN_URL = import.meta.env.VITE_PAYPAL_RETURN_URL || `${window.location.origin}/success`\r\nexport const PAYPAL_CANCEL_URL = import.meta.env.VITE_PAYPAL_CANCEL_URL || `${window.location.origin}/cancel`\r\n\r\n// Validate PayPal configuration\r\nif (!PAYPAL_CLIENT_ID) {\r\n  console.error('VITE_PAYPAL_CLIENT_ID is required for PayPal integration')\r\n}\r\n\r\nexport const PAYPAL_OPTIONS = {\r\n  clientId: PAYPAL_CLIENT_ID,\r\n  currency: \"USD\",\r\n  intent: \"capture\",\r\n  components: \"buttons\",\r\n  \"enable-funding\": \"venmo,paylater\",\r\n  \"disable-funding\": \"card\"\r\n}\r\n\r\nexport const PAYPAL_STYLES = {\r\n  layout: 'vertical' as const,\r\n  color: 'gold' as const,\r\n  shape: 'rect' as const,\r\n  label: 'paypal' as const,\r\n  height: 40\r\n}\r\n\r\nexport interface PayPalOrderData {\r\n  intent: string\r\n  purchase_units: Array<{\r\n    reference_id?: string\r\n    amount: {\r\n      currency_code: string\r\n      value: string\r\n    }\r\n    payee?: {\r\n      merchant_id?: string\r\n    }\r\n    description?: string\r\n    custom_id?: string\r\n    invoice_id?: string\r\n    soft_descriptor?: string\r\n  }>\r\n  application_context?: {\r\n    brand_name?: string\r\n    locale?: string\r\n    landing_page?: string\r\n    shipping_preference?: string\r\n    user_action?: string\r\n    return_url?: string\r\n    cancel_url?: string\r\n  }\r\n}\r\n\r\nexport interface PayPalAddress {\r\n  address_line_1: string\r\n  address_line_2?: string\r\n  admin_area_2: string // City\r\n  admin_area_1: string // State\r\n  postal_code: string\r\n  country_code: string\r\n}\r\n","import React, { useState } from 'react'\r\nimport { PayPalButtons, PayPalScriptProvider, usePayPalScriptReducer } from '@paypal/react-paypal-js'\r\nimport { Lock, AlertCircle } from 'lucide-react'\r\nimport { PAYPAL_OPTIONS, PAYPAL_STYLES, PAYPAL_RETURN_URL, PAYPAL_CANCEL_URL, type PayPalOrderData } from '../../lib/paypal'\r\n\r\ninterface PayPalPaymentProps {\r\n  amount: number\r\n  onSuccess: (paymentId: string) => void\r\n  onError: (error: string) => void\r\n  disabled?: boolean\r\n  customerInfo?: {\r\n    firstName: string\r\n    lastName: string\r\n    email: string\r\n    address: string\r\n    city: string\r\n    state: string\r\n    zipCode: string\r\n    country: string\r\n  }\r\n}\r\n\r\nconst PayPalPayment: React.FC<PayPalPaymentProps> = ({\r\n  amount,\r\n  onSuccess,\r\n  onError,\r\n  disabled = false,\r\n  customerInfo\r\n}) => {\r\n  const [isProcessing, setIsProcessing] = useState(false)\r\n  const [paypalError, setPaypalError] = useState<string | null>(null)\r\n\r\n  // PayPal Button Component\r\n  const PayPalButtonComponent = () => {\r\n    const [{ isPending, isRejected }] = usePayPalScriptReducer()\r\n\r\n    const createOrder = async (): Promise<string> => {\r\n      try {\r\n        setIsProcessing(true)\r\n        setPaypalError(null)\r\n\r\n        const orderData: PayPalOrderData = {\r\n          intent: 'CAPTURE',\r\n          purchase_units: [\r\n            {\r\n              reference_id: `ORDER_${Date.now()}`,\r\n              amount: {\r\n                currency_code: 'USD',\r\n                value: amount.toFixed(2)\r\n              },\r\n              description: 'Studio Nullbyte Digital Products',\r\n              custom_id: `customer_${customerInfo?.email || 'guest'}`,\r\n              soft_descriptor: 'STUDIO_NULLBYTE'\r\n            }\r\n          ],\r\n          application_context: {\r\n            brand_name: 'Studio Nullbyte',\r\n            locale: 'en_US',\r\n            landing_page: 'BILLING',\r\n            shipping_preference: 'NO_SHIPPING',\r\n            user_action: 'PAY_NOW',\r\n            return_url: PAYPAL_RETURN_URL,\r\n            cancel_url: PAYPAL_CANCEL_URL\r\n          }\r\n        }\r\n\r\n        // In a real implementation, you would send this to your backend\r\n        // For now, we'll simulate order creation\r\n        const orderId = `ORDER_${Math.random().toString(36).substr(2, 12).toUpperCase()}`\r\n        \r\n        console.log('Created PayPal order:', orderId, orderData)\r\n        return orderId\r\n      } catch (error) {\r\n        console.error('Error creating PayPal order:', error)\r\n        setPaypalError('Failed to create PayPal order. Please try again.')\r\n        throw error\r\n      }\r\n    }\r\n\r\n    const onApprove = async (data: any) => {\r\n      try {\r\n        setIsProcessing(true)\r\n        console.log('PayPal payment approved:', data)\r\n        \r\n        // In a real implementation, you would capture the payment on your backend\r\n        // For now, we'll simulate successful payment\r\n        await new Promise(resolve => setTimeout(resolve, 1000))\r\n        \r\n        onSuccess(data.orderID)\r\n      } catch (error) {\r\n        console.error('Error capturing PayPal payment:', error)\r\n        onError('Payment capture failed. Please contact support.')\r\n      } finally {\r\n        setIsProcessing(false)\r\n      }\r\n    }\r\n\r\n    const onCancel = (data: any) => {\r\n      console.log('PayPal payment cancelled:', data)\r\n      setIsProcessing(false)\r\n      onError('Payment was cancelled. Please try again.')\r\n    }\r\n\r\n    const onErrorHandler = (error: any) => {\r\n      console.error('PayPal payment error:', error)\r\n      setIsProcessing(false)\r\n      setPaypalError('PayPal payment failed. Please try again.')\r\n      onError('PayPal payment failed. Please try again.')\r\n    }\r\n\r\n    if (isPending || isProcessing) {\r\n      return (\r\n        <div className=\"w-full bg-gray-700 rounded-sm p-4 flex items-center justify-center\">\r\n          <div className=\"w-4 h-4 border-2 border-electric-violet border-t-transparent rounded-full animate-spin\"></div>\r\n          <span className=\"ml-2 text-sm font-mono\">Loading PayPal...</span>\r\n        </div>\r\n      )\r\n    }\r\n\r\n    if (isRejected) {\r\n      return (\r\n        <div className=\"w-full bg-red-900 bg-opacity-30 border border-red-500 rounded-sm p-4\">\r\n          <div className=\"flex items-center gap-2 text-red-400\">\r\n            <AlertCircle className=\"w-4 h-4\" />\r\n            <span className=\"text-sm font-mono\">PayPal failed to load. Please refresh the page.</span>\r\n          </div>\r\n        </div>\r\n      )\r\n    }\r\n\r\n    return (\r\n      <PayPalButtons\r\n        style={PAYPAL_STYLES}\r\n        disabled={disabled}\r\n        createOrder={createOrder}\r\n        onApprove={onApprove}\r\n        onCancel={onCancel}\r\n        onError={onErrorHandler}\r\n      />\r\n    )\r\n  }\r\n\r\n  return (\r\n    <div className=\"space-y-4\">\r\n      <div className=\"flex items-center gap-2 mb-4\">\r\n        <div className=\"w-6 h-6 bg-blue-600 rounded-sm flex items-center justify-center text-white font-bold text-sm\">\r\n          P\r\n        </div>\r\n        <span className=\"font-mono font-bold\">PayPal</span>\r\n      </div>\r\n\r\n      <div className=\"bg-yellow-500 bg-opacity-10 border border-yellow-500 border-opacity-30 rounded-sm p-4 mb-4\">\r\n        <div className=\"flex items-start gap-3\">\r\n          <div className=\"w-8 h-8 bg-yellow-500 rounded-sm flex items-center justify-center text-black font-bold\">\r\n            PP\r\n          </div>\r\n          <div>\r\n            <div className=\"font-mono font-bold text-yellow-400 mb-1\">\r\n              Secure PayPal Payment\r\n            </div>\r\n            <div className=\"text-sm text-gray-300\">\r\n              You can pay with your PayPal balance, bank account, or credit card.\r\n              No PayPal account required.\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      <div className=\"space-y-2\">\r\n        <div className=\"flex justify-between text-sm\">\r\n          <span className=\"text-gray-400\">Amount:</span>\r\n          <span className=\"font-mono font-bold text-electric-violet\">${amount.toFixed(2)}</span>\r\n        </div>\r\n        <div className=\"flex justify-between text-sm\">\r\n          <span className=\"text-gray-400\">PayPal Fee:</span>\r\n          <span className=\"font-mono\">$0.00</span>\r\n        </div>\r\n        <div className=\"border-t border-gray-700 pt-2\">\r\n          <div className=\"flex justify-between\">\r\n            <span className=\"font-mono font-bold\">Total:</span>\r\n            <span className=\"font-mono font-bold text-electric-violet\">${amount.toFixed(2)}</span>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      {paypalError && (\r\n        <div className=\"bg-red-900 bg-opacity-30 border border-red-500 rounded-sm p-3\">\r\n          <div className=\"flex items-center gap-2 text-red-400\">\r\n            <AlertCircle className=\"w-4 h-4\" />\r\n            <span className=\"text-sm font-mono\">{paypalError}</span>\r\n          </div>\r\n        </div>\r\n      )}\r\n\r\n      <PayPalScriptProvider options={PAYPAL_OPTIONS}>\r\n        <PayPalButtonComponent />\r\n      </PayPalScriptProvider>\r\n\r\n      <div className=\"text-xs text-gray-400 text-center\">\r\n        <Lock className=\"w-3 h-3 inline mr-1\" />\r\n        Protected by PayPal's Buyer Protection Program\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default PayPalPayment\r\n","// Square configuration\r\nexport const SQUARE_APPLICATION_ID = import.meta.env.VITE_SQUARE_APPLICATION_ID || 'sandbox-sq0idb-your-app-id'\r\nexport const SQUARE_LOCATION_ID = import.meta.env.VITE_SQUARE_LOCATION_ID || 'your-location-id'\r\nexport const SQUARE_ENVIRONMENT = import.meta.env.VITE_SQUARE_ENVIRONMENT || 'sandbox' // 'sandbox' or 'production'\r\n\r\n// Square Web SDK configuration\r\nexport const SQUARE_WEB_SDK_CONFIG = {\r\n  applicationId: SQUARE_APPLICATION_ID,\r\n  locationId: SQUARE_LOCATION_ID,\r\n  environment: SQUARE_ENVIRONMENT\r\n}\r\n\r\n// Square payment form styles\r\nexport const SQUARE_CARD_STYLES = {\r\n  '.input-container': {\r\n    borderColor: '#374151',\r\n    borderRadius: '4px',\r\n    borderWidth: '1px',\r\n    backgroundColor: '#1F2937',\r\n    color: '#FFFFFF',\r\n    fontSize: '14px',\r\n    fontFamily: 'JetBrains Mono, monospace',\r\n    padding: '12px'\r\n  },\r\n  '.input-container:focus': {\r\n    borderColor: '#8B5CF6',\r\n    outline: 'none'\r\n  },\r\n  '.input-container.is-error': {\r\n    borderColor: '#EF4444'\r\n  },\r\n  '.input-container.is-valid': {\r\n    borderColor: '#10B981'\r\n  },\r\n  '.message-text': {\r\n    color: '#EF4444',\r\n    fontSize: '12px',\r\n    fontFamily: 'JetBrains Mono, monospace'\r\n  }\r\n}\r\n\r\n// Square payment request (simplified for frontend use)\r\nexport interface SquarePaymentRequest {\r\n  sourceId: string\r\n  amount: number\r\n  currency: string\r\n  locationId: string\r\n  referenceId?: string\r\n  note?: string\r\n  buyerEmailAddress?: string\r\n  billingAddress?: {\r\n    firstName?: string\r\n    lastName?: string\r\n    addressLine1?: string\r\n    addressLine2?: string\r\n    locality?: string\r\n    administrativeDistrictLevel1?: string\r\n    postalCode?: string\r\n    country?: string\r\n  }\r\n}\r\n\r\n// Square payment response\r\nexport interface SquarePaymentResponse {\r\n  payment: {\r\n    id: string\r\n    status: string\r\n    amountMoney: {\r\n      amount: number\r\n      currency: string\r\n    }\r\n    sourceType: string\r\n    cardDetails?: {\r\n      card: {\r\n        cardBrand: string\r\n        last4: string\r\n        expMonth: number\r\n        expYear: number\r\n        fingerprint: string\r\n        cardType: string\r\n      }\r\n      status: string\r\n      entryMethod: string\r\n    }\r\n    receiptNumber?: string\r\n    receiptUrl?: string\r\n    orderId?: string\r\n    locationId: string\r\n    createdAt: string\r\n    updatedAt: string\r\n  }\r\n}\r\n\r\n// Square error response\r\nexport interface SquareErrorResponse {\r\n  errors: Array<{\r\n    category: string\r\n    code: string\r\n    detail: string\r\n    field?: string\r\n  }>\r\n}\r\n","import React, { useState, useEffect, useRef } from 'react'\r\nimport { CreditCard, Lock, AlertCircle } from 'lucide-react'\r\nimport { \r\n  SQUARE_WEB_SDK_CONFIG, \r\n  SQUARE_CARD_STYLES,\r\n  type SquarePaymentRequest\r\n} from '../../lib/square'\r\n\r\ninterface SquarePaymentProps {\r\n  amount: number\r\n  onSuccess: (paymentId: string) => void\r\n  onError: (error: string) => void\r\n  disabled?: boolean\r\n  customerInfo?: {\r\n    firstName: string\r\n    lastName: string\r\n    email: string\r\n    address: string\r\n    city: string\r\n    state: string\r\n    zipCode: string\r\n    country: string\r\n  }\r\n}\r\n\r\n// Declare Square types for TypeScript\r\ndeclare global {\r\n  interface Window {\r\n    Square: any\r\n  }\r\n}\r\n\r\nconst SquarePayment: React.FC<SquarePaymentProps> = ({\r\n  amount,\r\n  onSuccess,\r\n  onError,\r\n  disabled = false,\r\n  customerInfo\r\n}) => {\r\n  const [isProcessing, setIsProcessing] = useState(false)\r\n  const [squareError, setSquareError] = useState<string | null>(null)\r\n  const [isSquareLoaded, setIsSquareLoaded] = useState(false)\r\n  const [card, setCard] = useState<any>(null)\r\n  const [payments, setPayments] = useState<any>(null)\r\n  const cardContainerRef = useRef<HTMLDivElement>(null)\r\n\r\n  // Load Square Web SDK\r\n  useEffect(() => {\r\n    const loadSquareSDK = async () => {\r\n      try {\r\n        // Check if Square SDK is already loaded\r\n        if (window.Square) {\r\n          initializeSquare()\r\n          return\r\n        }\r\n\r\n        // Create script tag to load Square Web SDK\r\n        const script = document.createElement('script')\r\n        script.src = 'https://web.squarecdn.com/v1/square.js'\r\n        script.async = true\r\n        script.onload = () => {\r\n          initializeSquare()\r\n        }\r\n        script.onerror = () => {\r\n          setSquareError('Failed to load Square payment system. Please refresh the page.')\r\n        }\r\n        document.head.appendChild(script)\r\n      } catch (error) {\r\n        console.error('Error loading Square SDK:', error)\r\n        setSquareError('Failed to initialize Square payment system.')\r\n      }\r\n    }\r\n\r\n    const initializeSquare = async () => {\r\n      try {\r\n        const paymentsInstance = window.Square.payments(SQUARE_WEB_SDK_CONFIG.applicationId, SQUARE_WEB_SDK_CONFIG.locationId)\r\n        setPayments(paymentsInstance)\r\n\r\n        const cardInstance = await paymentsInstance.card({\r\n          style: SQUARE_CARD_STYLES\r\n        })\r\n        \r\n        if (cardContainerRef.current) {\r\n          await cardInstance.attach(cardContainerRef.current)\r\n          setCard(cardInstance)\r\n          setIsSquareLoaded(true)\r\n        }\r\n      } catch (error) {\r\n        console.error('Error initializing Square:', error)\r\n        setSquareError('Failed to initialize Square payment form.')\r\n      }\r\n    }\r\n\r\n    loadSquareSDK()\r\n\r\n    return () => {\r\n      // Cleanup\r\n      if (card) {\r\n        card.destroy()\r\n      }\r\n    }\r\n  }, [])\r\n\r\n  const handlePayment = async () => {\r\n    if (!card || !payments) {\r\n      onError('Square payment system not initialized')\r\n      return\r\n    }\r\n\r\n    setIsProcessing(true)\r\n    setSquareError(null)\r\n\r\n    try {\r\n      // Tokenize the card\r\n      const tokenResult = await card.tokenize()\r\n      \r\n      if (tokenResult.status === 'OK') {\r\n        // Create payment request (would be sent to backend in real implementation)\r\n        const paymentRequest: SquarePaymentRequest = {\r\n          sourceId: tokenResult.token,\r\n          amount: Math.round(amount * 100), // Convert to cents\r\n          currency: 'USD',\r\n          locationId: SQUARE_WEB_SDK_CONFIG.locationId,\r\n          referenceId: `studio-nullbyte-${Date.now()}`,\r\n          note: 'Studio Nullbyte digital template purchase',\r\n          buyerEmailAddress: customerInfo?.email,\r\n          billingAddress: customerInfo ? {\r\n            firstName: customerInfo.firstName,\r\n            lastName: customerInfo.lastName,\r\n            addressLine1: customerInfo.address,\r\n            locality: customerInfo.city,\r\n            administrativeDistrictLevel1: customerInfo.state,\r\n            postalCode: customerInfo.zipCode,\r\n            country: customerInfo.country\r\n          } : undefined\r\n        }\r\n\r\n        // Log the payment request (would be sent to backend in real implementation)\r\n        console.log('Payment request:', paymentRequest)\r\n\r\n        // In a real implementation, you would send this to your backend\r\n        // For now, we'll simulate a successful payment\r\n        await new Promise(resolve => setTimeout(resolve, 2000))\r\n        \r\n        // Generate a mock payment ID\r\n        const paymentId = `sq_${Math.random().toString(36).substr(2, 15)}`\r\n        onSuccess(paymentId)\r\n      } else {\r\n        // Handle tokenization errors\r\n        const errorMessages = tokenResult.errors?.map((error: any) => error.message).join(', ')\r\n        onError(errorMessages || 'Card tokenization failed. Please check your card details.')\r\n      }\r\n    } catch (error) {\r\n      console.error('Square payment error:', error)\r\n      onError('Payment processing failed. Please try again.')\r\n    } finally {\r\n      setIsProcessing(false)\r\n    }\r\n  }\r\n\r\n  return (\r\n    <div className=\"space-y-4\">\r\n      <div className=\"flex items-center gap-2 mb-4\">\r\n        <div className=\"w-6 h-6 bg-gray-600 rounded-sm flex items-center justify-center text-white font-bold text-sm\">\r\n          â¬›\r\n        </div>\r\n        <span className=\"font-mono font-bold\">Square Payment</span>\r\n        <div className=\"ml-auto text-xs text-gray-400\">\r\n          Powered by Square\r\n        </div>\r\n      </div>\r\n\r\n      <div className=\"bg-gray-800 bg-opacity-50 border border-gray-700 rounded-sm p-4 mb-4\">\r\n        <div className=\"text-sm text-gray-300 mb-2\">\r\n          <CreditCard className=\"w-4 h-4 inline mr-2\" />\r\n          Secure payment processing by Square\r\n        </div>\r\n        <div className=\"text-xs text-gray-400\">\r\n          Your payment information is encrypted and processed securely through Square's\r\n          PCI-compliant payment infrastructure.\r\n        </div>\r\n      </div>\r\n\r\n      {squareError && (\r\n        <div className=\"bg-red-900 bg-opacity-20 border border-red-600 rounded-sm p-3 mb-4\">\r\n          <div className=\"flex items-center gap-2 text-red-400\">\r\n            <AlertCircle className=\"w-4 h-4\" />\r\n            <span className=\"text-sm\">{squareError}</span>\r\n          </div>\r\n        </div>\r\n      )}\r\n\r\n      {!isSquareLoaded && !squareError && (\r\n        <div className=\"text-center py-8\">\r\n          <div className=\"w-6 h-6 border-2 border-electric-violet border-t-transparent rounded-full animate-spin mx-auto mb-2\"></div>\r\n          <div className=\"text-sm text-gray-400\">Loading Square payment system...</div>\r\n        </div>\r\n      )}\r\n\r\n      {isSquareLoaded && (\r\n        <>\r\n          <div className=\"space-y-4\">\r\n            {/* Square card container */}\r\n            <div \r\n              ref={cardContainerRef}\r\n              className=\"bg-code-gray-dark border border-gray-700 rounded-sm p-4 min-h-[60px]\"\r\n            />\r\n            \r\n            {/* Payment button */}\r\n            <button\r\n              onClick={handlePayment}\r\n              disabled={disabled || isProcessing || !isSquareLoaded}\r\n              className=\"btn-secondary w-full flex items-center justify-center gap-2\"\r\n            >\r\n              {isProcessing ? (\r\n                <>\r\n                  <div className=\"w-4 h-4 border-2 border-electric-violet border-t-transparent rounded-full animate-spin\"></div>\r\n                  Processing Payment...\r\n                </>\r\n              ) : (\r\n                <>\r\n                  <Lock className=\"w-4 h-4\" />\r\n                  Pay ${amount.toFixed(2)} with Square\r\n                </>\r\n              )}\r\n            </button>\r\n          </div>\r\n\r\n          <div className=\"text-xs text-gray-400 text-center\">\r\n            <Lock className=\"w-3 h-3 inline mr-1\" />\r\n            PCI DSS compliant payment processing\r\n          </div>\r\n        </>\r\n      )}\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default SquarePayment\r\n","import React, { useState, useEffect } from 'react'\r\nimport { useNavigate } from 'react-router-dom'\r\nimport { Helmet } from 'react-helmet-async'\r\nimport { motion } from 'framer-motion'\r\nimport { CreditCard, Lock, User, Mail, MapPin, Phone, ArrowLeft, Check } from 'lucide-react'\r\nimport { useCart } from '../contexts/CartContext'\r\nimport { useToast } from '../contexts/ToastContext'\r\nimport { useAuthContext } from '../contexts/AuthContext'\r\nimport { supabase } from '../lib/supabase'\r\nimport StripePayment from '../components/payments/StripePayment'\r\nimport PayPalPayment from '../components/payments/PayPalPayment'\r\nimport SquarePayment from '../components/payments/SquarePayment'\r\n\r\ninterface CustomerInfo {\r\n  firstName: string\r\n  lastName: string\r\n  email: string\r\n  phone: string\r\n  address: string\r\n  city: string\r\n  state: string\r\n  zipCode: string\r\n  country: string\r\n}\r\n\r\ninterface PaymentMethod {\r\n  id: string\r\n  name: string\r\n  icon: string\r\n  description: string\r\n  color: string\r\n}\r\n\r\nconst paymentMethods: PaymentMethod[] = [\r\n  {\r\n    id: 'stripe',\r\n    name: 'Credit/Debit Card',\r\n    icon: 'ðŸ’³',\r\n    description: 'Visa, Mastercard, American Express â€¢ Recommended',\r\n    color: 'bg-blue-600'\r\n  },\r\n  {\r\n    id: 'paypal',\r\n    name: 'PayPal',\r\n    icon: 'ðŸŸ¦',\r\n    description: 'Pay with your PayPal account',\r\n    color: 'bg-yellow-500'\r\n  },\r\n  {\r\n    id: 'square',\r\n    name: 'Square',\r\n    icon: 'â¬›',\r\n    description: 'Secure payment processing',\r\n    color: 'bg-gray-600'\r\n  }\r\n]\r\n\r\nconst Checkout: React.FC = () => {\r\n  const navigate = useNavigate()\r\n  const { items, getTotalPrice, clearCart } = useCart()\r\n  const { showToast } = useToast()\r\n  const { profile, user } = useAuthContext()\r\n  \r\n  const [selectedPayment, setSelectedPayment] = useState<string>('stripe')\r\n  const [customerInfo, setCustomerInfo] = useState<CustomerInfo>({\r\n    firstName: profile?.full_name?.split(' ')[0] || '',\r\n    lastName: profile?.full_name?.split(' ')[1] || '',\r\n    email: profile?.email || '',\r\n    phone: '',\r\n    address: '',\r\n    city: '',\r\n    state: '',\r\n    zipCode: '',\r\n    country: 'US'\r\n  })\r\n\r\n  // Redirect if cart is empty\r\n  useEffect(() => {\r\n    if (items.length === 0) {\r\n      navigate('/products')\r\n      showToast({\r\n        type: 'info',\r\n        title: 'Cart Empty',\r\n        message: 'Your cart is empty. Add some products before checkout.'\r\n      })\r\n    }\r\n  }, [items, navigate, showToast])\r\n\r\n  const handleInputChange = (field: keyof CustomerInfo, value: string) => {\r\n    setCustomerInfo(prev => ({\r\n      ...prev,\r\n      [field]: value\r\n    }))\r\n  }\r\n\r\n  // Validation function without side effects (for disabled state)\r\n  const isFormValid = (): boolean => {\r\n    const required = ['firstName', 'lastName', 'email', 'address', 'city', 'state', 'zipCode']\r\n    const missing = required.filter(field => !customerInfo[field as keyof CustomerInfo])\r\n    \r\n    if (missing.length > 0) {\r\n      return false\r\n    }\r\n\r\n    // Email validation\r\n    const emailRegex = /^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/\r\n    if (!emailRegex.test(customerInfo.email)) {\r\n      return false\r\n    }\r\n\r\n    return true\r\n  }\r\n\r\n  const createOrder = async (paymentId: string) => {\r\n    try {\r\n      if (!user) {\r\n        throw new Error('User not authenticated')\r\n      }\r\n\r\n      // Create the order record\r\n      const orderData = {\r\n        user_id: user.id,\r\n        total_amount: total,\r\n        status: 'completed' as const,\r\n        payment_method: paymentMethods.find(p => p.id === selectedPayment)?.name || 'Credit Card',\r\n        payment_id: paymentId,\r\n        notes: `Subtotal: $${getTotalPrice().toFixed(2)}, Tax: $${tax.toFixed(2)} (Digital products - no shipping)`\r\n      }\r\n\r\n      const { data: order, error: orderError } = await supabase\r\n        .from('orders')\r\n        .insert([orderData])\r\n        .select()\r\n        .single()\r\n\r\n      if (orderError) {\r\n        console.error('Error creating order:', orderError)\r\n        throw orderError\r\n      }\r\n\r\n      // Create order items\r\n      const orderItems = items.map(item => ({\r\n        order_id: order.id,\r\n        product_id: item.id,\r\n        price: item.price,\r\n        quantity: item.quantity\r\n      }))\r\n\r\n      const { error: itemsError } = await supabase\r\n        .from('order_items')\r\n        .insert(orderItems)\r\n\r\n      if (itemsError) {\r\n        console.error('Error creating order items:', itemsError)\r\n        throw itemsError\r\n      }\r\n\r\n      return order.id\r\n    } catch (error) {\r\n      console.error('Failed to create order:', error)\r\n      throw error\r\n    }\r\n  }\r\n\r\n  const handlePaymentSuccess = async (paymentId: string) => {\r\n    try {\r\n      // Validate form one more time before processing\r\n      if (!isFormValid()) {\r\n        showToast({\r\n          type: 'error',\r\n          title: 'Form Incomplete',\r\n          message: 'Please fill in all required fields before completing your order.'\r\n        })\r\n        return\r\n      }\r\n\r\n      // Create order in database\r\n      const orderId = await createOrder(paymentId)\r\n      \r\n      // Clear cart and show success\r\n      clearCart()\r\n      \r\n      showToast({\r\n        type: 'success',\r\n        title: 'Order Successful!',\r\n        message: `Your order has been placed successfully. Order ID: ${orderId.slice(-8)}`\r\n      })\r\n      \r\n      // Navigate to order confirmation page\r\n      navigate('/order-confirmation', { \r\n        replace: true,\r\n        state: {\r\n          orderId: orderId,\r\n          paymentId: paymentId,\r\n          amount: total,\r\n          subtotal: getTotalPrice(),\r\n          tax: tax,\r\n          items: items,\r\n          paymentMethod: paymentMethods.find(p => p.id === selectedPayment)?.name || 'Credit Card'\r\n        }\r\n      })\r\n    } catch (error) {\r\n      console.error('Order creation failed:', error)\r\n      showToast({\r\n        type: 'error',\r\n        title: 'Order Failed',\r\n        message: 'Failed to create order. Please try again or contact support.'\r\n      })\r\n    }\r\n  }\r\n\r\n  const handlePaymentError = (error: string) => {\r\n    showToast({\r\n      type: 'error',\r\n      title: 'Payment Failed',\r\n      message: error\r\n    })\r\n  }\r\n\r\n  const tax = getTotalPrice() * 0.08 // 8% tax\r\n  const total = getTotalPrice() + tax // No shipping for digital products\r\n\r\n  if (items.length === 0) {\r\n    return null // Will redirect in useEffect\r\n  }\r\n\r\n  return (\r\n    <>\r\n      <Helmet>\r\n        <title>Checkout - Studio Nullbyte</title>\r\n        <meta name=\"description\" content=\"Complete your purchase securely\" />\r\n      </Helmet>\r\n\r\n      <div className=\"min-h-screen pt-20 bg-black text-white\">\r\n        <div className=\"container mx-auto px-4 py-8\">\r\n          {/* Back Button */}\r\n          <button \r\n            onClick={() => navigate('/products')}\r\n            className=\"flex items-center text-gray-400 hover:text-white transition-colors font-mono text-sm mb-8\"\r\n          >\r\n            <ArrowLeft className=\"w-4 h-4 mr-2\" />\r\n            Back to Products\r\n          </button>\r\n\r\n          <div className=\"grid grid-cols-1 lg:grid-cols-2 gap-12\">\r\n            {/* Order Summary */}\r\n            <div className=\"order-2 lg:order-1\">\r\n              <h1 className=\"text-2xl font-mono font-bold mb-6\">Checkout</h1>\r\n              \r\n              {/* Customer Information */}\r\n              <div className=\"card mb-8\">\r\n                <div className=\"flex items-center gap-3 mb-6\">\r\n                  <User className=\"w-5 h-5 text-electric-violet\" />\r\n                  <h2 className=\"text-lg font-mono font-bold\">Customer Information</h2>\r\n                </div>\r\n                \r\n                <div className=\"grid grid-cols-2 gap-4\">\r\n                  <div>\r\n                    <label className=\"block text-sm font-mono text-gray-400 mb-2\">\r\n                      First Name *\r\n                    </label>\r\n                    <input\r\n                      type=\"text\"\r\n                      value={customerInfo.firstName}\r\n                      onChange={(e) => handleInputChange('firstName', e.target.value)}\r\n                      className=\"w-full px-3 py-2 bg-code-gray-dark border border-gray-700 rounded-sm focus:border-electric-violet focus:outline-none font-mono text-sm\"\r\n                    />\r\n                  </div>\r\n                  <div>\r\n                    <label className=\"block text-sm font-mono text-gray-400 mb-2\">\r\n                      Last Name *\r\n                    </label>\r\n                    <input\r\n                      type=\"text\"\r\n                      value={customerInfo.lastName}\r\n                      onChange={(e) => handleInputChange('lastName', e.target.value)}\r\n                      className=\"w-full px-3 py-2 bg-code-gray-dark border border-gray-700 rounded-sm focus:border-electric-violet focus:outline-none font-mono text-sm\"\r\n                    />\r\n                  </div>\r\n                </div>\r\n\r\n                <div className=\"mt-4\">\r\n                  <label className=\"block text-sm font-mono text-gray-400 mb-2\">\r\n                    Email Address *\r\n                  </label>\r\n                  <div className=\"relative\">\r\n                    <Mail className=\"w-4 h-4 absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400\" />\r\n                    <input\r\n                      type=\"email\"\r\n                      value={customerInfo.email}\r\n                      onChange={(e) => handleInputChange('email', e.target.value)}\r\n                      className=\"w-full pl-10 pr-3 py-2 bg-code-gray-dark border border-gray-700 rounded-sm focus:border-electric-violet focus:outline-none font-mono text-sm\"\r\n                    />\r\n                  </div>\r\n                </div>\r\n\r\n                <div className=\"mt-4\">\r\n                  <label className=\"block text-sm font-mono text-gray-400 mb-2\">\r\n                    Phone Number\r\n                  </label>\r\n                  <div className=\"relative\">\r\n                    <Phone className=\"w-4 h-4 absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400\" />\r\n                    <input\r\n                      type=\"tel\"\r\n                      value={customerInfo.phone}\r\n                      onChange={(e) => handleInputChange('phone', e.target.value)}\r\n                      className=\"w-full pl-10 pr-3 py-2 bg-code-gray-dark border border-gray-700 rounded-sm focus:border-electric-violet focus:outline-none font-mono text-sm\"\r\n                    />\r\n                  </div>\r\n                </div>\r\n              </div>\r\n\r\n              {/* Billing Address */}\r\n              <div className=\"card mb-8\">\r\n                <div className=\"flex items-center gap-3 mb-6\">\r\n                  <MapPin className=\"w-5 h-5 text-electric-violet\" />\r\n                  <h2 className=\"text-lg font-mono font-bold\">Billing Address</h2>\r\n                </div>\r\n\r\n                <div className=\"space-y-4\">\r\n                  <div>\r\n                    <label className=\"block text-sm font-mono text-gray-400 mb-2\">\r\n                      Street Address *\r\n                    </label>\r\n                    <input\r\n                      type=\"text\"\r\n                      value={customerInfo.address}\r\n                      onChange={(e) => handleInputChange('address', e.target.value)}\r\n                      className=\"w-full px-3 py-2 bg-code-gray-dark border border-gray-700 rounded-sm focus:border-electric-violet focus:outline-none font-mono text-sm\"\r\n                    />\r\n                  </div>\r\n\r\n                  <div className=\"grid grid-cols-2 gap-4\">\r\n                    <div>\r\n                      <label className=\"block text-sm font-mono text-gray-400 mb-2\">\r\n                        City *\r\n                      </label>\r\n                      <input\r\n                        type=\"text\"\r\n                        value={customerInfo.city}\r\n                        onChange={(e) => handleInputChange('city', e.target.value)}\r\n                        className=\"w-full px-3 py-2 bg-code-gray-dark border border-gray-700 rounded-sm focus:border-electric-violet focus:outline-none font-mono text-sm\"\r\n                      />\r\n                    </div>\r\n                    <div>\r\n                      <label className=\"block text-sm font-mono text-gray-400 mb-2\">\r\n                        State *\r\n                      </label>\r\n                      <input\r\n                        type=\"text\"\r\n                        value={customerInfo.state}\r\n                        onChange={(e) => handleInputChange('state', e.target.value)}\r\n                        className=\"w-full px-3 py-2 bg-code-gray-dark border border-gray-700 rounded-sm focus:border-electric-violet focus:outline-none font-mono text-sm\"\r\n                      />\r\n                    </div>\r\n                  </div>\r\n\r\n                  <div className=\"grid grid-cols-2 gap-4\">\r\n                    <div>\r\n                      <label className=\"block text-sm font-mono text-gray-400 mb-2\">\r\n                        ZIP Code *\r\n                      </label>\r\n                      <input\r\n                        type=\"text\"\r\n                        value={customerInfo.zipCode}\r\n                        onChange={(e) => handleInputChange('zipCode', e.target.value)}\r\n                        className=\"w-full px-3 py-2 bg-code-gray-dark border border-gray-700 rounded-sm focus:border-electric-violet focus:outline-none font-mono text-sm\"\r\n                      />\r\n                    </div>\r\n                    <div>\r\n                      <label className=\"block text-sm font-mono text-gray-400 mb-2\">\r\n                        Country *\r\n                      </label>\r\n                      <select\r\n                        value={customerInfo.country}\r\n                        onChange={(e) => handleInputChange('country', e.target.value)}\r\n                        className=\"w-full px-3 py-2 bg-code-gray-dark border border-gray-700 rounded-sm focus:border-electric-violet focus:outline-none font-mono text-sm\"\r\n                      >\r\n                        <option value=\"US\">United States</option>\r\n                        <option value=\"CA\">Canada</option>\r\n                        <option value=\"UK\">United Kingdom</option>\r\n                        <option value=\"AU\">Australia</option>\r\n                      </select>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n\r\n              {/* Payment Method */}\r\n              <div className=\"card mb-8\">\r\n                <div className=\"flex items-center gap-3 mb-6\">\r\n                  <CreditCard className=\"w-5 h-5 text-electric-violet\" />\r\n                  <h2 className=\"text-lg font-mono font-bold\">Payment Method</h2>\r\n                </div>\r\n\r\n                <div className=\"space-y-3 mb-6\">\r\n                  {paymentMethods.map((method) => (\r\n                    <motion.div\r\n                      key={method.id}\r\n                      whileHover={{ scale: 1.02 }}\r\n                      className={`p-4 border rounded-sm cursor-pointer transition-all relative ${\r\n                        selectedPayment === method.id\r\n                          ? 'border-electric-violet bg-electric-violet bg-opacity-10'\r\n                          : 'border-gray-700 hover:border-gray-600'\r\n                      } ${method.id === 'stripe' ? 'ring-1 ring-blue-500/30' : ''}`}\r\n                      onClick={() => setSelectedPayment(method.id)}\r\n                    >\r\n                      {method.id === 'stripe' && (\r\n                        <div className=\"absolute -top-2 -right-2 bg-electric-violet text-white px-2 py-1 rounded-full text-xs font-mono\">\r\n                          Recommended\r\n                        </div>\r\n                      )}\r\n                      <div className=\"flex items-center gap-3\">\r\n                        <div className={`w-10 h-10 rounded-sm ${method.color} flex items-center justify-center text-lg`}>\r\n                          {method.icon}\r\n                        </div>\r\n                        <div className=\"flex-1\">\r\n                          <div className=\"font-mono font-bold\">{method.name}</div>\r\n                          <div className=\"text-sm text-gray-400\">{method.description}</div>\r\n                        </div>\r\n                        {selectedPayment === method.id && (\r\n                          <Check className=\"w-5 h-5 text-electric-violet\" />\r\n                        )}\r\n                      </div>\r\n                    </motion.div>\r\n                  ))}\r\n                </div>\r\n\r\n                {/* Payment Component */}\r\n                {selectedPayment === 'stripe' && (\r\n                  <StripePayment\r\n                    product={{\r\n                      id: `order-${Date.now()}`,\r\n                      name: `Studio Nullbyte Order (${items.length} item${items.length > 1 ? 's' : ''})`,\r\n                      price: total,\r\n                      description: items.map(item => `${item.title} ($${item.price.toFixed(2)})`).join(', '),\r\n                      image: items[0]?.image_url || undefined,\r\n                      stripePriceId: undefined, // Combined orders don't use individual Price IDs\r\n                      cartItems: items.map(item => ({\r\n                        priceId: item.stripe_price_id,\r\n                        quantity: item.quantity\r\n                      }))\r\n                    }}\r\n                    onSuccess={() => handlePaymentSuccess('stripe_checkout_session')}\r\n                    onError={handlePaymentError}\r\n                    disabled={!isFormValid()}\r\n                  />\r\n                )}\r\n                \r\n                {selectedPayment === 'paypal' && (\r\n                  <PayPalPayment\r\n                    amount={total}\r\n                    onSuccess={handlePaymentSuccess}\r\n                    onError={handlePaymentError}\r\n                    disabled={!isFormValid()}\r\n                    customerInfo={customerInfo}\r\n                  />\r\n                )}\r\n                \r\n                {selectedPayment === 'square' && (\r\n                  <SquarePayment\r\n                    amount={total}\r\n                    onSuccess={handlePaymentSuccess}\r\n                    onError={handlePaymentError}\r\n                    disabled={!isFormValid()}\r\n                  />\r\n                )}\r\n              </div>\r\n            </div>\r\n\r\n            {/* Order Summary Sidebar */}\r\n            <div className=\"order-1 lg:order-2\">\r\n              <div className=\"card sticky top-24\">\r\n                <h2 className=\"text-lg font-mono font-bold mb-6\">Order Summary</h2>\r\n                \r\n                {/* Items */}\r\n                <div className=\"space-y-4 mb-6\">\r\n                  {items.map((item) => (\r\n                    <div key={item.id} className=\"flex gap-3\">\r\n                      <div className=\"w-16 h-16 bg-code-gray-dark rounded-sm overflow-hidden flex-shrink-0\">\r\n                        {item.image_url ? (\r\n                          <img\r\n                            src={item.image_url}\r\n                            alt={item.title}\r\n                            className=\"w-full h-full object-cover\"\r\n                          />\r\n                        ) : (\r\n                          <div className=\"w-full h-full flex items-center justify-center text-gray-500 text-xs\">\r\n                            No Image\r\n                          </div>\r\n                        )}\r\n                      </div>\r\n                      <div className=\"flex-1 min-w-0\">\r\n                        <div className=\"font-mono font-bold text-sm truncate\">\r\n                          {item.title}\r\n                        </div>\r\n                        <div className=\"text-gray-400 text-sm\">\r\n                          Qty: {item.quantity}\r\n                        </div>\r\n                        <div className=\"text-electric-violet font-mono text-sm\">\r\n                          ${(item.price * item.quantity).toFixed(2)}\r\n                        </div>\r\n                      </div>\r\n                    </div>\r\n                  ))}\r\n                </div>\r\n\r\n                {/* Totals */}\r\n                <div className=\"space-y-2 border-t border-gray-700 pt-4\">\r\n                  <div className=\"flex justify-between text-sm\">\r\n                    <span className=\"text-gray-400\">Subtotal:</span>\r\n                    <span className=\"font-mono\">${getTotalPrice().toFixed(2)}</span>\r\n                  </div>\r\n                  <div className=\"flex justify-between text-sm\">\r\n                    <span className=\"text-gray-400\">Tax:</span>\r\n                    <span className=\"font-mono\">${tax.toFixed(2)}</span>\r\n                  </div>\r\n                  <div className=\"flex justify-between text-lg font-bold border-t border-gray-700 pt-2\">\r\n                    <span>Total:</span>\r\n                    <span className=\"font-mono text-electric-violet\">${total.toFixed(2)}</span>\r\n                  </div>\r\n                  <div className=\"text-xs text-gray-400 text-center mt-2\">\r\n                    <span className=\"inline-block\">ðŸ”„ Digital products - instant delivery</span>\r\n                  </div>\r\n                </div>\r\n\r\n                <div className=\"text-xs text-gray-400 text-center mt-3\">\r\n                  <Lock className=\"w-3 h-3 inline mr-1\" />\r\n                  Your payment information is secure and encrypted\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </>\r\n  )\r\n}\r\n\r\nexport default Checkout\r\n","import React from 'react'\r\nimport { useNavigate, useLocation } from 'react-router-dom'\r\nimport { Helmet } from 'react-helmet-async'\r\nimport { motion } from 'framer-motion'\r\nimport { CheckCircle, Package, CreditCard, Calendar, ArrowRight } from 'lucide-react'\r\n\r\nconst OrderConfirmation: React.FC = () => {\r\n  const navigate = useNavigate()\r\n  const location = useLocation()\r\n  \r\n  // In a real app, this would come from the payment result or API\r\n  const orderDetails = location.state || {\r\n    orderId: `ORD-${Math.random().toString(36).substr(2, 8).toUpperCase()}`,\r\n    paymentId: `PAY-${Math.random().toString(36).substr(2, 12)}`,\r\n    amount: 0,\r\n    subtotal: 0,\r\n    tax: 0,\r\n    items: [],\r\n    paymentMethod: 'Credit Card'\r\n  }\r\n\r\n  const formatCurrency = (amount: number) => {\r\n    return new Intl.NumberFormat('en-US', {\r\n      style: 'currency',\r\n      currency: 'USD'\r\n    }).format(amount)\r\n  }\r\n\r\n  return (\r\n    <>\r\n      <Helmet>\r\n        <title>Order Confirmation - Studio Nullbyte</title>\r\n        <meta name=\"description\" content=\"Your order has been confirmed\" />\r\n      </Helmet>\r\n\r\n      <div className=\"min-h-screen pt-20 bg-black text-white\">\r\n        <div className=\"container mx-auto px-4 py-12\">\r\n          <motion.div\r\n            initial={{ opacity: 0, y: 20 }}\r\n            animate={{ opacity: 1, y: 0 }}\r\n            transition={{ duration: 0.6 }}\r\n            className=\"max-w-2xl mx-auto text-center\"\r\n          >\r\n            {/* Success Icon */}\r\n            <motion.div\r\n              initial={{ scale: 0 }}\r\n              animate={{ scale: 1 }}\r\n              transition={{ delay: 0.2, type: \"spring\", stiffness: 200 }}\r\n              className=\"w-20 h-20 mx-auto mb-8\"\r\n            >\r\n              <CheckCircle className=\"w-full h-full text-green-400\" />\r\n            </motion.div>\r\n\r\n            {/* Success Message */}\r\n            <motion.h1\r\n              initial={{ opacity: 0 }}\r\n              animate={{ opacity: 1 }}\r\n              transition={{ delay: 0.4 }}\r\n              className=\"text-3xl md:text-4xl font-mono font-bold mb-4\"\r\n            >\r\n              Order Confirmed!\r\n            </motion.h1>\r\n\r\n            <motion.p\r\n              initial={{ opacity: 0 }}\r\n              animate={{ opacity: 1 }}\r\n              transition={{ delay: 0.6 }}\r\n              className=\"text-gray-400 text-lg mb-8\"\r\n            >\r\n              Thank you for your purchase. Your order has been successfully processed.\r\n            </motion.p>\r\n\r\n            {/* Order Details Card */}\r\n            <motion.div\r\n              initial={{ opacity: 0, y: 20 }}\r\n              animate={{ opacity: 1, y: 0 }}\r\n              transition={{ delay: 0.8 }}\r\n              className=\"card text-left mb-8\"\r\n            >\r\n              <h2 className=\"text-xl font-mono font-bold mb-6 text-center\">\r\n                Order Details\r\n              </h2>\r\n\r\n              <div className=\"space-y-4\">\r\n                <div className=\"flex items-center gap-3 p-3 bg-code-gray-dark rounded-sm\">\r\n                  <Package className=\"w-5 h-5 text-electric-violet\" />\r\n                  <div>\r\n                    <div className=\"font-mono text-sm text-gray-400\">Order ID</div>\r\n                    <div className=\"font-mono font-bold\">{orderDetails.orderId}</div>\r\n                  </div>\r\n                </div>\r\n\r\n                <div className=\"flex items-center gap-3 p-3 bg-code-gray-dark rounded-sm\">\r\n                  <CreditCard className=\"w-5 h-5 text-electric-violet\" />\r\n                  <div>\r\n                    <div className=\"font-mono text-sm text-gray-400\">Payment ID</div>\r\n                    <div className=\"font-mono font-bold\">{orderDetails.paymentId}</div>\r\n                  </div>\r\n                </div>\r\n\r\n                <div className=\"flex items-center gap-3 p-3 bg-code-gray-dark rounded-sm\">\r\n                  <Calendar className=\"w-5 h-5 text-electric-violet\" />\r\n                  <div>\r\n                    <div className=\"font-mono text-sm text-gray-400\">Order Date</div>\r\n                    <div className=\"font-mono font-bold\">\r\n                      {new Date().toLocaleDateString('en-US', {\r\n                        year: 'numeric',\r\n                        month: 'long',\r\n                        day: 'numeric',\r\n                        hour: '2-digit',\r\n                        minute: '2-digit'\r\n                      })}\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n\r\n                <div className=\"flex items-center gap-3 p-3 bg-code-gray-dark rounded-sm\">\r\n                  <CreditCard className=\"w-5 h-5 text-electric-violet\" />\r\n                  <div>\r\n                    <div className=\"font-mono text-sm text-gray-400\">Payment Method</div>\r\n                    <div className=\"font-mono font-bold\">{orderDetails.paymentMethod}</div>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n\r\n              {/* Price Breakdown */}\r\n              {orderDetails.subtotal && (\r\n                <div className=\"mt-6 pt-6 border-t border-gray-700\">\r\n                  <h3 className=\"text-lg font-mono font-bold mb-4\">Order Summary</h3>\r\n                  <div className=\"space-y-2\">\r\n                    <div className=\"flex justify-between font-mono\">\r\n                      <span className=\"text-gray-400\">Subtotal:</span>\r\n                      <span>{formatCurrency(orderDetails.subtotal)}</span>\r\n                    </div>\r\n                    <div className=\"flex justify-between font-mono\">\r\n                      <span className=\"text-gray-400\">Tax:</span>\r\n                      <span>{formatCurrency(orderDetails.tax || 0)}</span>\r\n                    </div>\r\n                    <div className=\"flex justify-between font-mono text-lg font-bold border-t border-gray-700 pt-2 mt-2\">\r\n                      <span className=\"text-electric-violet\">Total:</span>\r\n                      <span className=\"text-electric-violet\">{formatCurrency(orderDetails.amount)}</span>\r\n                    </div>\r\n                    <div className=\"text-xs text-gray-400 text-center mt-3\">\r\n                      <span className=\"inline-block\">ðŸ”„ Digital products - no shipping required</span>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              )}\r\n\r\n              {/* Order Items */}\r\n              {orderDetails.items && orderDetails.items.length > 0 && (\r\n                <div className=\"mt-6 pt-6 border-t border-gray-700\">\r\n                  <h3 className=\"text-lg font-mono font-bold mb-4\">Items Ordered</h3>\r\n                  <div className=\"space-y-3\">\r\n                    {orderDetails.items.map((item: any, index: number) => (\r\n                      <div key={index} className=\"flex justify-between items-center p-3 bg-code-gray-dark rounded-sm\">\r\n                        <div>\r\n                          <div className=\"font-mono font-bold\">{item.title}</div>\r\n                          <div className=\"font-mono text-sm text-gray-400\">Qty: {item.quantity}</div>\r\n                        </div>\r\n                        <div className=\"font-mono text-electric-violet\">\r\n                          {formatCurrency(item.price * item.quantity)}\r\n                        </div>\r\n                      </div>\r\n                    ))}\r\n                  </div>\r\n                </div>\r\n              )}\r\n            </motion.div>\r\n\r\n            {/* What's Next */}\r\n            <motion.div\r\n              initial={{ opacity: 0, y: 20 }}\r\n              animate={{ opacity: 1, y: 0 }}\r\n              transition={{ delay: 1.0 }}\r\n              className=\"card mb-8\"\r\n            >\r\n              <h3 className=\"text-lg font-mono font-bold mb-4\">What's Next?</h3>\r\n              <div className=\"space-y-3 text-sm text-gray-400\">\r\n                <div className=\"flex items-start gap-3\">\r\n                  <div className=\"w-6 h-6 rounded-full bg-electric-violet text-black font-mono font-bold text-xs flex items-center justify-center mt-0.5\">\r\n                    1\r\n                  </div>\r\n                  <div>\r\n                    <div className=\"font-mono font-bold text-white\">Order Processing</div>\r\n                    <div>We'll begin processing your order immediately.</div>\r\n                  </div>\r\n                </div>\r\n                <div className=\"flex items-start gap-3\">\r\n                  <div className=\"w-6 h-6 rounded-full bg-gray-600 text-white font-mono font-bold text-xs flex items-center justify-center mt-0.5\">\r\n                    2\r\n                  </div>\r\n                  <div>\r\n                    <div className=\"font-mono font-bold text-white\">Email Confirmation</div>\r\n                    <div>You'll receive an email with your download links and receipt.</div>\r\n                  </div>\r\n                </div>\r\n                <div className=\"flex items-start gap-3\">\r\n                  <div className=\"w-6 h-6 rounded-full bg-gray-600 text-white font-mono font-bold text-xs flex items-center justify-center mt-0.5\">\r\n                    3\r\n                  </div>\r\n                  <div>\r\n                    <div className=\"font-mono font-bold text-white\">Instant Access</div>\r\n                    <div>Download your digital products immediately from the email.</div>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </motion.div>\r\n\r\n            {/* Action Buttons */}\r\n            <motion.div\r\n              initial={{ opacity: 0, y: 20 }}\r\n              animate={{ opacity: 1, y: 0 }}\r\n              transition={{ delay: 1.2 }}\r\n              className=\"flex flex-col sm:flex-row gap-4 justify-center\"\r\n            >\r\n              <button\r\n                onClick={() => navigate('/products')}\r\n                className=\"btn-primary flex items-center justify-center gap-2\"\r\n              >\r\n                Continue Shopping\r\n                <ArrowRight className=\"w-4 h-4\" />\r\n              </button>\r\n              \r\n              <button\r\n                onClick={() => navigate('/')}\r\n                className=\"btn-ghost\"\r\n              >\r\n                Back to Home\r\n              </button>\r\n            </motion.div>\r\n\r\n            {/* Support Note */}\r\n            <motion.div\r\n              initial={{ opacity: 0 }}\r\n              animate={{ opacity: 1 }}\r\n              transition={{ delay: 1.4 }}\r\n              className=\"mt-8 p-4 border border-gray-700 rounded-sm\"\r\n            >\r\n              <div className=\"text-sm text-gray-400\">\r\n                <div className=\"font-mono font-bold text-white mb-2\">Need Help?</div>\r\n                <div>\r\n                  If you have any questions about your order or need assistance with downloads, \r\n                  please don't hesitate to{' '}\r\n                  <button\r\n                    onClick={() => navigate('/contact')}\r\n                    className=\"text-electric-violet hover:text-electric-violet-light transition-colors underline\"\r\n                  >\r\n                    contact our support team\r\n                  </button>\r\n                  .\r\n                </div>\r\n              </div>\r\n            </motion.div>\r\n          </motion.div>\r\n        </div>\r\n      </div>\r\n    </>\r\n  )\r\n}\r\n\r\nexport default OrderConfirmation\r\n","export class EmailJSResponseStatus {\n    constructor(_status = 0, _text = 'Network Error') {\n        this.status = _status;\n        this.text = _text;\n    }\n}\n","export const createWebStorage = () => {\n    if (typeof localStorage === 'undefined')\n        return;\n    return {\n        get: (key) => Promise.resolve(localStorage.getItem(key)),\n        set: (key, value) => Promise.resolve(localStorage.setItem(key, value)),\n        remove: (key) => Promise.resolve(localStorage.removeItem(key)),\n    };\n};\n","import { createWebStorage } from '../utils/createWebStorage/createWebStorage';\nexport const store = {\n    origin: 'https://api.emailjs.com',\n    blockHeadless: false,\n    storageProvider: createWebStorage(),\n};\n","export const buildOptions = (options) => {\n    if (!options)\n        return {};\n    // support compatibility with SDK v3\n    if (typeof options === 'string') {\n        return {\n            publicKey: options,\n        };\n    }\n    // eslint-disable-next-line @typescript-eslint/no-base-to-string\n    if (options.toString() === '[object Object]') {\n        return options;\n    }\n    return {};\n};\n","import { store } from '../../store/store';\nimport { buildOptions } from '../../utils/buildOptions/buildOptions';\n/**\n * EmailJS global SDK config\n * @param {object} options - the EmailJS global SDK config options\n * @param {string} origin - the non-default EmailJS origin\n */\nexport const init = (options, origin = 'https://api.emailjs.com') => {\n    if (!options)\n        return;\n    const opts = buildOptions(options);\n    store.publicKey = opts.publicKey;\n    store.blockHeadless = opts.blockHeadless;\n    store.storageProvider = opts.storageProvider;\n    store.blockList = opts.blockList;\n    store.limitRate = opts.limitRate;\n    store.origin = opts.origin || origin;\n};\n","import { EmailJSResponseStatus } from '../models/EmailJSResponseStatus';\nimport { store } from '../store/store';\nexport const sendPost = async (url, data, headers = {}) => {\n    const response = await fetch(store.origin + url, {\n        method: 'POST',\n        headers,\n        body: data,\n    });\n    const message = await response.text();\n    const responseStatus = new EmailJSResponseStatus(response.status, message);\n    if (response.ok) {\n        return responseStatus;\n    }\n    throw responseStatus;\n};\n","export const validateParams = (publicKey, serviceID, templateID) => {\n    if (!publicKey || typeof publicKey !== 'string') {\n        throw 'The public key is required. Visit https://dashboard.emailjs.com/admin/account';\n    }\n    if (!serviceID || typeof serviceID !== 'string') {\n        throw 'The service ID is required. Visit https://dashboard.emailjs.com/admin';\n    }\n    if (!templateID || typeof templateID !== 'string') {\n        throw 'The template ID is required. Visit https://dashboard.emailjs.com/admin/templates';\n    }\n};\n","export const validateTemplateParams = (templateParams) => {\n    // eslint-disable-next-line @typescript-eslint/no-base-to-string\n    if (templateParams && templateParams.toString() !== '[object Object]') {\n        throw 'The template params have to be the object. Visit https://www.emailjs.com/docs/sdk/send/';\n    }\n};\n","export const isHeadless = (navigator) => {\n    return navigator.webdriver || !navigator.languages || navigator.languages.length === 0;\n};\n","import { EmailJSResponseStatus } from '../../models/EmailJSResponseStatus';\nexport const headlessError = () => {\n    return new EmailJSResponseStatus(451, 'Unavailable For Headless Browser');\n};\n","export const validateBlockListParams = (list, watchVariable) => {\n    if (!Array.isArray(list)) {\n        throw 'The BlockList list has to be an array';\n    }\n    if (typeof watchVariable !== 'string') {\n        throw 'The BlockList watchVariable has to be a string';\n    }\n};\n","import { validateBlockListParams } from '../validateBlockListParams/validateBlockListParams';\nconst isBlockListDisabled = (options) => {\n    return !options.list?.length || !options.watchVariable;\n};\nconst getValue = (data, name) => {\n    return data instanceof FormData ? data.get(name) : data[name];\n};\nexport const isBlockedValueInParams = (options, params) => {\n    if (isBlockListDisabled(options))\n        return false;\n    validateBlockListParams(options.list, options.watchVariable);\n    const value = getValue(params, options.watchVariable);\n    if (typeof value !== 'string')\n        return false;\n    return options.list.includes(value);\n};\n","import { EmailJSResponseStatus } from '../../models/EmailJSResponseStatus';\nexport const blockedEmailError = () => {\n    return new EmailJSResponseStatus(403, 'Forbidden');\n};\n","export const validateLimitRateParams = (throttle, id) => {\n    if (typeof throttle !== 'number' || throttle < 0) {\n        throw 'The LimitRate throttle has to be a positive number';\n    }\n    if (id && typeof id !== 'string') {\n        throw 'The LimitRate ID has to be a non-empty string';\n    }\n};\n","import { validateLimitRateParams } from '../validateLimitRateParams/validateLimitRateParams';\nconst getLeftTime = async (id, throttle, storage) => {\n    const lastTime = Number((await storage.get(id)) || 0);\n    return throttle - Date.now() + lastTime;\n};\nexport const isLimitRateHit = async (defaultID, options, storage) => {\n    if (!options.throttle || !storage) {\n        return false;\n    }\n    validateLimitRateParams(options.throttle, options.id);\n    const id = options.id || defaultID;\n    const leftTime = await getLeftTime(id, options.throttle, storage);\n    if (leftTime > 0) {\n        return true;\n    }\n    await storage.set(id, Date.now().toString());\n    return false;\n};\n","import { EmailJSResponseStatus } from '../../models/EmailJSResponseStatus';\nexport const limitRateError = () => {\n    return new EmailJSResponseStatus(429, 'Too Many Requests');\n};\n","import { store } from '../../store/store';\nimport { sendPost } from '../../api/sendPost';\nimport { buildOptions } from '../../utils/buildOptions/buildOptions';\nimport { validateParams } from '../../utils/validateParams/validateParams';\nimport { validateTemplateParams } from '../../utils/validateTemplateParams/validateTemplateParams';\nimport { isHeadless } from '../../utils/isHeadless/isHeadless';\nimport { headlessError } from '../../errors/headlessError/headlessError';\nimport { isBlockedValueInParams } from '../../utils/isBlockedValueInParams/isBlockedValueInParams';\nimport { blockedEmailError } from '../../errors/blockedEmailError/blockedEmailError';\nimport { isLimitRateHit } from '../../utils/isLimitRateHit/isLimitRateHit';\nimport { limitRateError } from '../../errors/limitRateError/limitRateError';\n/**\n * Send a template to the specific EmailJS service\n * @param {string} serviceID - the EmailJS service ID\n * @param {string} templateID - the EmailJS template ID\n * @param {object} templateParams - the template params, what will be set to the EmailJS template\n * @param {object} options - the EmailJS SDK config options\n * @returns {Promise<EmailJSResponseStatus>}\n */\nexport const send = async (serviceID, templateID, templateParams, options) => {\n    const opts = buildOptions(options);\n    const publicKey = opts.publicKey || store.publicKey;\n    const blockHeadless = opts.blockHeadless || store.blockHeadless;\n    const storageProvider = opts.storageProvider || store.storageProvider;\n    const blockList = { ...store.blockList, ...opts.blockList };\n    const limitRate = { ...store.limitRate, ...opts.limitRate };\n    if (blockHeadless && isHeadless(navigator)) {\n        return Promise.reject(headlessError());\n    }\n    validateParams(publicKey, serviceID, templateID);\n    validateTemplateParams(templateParams);\n    if (templateParams && isBlockedValueInParams(blockList, templateParams)) {\n        return Promise.reject(blockedEmailError());\n    }\n    if (await isLimitRateHit(location.pathname, limitRate, storageProvider)) {\n        return Promise.reject(limitRateError());\n    }\n    const params = {\n        lib_version: '4.4.1',\n        user_id: publicKey,\n        service_id: serviceID,\n        template_id: templateID,\n        template_params: templateParams,\n    };\n    return sendPost('/api/v1.0/email/send', JSON.stringify(params), {\n        'Content-type': 'application/json',\n    });\n};\n","export const validateForm = (form) => {\n    if (!form || form.nodeName !== 'FORM') {\n        throw 'The 3rd parameter is expected to be the HTML form element or the style selector of the form';\n    }\n};\n","import { store } from '../../store/store';\nimport { sendPost } from '../../api/sendPost';\nimport { buildOptions } from '../../utils/buildOptions/buildOptions';\nimport { validateForm } from '../../utils/validateForm/validateForm';\nimport { validateParams } from '../../utils/validateParams/validateParams';\nimport { isHeadless } from '../../utils/isHeadless/isHeadless';\nimport { headlessError } from '../../errors/headlessError/headlessError';\nimport { isBlockedValueInParams } from '../../utils/isBlockedValueInParams/isBlockedValueInParams';\nimport { blockedEmailError } from '../../errors/blockedEmailError/blockedEmailError';\nimport { isLimitRateHit } from '../../utils/isLimitRateHit/isLimitRateHit';\nimport { limitRateError } from '../../errors/limitRateError/limitRateError';\nconst findHTMLForm = (form) => {\n    return typeof form === 'string' ? document.querySelector(form) : form;\n};\n/**\n * Send a form the specific EmailJS service\n * @param {string} serviceID - the EmailJS service ID\n * @param {string} templateID - the EmailJS template ID\n * @param {string | HTMLFormElement} form - the form element or selector\n * @param {object} options - the EmailJS SDK config options\n * @returns {Promise<EmailJSResponseStatus>}\n */\nexport const sendForm = async (serviceID, templateID, form, options) => {\n    const opts = buildOptions(options);\n    const publicKey = opts.publicKey || store.publicKey;\n    const blockHeadless = opts.blockHeadless || store.blockHeadless;\n    const storageProvider = store.storageProvider || opts.storageProvider;\n    const blockList = { ...store.blockList, ...opts.blockList };\n    const limitRate = { ...store.limitRate, ...opts.limitRate };\n    if (blockHeadless && isHeadless(navigator)) {\n        return Promise.reject(headlessError());\n    }\n    const currentForm = findHTMLForm(form);\n    validateParams(publicKey, serviceID, templateID);\n    validateForm(currentForm);\n    const formData = new FormData(currentForm);\n    if (isBlockedValueInParams(blockList, formData)) {\n        return Promise.reject(blockedEmailError());\n    }\n    if (await isLimitRateHit(location.pathname, limitRate, storageProvider)) {\n        return Promise.reject(limitRateError());\n    }\n    formData.append('lib_version', '4.4.1');\n    formData.append('service_id', serviceID);\n    formData.append('template_id', templateID);\n    formData.append('user_id', publicKey);\n    return sendPost('/api/v1.0/email/send-form', formData);\n};\n","import { EmailJSResponseStatus } from './models/EmailJSResponseStatus';\nimport { init } from './methods/init/init';\nimport { send } from './methods/send/send';\nimport { sendForm } from './methods/sendForm/sendForm';\nexport { init, send, sendForm, EmailJSResponseStatus };\nexport default {\n    init,\n    send,\n    sendForm,\n    EmailJSResponseStatus,\n};\n","import emailjs from '@emailjs/browser'\r\nimport { logger } from '../utils/logger'\r\n\r\n// EmailJS configuration\r\nconst EMAILJS_SERVICE_ID = import.meta.env.VITE_EMAILJS_SERVICE_ID\r\nconst EMAILJS_TEMPLATE_ID = import.meta.env.VITE_EMAILJS_TEMPLATE_ID\r\nconst EMAILJS_PUBLIC_KEY = import.meta.env.VITE_EMAILJS_PUBLIC_KEY\r\n\r\ninterface OrderEmailData {\r\n  customerName: string\r\n  customerEmail: string\r\n  productName: string\r\n  productPrice: number\r\n  downloadLink: string\r\n  orderNumber: string\r\n  purchaseDate: string\r\n}\r\n\r\ninterface ContactEmailData {\r\n  name: string\r\n  email: string\r\n  subject: string\r\n  message: string\r\n}\r\n\r\nclass EmailService {\r\n  private initialized = false\r\n\r\n  constructor() {\r\n    this.init()\r\n  }\r\n\r\n  private init() {\r\n    if (this.initialized || !EMAILJS_PUBLIC_KEY) {\r\n      return\r\n    }\r\n\r\n    try {\r\n      emailjs.init(EMAILJS_PUBLIC_KEY)\r\n      this.initialized = true\r\n    } catch (error) {\r\n      console.error('EmailJS initialization failed:', error)\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Send order confirmation email with download link\r\n   */\r\n  async sendOrderConfirmation(orderData: OrderEmailData): Promise<boolean> {\r\n    if (!this.initialized) {\r\n      console.error('EmailJS not initialized')\r\n      return false\r\n    }\r\n\r\n    if (!EMAILJS_SERVICE_ID || !EMAILJS_TEMPLATE_ID) {\r\n      console.error('EmailJS configuration missing')\r\n      return false\r\n    }\r\n\r\n    try {\r\n      const templateParams = {\r\n        customer_name: orderData.customerName,\r\n        customer_email: orderData.customerEmail,\r\n        product_name: orderData.productName,\r\n        product_price: `$${orderData.productPrice.toFixed(2)}`,\r\n        download_link: orderData.downloadLink,\r\n        order_number: orderData.orderNumber,\r\n        purchase_date: orderData.purchaseDate,\r\n        company_name: 'Studio Nullbyte',\r\n        support_email: 'studionullbyte@gmail.com',\r\n        website_url: 'https://studio-nullbyte.github.io/studio-nullbyte.github.io/',\r\n      }\r\n\r\n      const response = await emailjs.send(\r\n        EMAILJS_SERVICE_ID,\r\n        EMAILJS_TEMPLATE_ID,\r\n        templateParams\r\n      )\r\n\r\n      logger.info('Order confirmation email sent:', response)\r\n      return response.status === 200\r\n    } catch (error) {\r\n      logger.error('Failed to send order confirmation email:', error)\r\n      return false\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Send contact form email\r\n   */\r\n  async sendContactForm(contactData: ContactEmailData): Promise<boolean> {\r\n    if (!this.initialized) {\r\n      console.error('EmailJS not initialized')\r\n      return false\r\n    }\r\n\r\n    if (!EMAILJS_SERVICE_ID || !EMAILJS_TEMPLATE_ID) {\r\n      console.error('EmailJS configuration missing')\r\n      return false\r\n    }\r\n\r\n    try {\r\n      const templateParams = {\r\n        from_name: contactData.name,\r\n        from_email: contactData.email,\r\n        subject: contactData.subject,\r\n        message: contactData.message,\r\n        to_email: 'studionullbyte@gmail.com',\r\n        reply_to: contactData.email,\r\n      }\r\n\r\n      const response = await emailjs.send(\r\n        EMAILJS_SERVICE_ID,\r\n        EMAILJS_TEMPLATE_ID,\r\n        templateParams\r\n      )\r\n\r\n      logger.info('Contact form email sent:', response)\r\n      return response.status === 200\r\n    } catch (error) {\r\n      logger.error('Failed to send contact form email:', error)\r\n      return false\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Test email configuration\r\n   */\r\n  async testConfiguration(): Promise<boolean> {\r\n    const testData: OrderEmailData = {\r\n      customerName: 'Test Customer',\r\n      customerEmail: 'test@example.com',\r\n      productName: 'Test Product',\r\n      productPrice: 29.99,\r\n      downloadLink: 'https://example.com/download/test',\r\n      orderNumber: 'TEST-001',\r\n      purchaseDate: new Date().toLocaleDateString(),\r\n    }\r\n\r\n    return this.sendOrderConfirmation(testData)\r\n  }\r\n}\r\n\r\n// Export singleton instance\r\nexport const emailService = new EmailService()\r\nexport default emailService\r\n","import { useState } from 'react'\r\nimport { useAuthContext } from '../contexts/AuthContext'\r\nimport { useCart } from '../contexts/CartContext'\r\nimport { useToast } from '../contexts/ToastContext'\r\nimport { supabase } from '../lib/supabase'\r\nimport emailService from '../services/emailService'\r\n\r\ninterface OrderItem {\r\n  product_id: string\r\n  product_name: string\r\n  price: number\r\n  download_link?: string\r\n}\r\n\r\ninterface ProcessOrderData {\r\n  stripeSessionId: string\r\n  customerEmail?: string\r\n  customerName?: string\r\n}\r\n\r\nexport const useOrderProcessing = () => {\r\n  const [isProcessing, setIsProcessing] = useState(false)\r\n  const { user } = useAuthContext()\r\n  const { items, clearCart } = useCart()\r\n  const { showToast } = useToast()\r\n\r\n  const processOrder = async (orderData: ProcessOrderData) => {\r\n    setIsProcessing(true)\r\n    \r\n    try {\r\n      // 1. Create order record in database\r\n      const order = await createOrderRecord(orderData)\r\n      \r\n      // 2. Send confirmation emails for each product\r\n      await sendOrderEmails(order, orderData)\r\n      \r\n      // 3. Clear cart\r\n      clearCart()\r\n      \r\n      // 4. Show success message\r\n      showToast({\r\n        type: 'success',\r\n        title: 'Order Complete!',\r\n        message: 'Download links have been sent to your email.'\r\n      })\r\n\r\n      return order\r\n    } catch (error) {\r\n      console.error('Order processing failed:', error)\r\n      showToast({\r\n        type: 'error',\r\n        title: 'Order Processing Failed',\r\n        message: 'Please contact support if payment was charged.'\r\n      })\r\n      throw error\r\n    } finally {\r\n      setIsProcessing(false)\r\n    }\r\n  }\r\n\r\n  const createOrderRecord = async (orderData: ProcessOrderData) => {\r\n    const orderNumber = `SN-${Date.now()}`\r\n    const total = items.reduce((sum, item) => sum + (item.price * item.quantity), 0)\r\n    \r\n    // Create main order\r\n    const { data: order, error: orderError } = await supabase\r\n      .from('orders')\r\n      .insert([{\r\n        user_id: user?.id,\r\n        order_number: orderNumber,\r\n        total_amount: total,\r\n        status: 'completed',\r\n        payment_method: 'stripe',\r\n        payment_id: orderData.stripeSessionId,\r\n        customer_email: orderData.customerEmail || user?.email,\r\n        customer_name: orderData.customerName || user?.user_metadata?.full_name || 'Customer',\r\n        notes: `Stripe Session: ${orderData.stripeSessionId}`\r\n      }])\r\n      .select()\r\n      .single()\r\n\r\n    if (orderError) {\r\n      throw new Error(`Failed to create order: ${orderError.message}`)\r\n    }\r\n\r\n    // Create order items\r\n    const orderItems = items.map(item => ({\r\n      order_id: order.id,\r\n      product_id: item.id,\r\n      product_name: item.title,\r\n      price: item.price,\r\n      quantity: item.quantity\r\n    }))\r\n\r\n    const { error: itemsError } = await supabase\r\n      .from('order_items')\r\n      .insert(orderItems)\r\n\r\n    if (itemsError) {\r\n      throw new Error(`Failed to create order items: ${itemsError.message}`)\r\n    }\r\n\r\n    return { ...order, items: orderItems }\r\n  }\r\n\r\n  const sendOrderEmails = async (order: any, orderData: ProcessOrderData) => {\r\n    // Get product details with download links\r\n    const productIds = items.map(item => item.id)\r\n    const { data: products, error } = await supabase\r\n      .from('products')\r\n      .select('id, title, price, download_link, file_url')\r\n      .in('id', productIds)\r\n\r\n    if (error) {\r\n      console.error('Failed to fetch product details:', error)\r\n      // Continue without email - order is still valid\r\n      return\r\n    }\r\n\r\n    // Send email for each product\r\n    for (const item of items) {\r\n      const product = products?.find(p => p.id === item.id)\r\n      if (!product) continue\r\n\r\n      const downloadLink = product.download_link || product.file_url || \r\n        `https://studio-nullbyte.github.io/studio-nullbyte.github.io/download/${product.id}`\r\n\r\n      try {\r\n        await emailService.sendOrderConfirmation({\r\n          customerName: orderData.customerName || user?.user_metadata?.full_name || 'Customer',\r\n          customerEmail: orderData.customerEmail || user?.email || '',\r\n          productName: product.title,\r\n          productPrice: product.price,\r\n          downloadLink: downloadLink,\r\n          orderNumber: order.order_number,\r\n          purchaseDate: new Date().toLocaleDateString()\r\n        })\r\n      } catch (emailError) {\r\n        console.error(`Failed to send email for product ${product.title}:`, emailError)\r\n        // Log but don't fail the order\r\n      }\r\n    }\r\n  }\r\n\r\n  const resendOrderEmail = async (orderId: string) => {\r\n    setIsProcessing(true)\r\n    \r\n    try {\r\n      // Get order details\r\n      const { data: order, error: orderError } = await supabase\r\n        .from('orders')\r\n        .select(`\r\n          *,\r\n          order_items (\r\n            product_id,\r\n            product_name,\r\n            price,\r\n            quantity,\r\n            products (\r\n              title,\r\n              download_link,\r\n              file_url\r\n            )\r\n          )\r\n        `)\r\n        .eq('id', orderId)\r\n        .single()\r\n\r\n      if (orderError || !order) {\r\n        throw new Error('Order not found')\r\n      }\r\n\r\n      // Resend emails for each item\r\n      for (const item of order.order_items) {\r\n        const downloadLink = item.products.download_link || \r\n          item.products.file_url || \r\n          `https://studio-nullbyte.github.io/studio-nullbyte.github.io/download/${item.product_id}`\r\n\r\n        await emailService.sendOrderConfirmation({\r\n          customerName: order.customer_name,\r\n          customerEmail: order.customer_email,\r\n          productName: item.product_name,\r\n          productPrice: item.price,\r\n          downloadLink: downloadLink,\r\n          orderNumber: order.order_number,\r\n          purchaseDate: new Date(order.created_at).toLocaleDateString()\r\n        })\r\n      }\r\n\r\n      showToast({\r\n        type: 'success',\r\n        title: 'Email Resent',\r\n        message: 'Download links have been sent to your email again.'\r\n      })\r\n\r\n    } catch (error) {\r\n      console.error('Failed to resend email:', error)\r\n      showToast({\r\n        type: 'error',\r\n        title: 'Resend Failed',\r\n        message: 'Could not resend email. Please contact support.'\r\n      })\r\n    } finally {\r\n      setIsProcessing(false)\r\n    }\r\n  }\r\n\r\n  return {\r\n    processOrder,\r\n    resendOrderEmail,\r\n    isProcessing\r\n  }\r\n}\r\n","import React, { useEffect, useState } from 'react'\r\nimport { useSearchParams, Link } from 'react-router-dom'\r\nimport { Helmet } from 'react-helmet-async'\r\nimport { CheckCircle, Home, ArrowRight, Mail, RefreshCw } from 'lucide-react'\r\nimport { useOrderProcessing } from '../hooks/useOrderProcessing'\r\nimport { useToast } from '../contexts/ToastContext'\r\n\r\nconst Success: React.FC = () => {\r\n  const [searchParams] = useSearchParams()\r\n  const sessionId = searchParams.get('session_id')\r\n  const [loading, setLoading] = useState(true)\r\n  const [orderProcessed, setOrderProcessed] = useState(false)\r\n  const [emailSent, setEmailSent] = useState(false)\r\n  const { processOrder, isProcessing } = useOrderProcessing()\r\n  const { showToast } = useToast()\r\n\r\n  useEffect(() => {\r\n    const handleOrderProcessing = async () => {\r\n      if (!sessionId || orderProcessed) return\r\n\r\n      try {\r\n        // Process the order and send emails\r\n        await processOrder({\r\n          stripeSessionId: sessionId,\r\n          // Additional customer data could be extracted from Stripe session if needed\r\n        })\r\n        \r\n        setOrderProcessed(true)\r\n        setEmailSent(true)\r\n      } catch (error) {\r\n        console.error('Order processing failed:', error)\r\n        setOrderProcessed(true)\r\n        setEmailSent(false)\r\n      } finally {\r\n        setLoading(false)\r\n      }\r\n    }\r\n\r\n    // Start processing after a brief delay for better UX\r\n    const timer = setTimeout(() => {\r\n      if (sessionId) {\r\n        handleOrderProcessing()\r\n      } else {\r\n        setLoading(false)\r\n      }\r\n    }, 2000)\r\n\r\n    return () => clearTimeout(timer)\r\n  }, [sessionId, orderProcessed, processOrder])\r\n\r\n  const handleResendEmail = async () => {\r\n    if (!sessionId) return\r\n    \r\n    try {\r\n      // In a real implementation, you'd need the order ID\r\n      // For now, show a helpful message\r\n      showToast({\r\n        type: 'info',\r\n        title: 'Resend Email',\r\n        message: 'Please contact support to resend your download links.'\r\n      })\r\n    } catch (error) {\r\n      console.error('Failed to resend email:', error)\r\n    }\r\n  }\r\n\r\n  if (loading) {\r\n    return (\r\n      <>\r\n        <Helmet>\r\n          <title>Processing Payment | Studio Nullbyte</title>\r\n        </Helmet>\r\n        \r\n        <div className=\"min-h-screen bg-black text-white pt-20\">\r\n          <div className=\"container mx-auto px-4 py-20\">\r\n            <div className=\"max-w-2xl mx-auto text-center\">\r\n              <div className=\"animate-spin w-12 h-12 border-4 border-electric-violet border-t-transparent rounded-full mx-auto mb-8\"></div>\r\n              <h1 className=\"text-4xl font-mono font-bold mb-4\">\r\n                Processing Payment<span className=\"cursor-blink\">_</span>\r\n              </h1>\r\n              <p className=\"text-gray-400 font-mono\">\r\n                Confirming your transaction...\r\n              </p>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </>\r\n    )\r\n  }\r\n\r\n  return (\r\n    <>\r\n      <Helmet>\r\n        <title>Payment Successful | Studio Nullbyte</title>\r\n        <meta name=\"description\" content=\"Your payment was successful. Download your digital products now.\" />\r\n      </Helmet>\r\n      \r\n      <div className=\"min-h-screen bg-black text-white pt-20\">\r\n        <div className=\"container mx-auto px-4 py-20\">\r\n          <div className=\"max-w-2xl mx-auto text-center\">\r\n            \r\n            {/* Success Icon */}\r\n            <div className=\"mb-8\">\r\n              <CheckCircle className=\"w-20 h-20 text-terminal-green mx-auto mb-4\" />\r\n              <div className=\"w-24 h-1 bg-terminal-green mx-auto animate-pulse\"></div>\r\n            </div>\r\n\r\n            {/* Success Message */}\r\n            <h1 className=\"text-4xl md:text-5xl font-mono font-bold mb-6\">\r\n              Payment Successful<span className=\"cursor-blink\">_</span>\r\n            </h1>\r\n            \r\n            <p className=\"text-xl text-gray-300 font-mono mb-8\">\r\n              Your digital product is ready for download.\r\n            </p>\r\n\r\n            {/* Session ID Display */}\r\n            {sessionId && (\r\n              <div className=\"bg-code-gray border border-gray-600 rounded-sm p-4 mb-8\">\r\n                <p className=\"text-sm text-gray-400 font-mono mb-2\">Transaction ID:</p>\r\n                <p className=\"font-mono text-electric-violet break-all\">{sessionId}</p>\r\n              </div>\r\n            )}\r\n\r\n            {/* Email Status */}\r\n            <div className=\"bg-code-gray border border-gray-600 rounded-sm p-4 mb-8\">\r\n              <div className=\"flex items-center justify-between\">\r\n                <div className=\"flex items-center gap-3\">\r\n                  <Mail className=\"w-5 h-5 text-electric-violet\" />\r\n                  <div className=\"text-left\">\r\n                    <p className=\"text-sm font-mono text-white\">Download Links</p>\r\n                    <p className=\"text-xs text-gray-400 font-mono\">\r\n                      {emailSent ? 'Sent to your email address' : 'Processing...'}\r\n                    </p>\r\n                  </div>\r\n                </div>\r\n                {emailSent ? (\r\n                  <CheckCircle className=\"w-5 h-5 text-terminal-green\" />\r\n                ) : isProcessing ? (\r\n                  <div className=\"w-4 h-4 border-2 border-electric-violet border-t-transparent rounded-full animate-spin\"></div>\r\n                ) : (\r\n                  <button\r\n                    onClick={handleResendEmail}\r\n                    className=\"flex items-center gap-2 text-electric-violet hover:text-electric-violet-light font-mono text-sm transition-colors\"\r\n                  >\r\n                    <RefreshCw className=\"w-4 h-4\" />\r\n                    Resend\r\n                  </button>\r\n                )}\r\n              </div>\r\n            </div>\r\n\r\n            {/* Next Steps */}\r\n            <div className=\"bg-code-gray-light border border-gray-600 rounded-sm p-6 mb-8 text-left\">\r\n              <h2 className=\"text-xl font-mono font-bold mb-4 text-electric-violet\">\r\n                What's Next?\r\n              </h2>\r\n              <div className=\"space-y-3 font-mono text-sm\">\r\n                <div className=\"flex items-start gap-3\">\r\n                  <CheckCircle className=\"w-5 h-5 text-terminal-green mt-0.5 flex-shrink-0\" />\r\n                  <span className=\"text-gray-300\">\r\n                    Check your email for download links and receipt\r\n                  </span>\r\n                </div>\r\n                <div className=\"flex items-start gap-3\">\r\n                  <CheckCircle className=\"w-5 h-5 text-terminal-green mt-0.5 flex-shrink-0\" />\r\n                  <span className=\"text-gray-300\">\r\n                    Access your purchases in your account dashboard\r\n                  </span>\r\n                </div>\r\n                <div className=\"flex items-start gap-3\">\r\n                  <CheckCircle className=\"w-5 h-5 text-terminal-green mt-0.5 flex-shrink-0\" />\r\n                  <span className=\"text-gray-300\">\r\n                    Download files are available immediately\r\n                  </span>\r\n                </div>\r\n              </div>\r\n            </div>\r\n\r\n            {/* Action Buttons */}\r\n            <div className=\"flex flex-col sm:flex-row gap-4 justify-center\">\r\n              <Link\r\n                to=\"/products\"\r\n                className=\"btn-secondary font-mono flex items-center justify-center gap-2\"\r\n              >\r\n                <ArrowRight className=\"w-4 h-4\" />\r\n                Browse More Templates\r\n              </Link>\r\n              \r\n              <Link\r\n                to=\"/\"\r\n                className=\"btn-ghost font-mono flex items-center justify-center gap-2\"\r\n              >\r\n                <Home className=\"w-4 h-4\" />\r\n                Back to Home\r\n              </Link>\r\n            </div>\r\n\r\n            {/* Support Note */}\r\n            <div className=\"mt-12 text-sm text-gray-400 font-mono\">\r\n              <p>Need help? Contact us at{' '}\r\n                <a \r\n                  href=\"mailto:studionullbyte@gmail.com\" \r\n                  className=\"text-electric-violet hover:text-electric-violet-light\"\r\n                >\r\n                  studionullbyte@gmail.com\r\n                </a>\r\n              </p>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </>\r\n  )\r\n}\r\n\r\nexport default Success\r\n","import React from 'react'\r\nimport { Link } from 'react-router-dom'\r\nimport { Helmet } from 'react-helmet-async'\r\nimport { XCircle, ArrowLeft, Home, RefreshCw } from 'lucide-react'\r\n\r\nconst Cancel: React.FC = () => {\r\n  return (\r\n    <>\r\n      <Helmet>\r\n        <title>Payment Cancelled | Studio Nullbyte</title>\r\n        <meta name=\"description\" content=\"Your payment was cancelled. No charges were made to your account.\" />\r\n      </Helmet>\r\n      \r\n      <div className=\"min-h-screen bg-black text-white pt-20\">\r\n        <div className=\"container mx-auto px-4 py-20\">\r\n          <div className=\"max-w-2xl mx-auto text-center\">\r\n            \r\n            {/* Cancel Icon */}\r\n            <div className=\"mb-8\">\r\n              <XCircle className=\"w-20 h-20 text-red-400 mx-auto mb-4\" />\r\n              <div className=\"w-24 h-1 bg-red-400 mx-auto opacity-50\"></div>\r\n            </div>\r\n\r\n            {/* Cancel Message */}\r\n            <h1 className=\"text-4xl md:text-5xl font-mono font-bold mb-6\">\r\n              Payment Cancelled<span className=\"cursor-blink\">_</span>\r\n            </h1>\r\n            \r\n            <p className=\"text-xl text-gray-300 font-mono mb-8\">\r\n              No charges were made to your account.\r\n            </p>\r\n\r\n            {/* Information Box */}\r\n            <div className=\"bg-code-gray-light border border-gray-600 rounded-sm p-6 mb-8 text-left\">\r\n              <h2 className=\"text-xl font-mono font-bold mb-4 text-red-400\">\r\n                What Happened?\r\n              </h2>\r\n              <div className=\"space-y-3 font-mono text-sm text-gray-300\">\r\n                <p>â€¢ You cancelled the payment process</p>\r\n                <p>â€¢ No payment was processed</p>\r\n                <p>â€¢ Your product is still available for purchase</p>\r\n                <p>â€¢ You can try again anytime</p>\r\n              </div>\r\n            </div>\r\n\r\n            {/* Common Issues */}\r\n            <div className=\"bg-code-gray border border-gray-600 rounded-sm p-6 mb-8 text-left\">\r\n              <h3 className=\"text-lg font-mono font-bold mb-4 text-electric-violet\">\r\n                Need Help?\r\n              </h3>\r\n              <div className=\"space-y-2 font-mono text-sm text-gray-400\">\r\n                <p>â€¢ Payment issues? Try a different card or payment method</p>\r\n                <p>â€¢ Questions about products? Check our FAQ or contact support</p>\r\n                <p>â€¢ Technical problems? Clear your browser cache and try again</p>\r\n              </div>\r\n            </div>\r\n\r\n            {/* Action Buttons */}\r\n            <div className=\"flex flex-col sm:flex-row gap-4 justify-center\">\r\n              <button\r\n                onClick={() => window.history.back()}\r\n                className=\"btn-primary font-mono flex items-center justify-center gap-2\"\r\n              >\r\n                <RefreshCw className=\"w-4 h-4\" />\r\n                Try Again\r\n              </button>\r\n              \r\n              <Link\r\n                to=\"/products\"\r\n                className=\"btn-secondary font-mono flex items-center justify-center gap-2\"\r\n              >\r\n                <ArrowLeft className=\"w-4 h-4\" />\r\n                Browse Products\r\n              </Link>\r\n              \r\n              <Link\r\n                to=\"/\"\r\n                className=\"btn-ghost font-mono flex items-center justify-center gap-2\"\r\n              >\r\n                <Home className=\"w-4 h-4\" />\r\n                Back to Home\r\n              </Link>\r\n            </div>\r\n\r\n            {/* Support Note */}\r\n            <div className=\"mt-12 text-sm text-gray-400 font-mono\">\r\n              <p>Still having trouble? Contact us at{' '}\r\n                <a \r\n                  href=\"mailto:studionullbyte@gmail.com\" \r\n                  className=\"text-electric-violet hover:text-electric-violet-light\"\r\n                >\r\n                  studionullbyte@gmail.com\r\n                </a>\r\n              </p>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </>\r\n  )\r\n}\r\n\r\nexport default Cancel\r\n","import React from 'react'\r\nimport { motion } from 'framer-motion'\r\nimport { Code, Users, Zap, Target, Coffee } from 'lucide-react'\r\nimport SEO from '../components/SEO'\r\n\r\nconst About: React.FC = () => {\r\n  const values = [\r\n    {\r\n      icon: <Code className=\"w-8 h-8\" aria-hidden=\"true\" />,\r\n      title: \"Developer-First\",\r\n      description: \"Built by developers, for developers. We understand the tools you need.\"\r\n    },\r\n    {\r\n      icon: <Target className=\"w-8 h-8\" aria-hidden=\"true\" />,\r\n      title: \"Quality Focus\",\r\n      description: \"Every template is carefully crafted with attention to detail and best practices.\"\r\n    },\r\n    {\r\n      icon: <Zap className=\"w-8 h-8\" aria-hidden=\"true\" />,\r\n      title: \"Performance\",\r\n      description: \"Fast, efficient, and optimized for modern web standards.\"\r\n    },\r\n    {\r\n      icon: <Users className=\"w-8 h-8\" aria-hidden=\"true\" />,\r\n      title: \"Community\",\r\n      description: \"Building tools that bring the developer community together.\"\r\n    }\r\n  ]\r\n\r\n  const stats = [\r\n    { value: \"2023\", label: \"Founded\" },\r\n    { value: \"500+\", label: \"Templates\" },\r\n    { value: \"10k+\", label: \"Happy Users\" },\r\n    { value: \"99%\", label: \"Satisfaction\" }\r\n  ]\r\n\r\n  const team = [\r\n    {\r\n      name: \"Alex Chen\",\r\n      role: \"Founder & Lead Developer\",\r\n      bio: \"Full-stack developer with 8 years of experience in React, Node.js, and design systems.\",\r\n      image: \"/api/placeholder/200/200\"\r\n    },\r\n    {\r\n      name: \"Sarah Kim\",\r\n      role: \"UI/UX Designer\",\r\n      bio: \"Design systems specialist focused on creating intuitive and accessible user experiences.\",\r\n      image: \"/api/placeholder/200/200\"\r\n    },\r\n    {\r\n      name: \"Marcus Rodriguez\",\r\n      role: \"Frontend Engineer\",\r\n      bio: \"React and TypeScript expert with a passion for clean code and performance optimization.\",\r\n      image: \"/api/placeholder/200/200\"\r\n    }\r\n  ]\r\n\r\n  const structuredData = JSON.stringify({\r\n    \"@context\": \"https://schema.org\",\r\n    \"@type\": \"AboutPage\",\r\n    \"name\": \"About Studio Nullbyte\",\r\n    \"description\": \"Learn about Studio Nullbyte's mission to create modular tools for design-minded developers.\",\r\n    \"url\": \"https://studio-nullbyte.github.io/about\",\r\n    \"publisher\": {\r\n      \"@type\": \"Organization\",\r\n      \"name\": \"Studio Nullbyte\"\r\n    }\r\n  }, null, 2)\r\n\r\n  return (\r\n    <>\r\n      <SEO\r\n        title=\"About - Studio Nullbyte\"\r\n        description=\"Learn about Studio Nullbyte's mission to create modular tools for design-minded developers. Founded in 2023, we build quality templates and tools.\"\r\n        keywords=\"about studio nullbyte, company, mission, team, developer tools, template creators\"\r\n        url=\"/about\"\r\n        type=\"website\"\r\n        structuredData={structuredData}\r\n      />\r\n\r\n      {/* Skip Link */}\r\n      <a href=\"#main-content\" className=\"skip-link\">\r\n        Skip to main content\r\n      </a>\r\n\r\n      <div className=\"min-h-screen pt-16 sm:pt-20\">\r\n        {/* Hero Section */}\r\n        <section \r\n          id=\"main-content\"\r\n          className=\"py-12 sm:py-16 lg:py-20 bg-code-gray\"\r\n          aria-labelledby=\"about-heading\"\r\n        >\r\n          <div className=\"container mx-auto px-4 sm:px-6 lg:px-8\">\r\n            <div className=\"max-w-4xl mx-auto text-center\">\r\n              <motion.h1\r\n                id=\"about-heading\"\r\n                initial={{ opacity: 0, y: 20 }}\r\n                animate={{ opacity: 1, y: 0 }}\r\n                className=\"text-3xl sm:text-4xl lg:text-5xl font-mono font-bold mb-4 sm:mb-6\"\r\n              >\r\n                About <span className=\"text-electric-violet\">Studio Nullbyte</span>\r\n              </motion.h1>\r\n              <motion.p\r\n                initial={{ opacity: 0, y: 20 }}\r\n                animate={{ opacity: 1, y: 0 }}\r\n                transition={{ delay: 0.2 }}\r\n                className=\"text-xl text-gray-400 mb-8\"\r\n              >\r\n                We're a team of developers and designers creating modular tools for the modern web.\r\n              </motion.p>\r\n            </div>\r\n          </div>\r\n        </section>\r\n\r\n        {/* Mission Section */}\r\n        <section className=\"py-20\">\r\n          <div className=\"container mx-auto px-4\">\r\n            <div className=\"max-w-4xl mx-auto\">\r\n              <div className=\"grid grid-cols-1 lg:grid-cols-2 gap-12 items-center\">\r\n                <div>\r\n                  <h2 className=\"text-3xl font-mono font-bold mb-6\">\r\n                    Our Mission\r\n                  </h2>\r\n                  <p className=\"text-gray-400 text-lg mb-6\">\r\n                    We believe that great tools should empower creators, not constrain them. \r\n                    Our mission is to provide modular, high-quality templates and tools that \r\n                    help developers and designers ship faster without compromising on quality.\r\n                  </p>\r\n                  <p className=\"text-gray-400 text-lg\">\r\n                    Every template in our collection is built with modern best practices, \r\n                    accessibility in mind, and the flexibility to adapt to your unique needs.\r\n                  </p>\r\n                </div>\r\n                <div className=\"relative\">\r\n                  <div className=\"aspect-square bg-code-gray rounded-sm p-8 flex items-center justify-center\">\r\n                    <div className=\"text-center\">\r\n                      <Coffee className=\"w-16 h-16 text-electric-violet mx-auto mb-4\" />\r\n                      <p className=\"font-mono text-sm text-gray-400\">\r\n                        Crafted with â˜• and code\r\n                      </p>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </section>\r\n\r\n        {/* Values Section */}\r\n        <section className=\"py-20 bg-code-gray\">\r\n          <div className=\"container mx-auto px-4\">\r\n            <div className=\"text-center mb-16\">\r\n              <h2 className=\"text-3xl font-mono font-bold mb-4\">\r\n                Our Values\r\n              </h2>\r\n              <p className=\"text-gray-400 text-lg max-w-2xl mx-auto\">\r\n                These principles guide everything we create and how we work with our community.\r\n              </p>\r\n            </div>\r\n\r\n            <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8\">\r\n              {values.map((value, index) => (\r\n                <motion.div\r\n                  key={index}\r\n                  initial={{ opacity: 0, y: 20 }}\r\n                  whileInView={{ opacity: 1, y: 0 }}\r\n                  transition={{ duration: 0.5, delay: index * 0.1 }}\r\n                  className=\"card text-center\"\r\n                >\r\n                  <div className=\"text-electric-violet mb-4 flex justify-center\">\r\n                    {value.icon}\r\n                  </div>\r\n                  <h3 className=\"text-xl font-mono font-bold mb-2\">\r\n                    {value.title}\r\n                  </h3>\r\n                  <p className=\"text-gray-400 text-sm\">\r\n                    {value.description}\r\n                  </p>\r\n                </motion.div>\r\n              ))}\r\n            </div>\r\n          </div>\r\n        </section>\r\n\r\n        {/* Stats Section */}\r\n        <section className=\"py-20\">\r\n          <div className=\"container mx-auto px-4\">\r\n            <div className=\"grid grid-cols-2 md:grid-cols-4 gap-8\">\r\n              {stats.map((stat, index) => (\r\n                <motion.div\r\n                  key={index}\r\n                  initial={{ opacity: 0, y: 20 }}\r\n                  whileInView={{ opacity: 1, y: 0 }}\r\n                  transition={{ duration: 0.5, delay: index * 0.1 }}\r\n                  className=\"text-center\"\r\n                >\r\n                  <div className=\"text-4xl md:text-5xl font-mono font-bold text-electric-violet mb-2\">\r\n                    {stat.value}\r\n                  </div>\r\n                  <div className=\"text-gray-400 font-mono text-sm\">\r\n                    {stat.label}\r\n                  </div>\r\n                </motion.div>\r\n              ))}\r\n            </div>\r\n          </div>\r\n        </section>\r\n\r\n        {/* Team Section */}\r\n        <section className=\"py-20 bg-code-gray\">\r\n          <div className=\"container mx-auto px-4\">\r\n            <div className=\"text-center mb-16\">\r\n              <h2 className=\"text-3xl font-mono font-bold mb-4\">\r\n                Meet the Team\r\n              </h2>\r\n              <p className=\"text-gray-400 text-lg max-w-2xl mx-auto\">\r\n                The people behind Studio Nullbyte, working to create amazing tools for developers.\r\n              </p>\r\n            </div>\r\n\r\n            <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8\">\r\n              {team.map((member, index) => (\r\n                <motion.div\r\n                  key={index}\r\n                  initial={{ opacity: 0, y: 20 }}\r\n                  whileInView={{ opacity: 1, y: 0 }}\r\n                  transition={{ duration: 0.5, delay: index * 0.1 }}\r\n                  className=\"card text-center\"\r\n                >\r\n                  <div className=\"w-24 h-24 bg-code-gray-dark rounded-full mx-auto mb-4 overflow-hidden\">\r\n                    <img\r\n                      src={member.image}\r\n                      alt={member.name}\r\n                      className=\"w-full h-full object-cover\"\r\n                    />\r\n                  </div>\r\n                  <h3 className=\"text-xl font-mono font-bold mb-1\">\r\n                    {member.name}\r\n                  </h3>\r\n                  <p className=\"text-electric-violet text-sm font-mono mb-3\">\r\n                    {member.role}\r\n                  </p>\r\n                  <p className=\"text-gray-400 text-sm\">\r\n                    {member.bio}\r\n                  </p>\r\n                </motion.div>\r\n              ))}\r\n            </div>\r\n          </div>\r\n        </section>\r\n\r\n        {/* CTA Section */}\r\n        <section className=\"py-20\">\r\n          <div className=\"container mx-auto px-4\">\r\n            <div className=\"max-w-4xl mx-auto text-center\">\r\n              <h2 className=\"text-3xl font-mono font-bold mb-4\">\r\n                Ready to Build Something <span className=\"text-electric-violet\">Amazing</span>?\r\n              </h2>\r\n              <p className=\"text-gray-400 text-lg mb-8\">\r\n                Join our community of developers and start creating with our tools today.\r\n              </p>\r\n              <div className=\"flex flex-col sm:flex-row gap-4 justify-center\">\r\n                <a href=\"/products\" className=\"btn-primary\">\r\n                  Browse Products\r\n                </a>\r\n                <a href=\"/contact\" className=\"btn-secondary\">\r\n                  Get in Touch\r\n                </a>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </section>\r\n      </div>\r\n    </>\r\n  )\r\n}\r\n\r\nexport default About\r\n","import React, { useState } from 'react'\r\nimport { motion } from 'framer-motion'\r\nimport { Send, Mail, MessageCircle, Clock, CheckCircle, AlertCircle } from 'lucide-react'\r\nimport { submitContactForm } from '../lib/supabase'\r\nimport SEO from '../components/SEO'\r\n\r\nconst Contact: React.FC = () => {\r\n  const [formData, setFormData] = useState({\r\n    name: '',\r\n    email: '',\r\n    subject: '',\r\n    message: ''\r\n  })\r\n  const [submitting, setSubmitting] = useState(false)\r\n  const [submitStatus, setSubmitStatus] = useState<'idle' | 'success' | 'error'>('idle')\r\n  const [errorMessage, setErrorMessage] = useState('')\r\n\r\n  const handleSubmit = async (e: React.FormEvent) => {\r\n    e.preventDefault()\r\n    setSubmitting(true)\r\n    setSubmitStatus('idle')\r\n    \r\n    try {\r\n      const { error } = await submitContactForm(formData)\r\n      \r\n      if (error) {\r\n        setSubmitStatus('error')\r\n        setErrorMessage(error.message)\r\n      } else {\r\n        setSubmitStatus('success')\r\n        setFormData({ name: '', email: '', subject: '', message: '' })\r\n      }\r\n    } catch (err) {\r\n      setSubmitStatus('error')\r\n      setErrorMessage(err instanceof Error ? err.message : 'An unexpected error occurred')\r\n    } finally {\r\n      setSubmitting(false)\r\n    }\r\n  }\r\n\r\n  const handleChange = (e: React.ChangeEvent<HTMLInputElement | HTMLTextAreaElement>) => {\r\n    setFormData({\r\n      ...formData,\r\n      [e.target.name]: e.target.value\r\n    })\r\n  }\r\n\r\n  const contactInfo = [\r\n    {\r\n      icon: <Mail className=\"w-6 h-6\" />,\r\n      title: \"Email\",\r\n      content: \"studionullbyte@gmail.com\",\r\n      link: \"mailto:studionullbyte@gmail.com\"\r\n    },\r\n    {\r\n      icon: <MessageCircle className=\"w-6 h-6\" />,\r\n      title: \"Live Chat\",\r\n      content: \"Available 24/7\",\r\n      link: \"#\"\r\n    },\r\n    {\r\n      icon: <Clock className=\"w-6 h-6\" />,\r\n      title: \"Response Time\",\r\n      content: \"Usually within 24 hours\",\r\n      link: null\r\n    }\r\n  ]\r\n\r\n  const faqs = [\r\n    {\r\n      question: \"How do I download my purchased templates?\",\r\n      answer: \"After purchase, you'll receive an email with download links. You can also access your downloads from your account dashboard.\"\r\n    },\r\n    {\r\n      question: \"Do you offer refunds?\",\r\n      answer: \"Yes, we offer a 30-day money-back guarantee if you're not satisfied with your purchase.\"\r\n    },\r\n    {\r\n      question: \"Can I use these templates for commercial projects?\",\r\n      answer: \"Absolutely! All our templates come with commercial licenses unless otherwise specified.\"\r\n    },\r\n    {\r\n      question: \"Do you provide customization services?\",\r\n      answer: \"Yes, we offer custom development services. Contact us to discuss your specific requirements.\"\r\n    }\r\n  ]\r\n\r\n  const structuredData = JSON.stringify({\r\n    \"@context\": \"https://schema.org\",\r\n    \"@type\": \"ContactPage\",\r\n    \"name\": \"Contact Studio Nullbyte\",\r\n    \"description\": \"Get in touch with Studio Nullbyte. We're here to help with your questions and projects.\",\r\n    \"url\": \"https://studio-nullbyte.github.io/contact\",\r\n    \"publisher\": {\r\n      \"@type\": \"Organization\",\r\n      \"name\": \"Studio Nullbyte\"\r\n    }\r\n  }, null, 2)\r\n\r\n  return (\r\n    <>\r\n      <SEO\r\n        title=\"Contact - Studio Nullbyte\"\r\n        description=\"Get in touch with Studio Nullbyte. We're here to help with your questions, custom projects, and support requests.\"\r\n        keywords=\"contact studio nullbyte, support, custom projects, help, customer service\"\r\n        url=\"/contact\"\r\n        type=\"website\"\r\n        structuredData={structuredData}\r\n      />\r\n\r\n      <div className=\"min-h-screen pt-16 sm:pt-20\">\r\n        {/* Hero Section */}\r\n        <section className=\"py-12 sm:py-16 lg:py-20 bg-code-gray\">\r\n          <div className=\"container mx-auto px-4 sm:px-6 lg:px-8\">\r\n            <div className=\"max-w-4xl mx-auto text-center\">\r\n              <motion.h1\r\n                initial={{ opacity: 0, y: 20 }}\r\n                animate={{ opacity: 1, y: 0 }}\r\n                className=\"text-3xl sm:text-4xl lg:text-5xl font-mono font-bold mb-4 sm:mb-6\"\r\n              >\r\n                Get in <span className=\"text-electric-violet\">Touch</span>\r\n              </motion.h1>\r\n              <motion.p\r\n                initial={{ opacity: 0, y: 20 }}\r\n                animate={{ opacity: 1, y: 0 }}\r\n                transition={{ delay: 0.2 }}\r\n                className=\"text-base sm:text-lg lg:text-xl text-gray-400 mb-6 sm:mb-8 px-4\"\r\n              >\r\n                Have questions about our products or need custom development? We're here to help.\r\n              </motion.p>\r\n            </div>\r\n          </div>\r\n        </section>\r\n\r\n        {/* Contact Form & Info */}\r\n        <section className=\"py-12 sm:py-16 lg:py-20\">\r\n          <div className=\"container mx-auto px-4\">\r\n            <div className=\"grid grid-cols-1 lg:grid-cols-2 gap-12\">\r\n              {/* Contact Form */}\r\n              <motion.div\r\n                initial={{ opacity: 0, x: -20 }}\r\n                animate={{ opacity: 1, x: 0 }}\r\n                transition={{ delay: 0.3 }}\r\n              >\r\n                <h2 className=\"text-2xl font-mono font-bold mb-6\">\r\n                  Send us a Message\r\n                </h2>\r\n                <form onSubmit={handleSubmit} className=\"space-y-6\">\r\n                  <div>\r\n                    <label htmlFor=\"name\" className=\"block text-sm font-mono text-gray-300 mb-2\">\r\n                      Name\r\n                    </label>\r\n                    <input\r\n                      type=\"text\"\r\n                      id=\"name\"\r\n                      name=\"name\"\r\n                      value={formData.name}\r\n                      onChange={handleChange}\r\n                      required\r\n                      className=\"w-full px-4 py-3 bg-code-gray border border-gray-700 rounded-sm focus:border-electric-violet focus:outline-none font-mono\"\r\n                      placeholder=\"Your name\"\r\n                    />\r\n                  </div>\r\n                  <div>\r\n                    <label htmlFor=\"email\" className=\"block text-sm font-mono text-gray-300 mb-2\">\r\n                      Email\r\n                    </label>\r\n                    <input\r\n                      type=\"email\"\r\n                      id=\"email\"\r\n                      name=\"email\"\r\n                      value={formData.email}\r\n                      onChange={handleChange}\r\n                      required\r\n                      className=\"w-full px-4 py-3 bg-code-gray border border-gray-700 rounded-sm focus:border-electric-violet focus:outline-none font-mono\"\r\n                      placeholder=\"your@email.com\"\r\n                    />\r\n                  </div>\r\n                  <div>\r\n                    <label htmlFor=\"subject\" className=\"block text-sm font-mono text-gray-300 mb-2\">\r\n                      Subject\r\n                    </label>\r\n                    <input\r\n                      type=\"text\"\r\n                      id=\"subject\"\r\n                      name=\"subject\"\r\n                      value={formData.subject}\r\n                      onChange={handleChange}\r\n                      required\r\n                      className=\"w-full px-4 py-3 bg-code-gray border border-gray-700 rounded-sm focus:border-electric-violet focus:outline-none font-mono\"\r\n                      placeholder=\"What's this about?\"\r\n                    />\r\n                  </div>\r\n                  <div>\r\n                    <label htmlFor=\"message\" className=\"block text-sm font-mono text-gray-300 mb-2\">\r\n                      Message\r\n                    </label>\r\n                    <textarea\r\n                      id=\"message\"\r\n                      name=\"message\"\r\n                      value={formData.message}\r\n                      onChange={handleChange}\r\n                      required\r\n                      rows={6}\r\n                      className=\"w-full px-4 py-3 bg-code-gray border border-gray-700 rounded-sm focus:border-electric-violet focus:outline-none font-mono resize-none\"\r\n                      placeholder=\"Tell us more about your project or question...\"\r\n                    />\r\n                  </div>\r\n                  \r\n                  {/* Status Messages */}\r\n                  {submitStatus === 'success' && (\r\n                    <motion.div\r\n                      initial={{ opacity: 0, y: 10 }}\r\n                      animate={{ opacity: 1, y: 0 }}\r\n                      className=\"flex items-center space-x-2 text-terminal-green bg-terminal-green/10 border border-terminal-green/20 rounded-sm p-3\"\r\n                    >\r\n                      <CheckCircle className=\"w-5 h-5\" />\r\n                      <span className=\"text-sm font-mono\">Message sent successfully! We'll get back to you soon.</span>\r\n                    </motion.div>\r\n                  )}\r\n                  \r\n                  {submitStatus === 'error' && (\r\n                    <motion.div\r\n                      initial={{ opacity: 0, y: 10 }}\r\n                      animate={{ opacity: 1, y: 0 }}\r\n                      className=\"flex items-center space-x-2 text-red-400 bg-red-400/10 border border-red-400/20 rounded-sm p-3\"\r\n                    >\r\n                      <AlertCircle className=\"w-5 h-5\" />\r\n                      <span className=\"text-sm font-mono\">{errorMessage || 'Failed to send message. Please try again.'}</span>\r\n                    </motion.div>\r\n                  )}\r\n                  \r\n                  <button \r\n                    type=\"submit\" \r\n                    disabled={submitting}\r\n                    className={`btn-primary flex w-full ${submitting ? 'opacity-50 cursor-not-allowed' : ''}`}\r\n                  >\r\n                    <Send className={`w-5 h-5 mr-2 ${submitting ? 'animate-pulse' : ''}`} />\r\n                    {submitting ? 'Sending...' : 'Send Message'}\r\n                  </button>\r\n                </form>\r\n              </motion.div>\r\n\r\n              {/* Contact Info */}\r\n              <motion.div\r\n                initial={{ opacity: 0, x: 20 }}\r\n                animate={{ opacity: 1, x: 0 }}\r\n                transition={{ delay: 0.4 }}\r\n              >\r\n                <h2 className=\"text-2xl font-mono font-bold mb-6\">\r\n                  Other Ways to Reach Us\r\n                </h2>\r\n                <div className=\"space-y-6\">\r\n                  {contactInfo.map((info, index) => (\r\n                    <div key={index} className=\"card\">\r\n                      <div className=\"flex items-start gap-4\">\r\n                        <div className=\"text-electric-violet\">\r\n                          {info.icon}\r\n                        </div>\r\n                        <div>\r\n                          <h3 className=\"font-mono font-bold mb-1\">\r\n                            {info.title}\r\n                          </h3>\r\n                          {info.link ? (\r\n                            <a\r\n                              href={info.link}\r\n                              className=\"text-gray-400 hover:text-electric-violet transition-colors\"\r\n                            >\r\n                              {info.content}\r\n                            </a>\r\n                          ) : (\r\n                            <p className=\"text-gray-400\">{info.content}</p>\r\n                          )}\r\n                        </div>\r\n                      </div>\r\n                    </div>\r\n                  ))}\r\n                </div>\r\n\r\n                <div className=\"mt-8 p-6 bg-code-gray rounded-sm border border-gray-800\">\r\n                  <h3 className=\"font-mono font-bold mb-3\">\r\n                    Quick Response Promise\r\n                  </h3>\r\n                  <p className=\"text-gray-400 text-sm\">\r\n                    We typically respond to all inquiries within 24 hours during business days. \r\n                    For urgent matters, please include \"URGENT\" in your subject line.\r\n                  </p>\r\n                </div>\r\n              </motion.div>\r\n            </div>\r\n          </div>\r\n        </section>\r\n\r\n        {/* FAQ Section */}\r\n        <section className=\"py-20 bg-code-gray\">\r\n          <div className=\"container mx-auto px-4\">\r\n            <div className=\"max-w-4xl mx-auto\">\r\n              <h2 className=\"text-3xl font-mono font-bold text-center mb-12\">\r\n                Frequently Asked <span className=\"text-electric-violet\">Questions</span>\r\n              </h2>\r\n              <div className=\"space-y-6\">\r\n                {faqs.map((faq, index) => (\r\n                  <motion.div\r\n                    key={index}\r\n                    initial={{ opacity: 0, y: 20 }}\r\n                    whileInView={{ opacity: 1, y: 0 }}\r\n                    transition={{ duration: 0.5, delay: index * 0.1 }}\r\n                    className=\"card\"\r\n                  >\r\n                    <h3 className=\"font-mono font-bold text-lg mb-3\">\r\n                      {faq.question}\r\n                    </h3>\r\n                    <p className=\"text-gray-400\">\r\n                      {faq.answer}\r\n                    </p>\r\n                  </motion.div>\r\n                ))}\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </section>\r\n      </div>\r\n    </>\r\n  )\r\n}\r\n\r\nexport default Contact\r\n","import React, { useState } from 'react'\r\nimport { motion } from 'framer-motion'\r\nimport { Eye, EyeOff, Mail, Lock, User, AlertCircle, CheckCircle } from 'lucide-react'\r\n\r\ninterface AuthFormProps {\r\n  mode: 'login' | 'register' | 'reset'\r\n  onSubmit: (data: any) => Promise<{ error?: any }>\r\n  loading?: boolean\r\n  onModeChange: (mode: 'login' | 'register' | 'reset') => void\r\n}\r\n\r\nexport function AuthForm({ mode, onSubmit, loading = false, onModeChange }: AuthFormProps) {\r\n  const [formData, setFormData] = useState({\r\n    email: '',\r\n    password: '',\r\n    confirmPassword: '',\r\n    fullName: '',\r\n  })\r\n  const [showPassword, setShowPassword] = useState(false)\r\n  const [showConfirmPassword, setShowConfirmPassword] = useState(false)\r\n  const [errors, setErrors] = useState<{ [key: string]: string }>({})\r\n  const [message, setMessage] = useState('')\r\n\r\n  const validateForm = () => {\r\n    const newErrors: { [key: string]: string } = {}\r\n\r\n    // Email validation\r\n    const emailRegex = /^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/\r\n    if (!formData.email) {\r\n      newErrors.email = 'Email is required'\r\n    } else if (!emailRegex.test(formData.email)) {\r\n      newErrors.email = 'Please enter a valid email address'\r\n    }\r\n\r\n    // Password validation (not for reset mode)\r\n    if (mode !== 'reset') {\r\n      if (!formData.password) {\r\n        newErrors.password = 'Password is required'\r\n      } else if (formData.password.length < 6) {\r\n        newErrors.password = 'Password must be at least 6 characters'\r\n      }\r\n\r\n      // Confirm password validation (register mode)\r\n      if (mode === 'register') {\r\n        if (!formData.confirmPassword) {\r\n          newErrors.confirmPassword = 'Please confirm your password'\r\n        } else if (formData.password !== formData.confirmPassword) {\r\n          newErrors.confirmPassword = 'Passwords do not match'\r\n        }\r\n\r\n        if (!formData.fullName.trim()) {\r\n          newErrors.fullName = 'Full name is required'\r\n        }\r\n      }\r\n    }\r\n\r\n    setErrors(newErrors)\r\n    return Object.keys(newErrors).length === 0\r\n  }\r\n\r\n  const handleSubmit = async (e: React.FormEvent) => {\r\n    e.preventDefault()\r\n    setMessage('')\r\n    setErrors({})\r\n\r\n    if (!validateForm()) return\r\n\r\n    try {\r\n      console.log('AuthForm: Submitting form for mode:', mode)\r\n      const result = await onSubmit(formData)\r\n      console.log('AuthForm: Form submission result:', result)\r\n      \r\n      if (result.error) {\r\n        console.error('AuthForm: Form submission error:', result.error)\r\n        let errorMessage = result.error.message || 'An error occurred'\r\n        \r\n        // Provide more user-friendly error messages\r\n        if (errorMessage.includes('Invalid login credentials')) {\r\n          errorMessage = 'Invalid email or password. Please check your credentials and try again.'\r\n        } else if (errorMessage.includes('Email not confirmed')) {\r\n          errorMessage = 'Please check your email and click the confirmation link before signing in.'\r\n        } else if (errorMessage.includes('Missing Supabase environment variables')) {\r\n          errorMessage = 'Configuration error. Please contact support.'\r\n        }\r\n        \r\n        setErrors({ submit: errorMessage })\r\n      } else {\r\n        console.log('AuthForm: Form submission successful')\r\n        if (mode === 'reset') {\r\n          setMessage('Password reset email sent! Check your inbox.')\r\n        } else if (mode === 'register') {\r\n          setMessage('Registration successful! Please check your email to verify your account.')\r\n        }\r\n      }\r\n    } catch (error: any) {\r\n      console.error('AuthForm: Form submission exception:', error)\r\n      let errorMessage = error.message || 'An unexpected error occurred'\r\n      \r\n      if (errorMessage.includes('Missing Supabase environment variables')) {\r\n        errorMessage = 'Configuration error. Please contact support.'\r\n      }\r\n      \r\n      setErrors({ submit: errorMessage })\r\n    }\r\n  }\r\n\r\n  const handleInputChange = (field: string, value: string | boolean) => {\r\n    setFormData(prev => ({ ...prev, [field]: value }))\r\n    // Clear error when user starts typing\r\n    if (errors[field]) {\r\n      setErrors(prev => ({ ...prev, [field]: '' }))\r\n    }\r\n  }\r\n\r\n  const getTitle = () => {\r\n    switch (mode) {\r\n      case 'login': return 'Sign In'\r\n      case 'register': return 'Create Account'\r\n      case 'reset': return 'Reset Password'\r\n    }\r\n  }\r\n\r\n  const getButtonText = () => {\r\n    if (loading) return 'Processing...'\r\n    switch (mode) {\r\n      case 'login': return 'Sign In'\r\n      case 'register': return 'Create Account'\r\n      case 'reset': return 'Send Reset Email'\r\n    }\r\n  }\r\n\r\n  return (\r\n    <motion.div\r\n      initial={{ opacity: 0, y: 20 }}\r\n      animate={{ opacity: 1, y: 0 }}\r\n      className=\"w-full max-w-md mx-auto\"\r\n    >\r\n      <div className=\"bg-code-gray-light border border-gray-700 rounded-lg p-8\">\r\n        <div className=\"text-center mb-8\">\r\n          <h2 className=\"text-3xl font-mono text-white mb-2\">{getTitle()}</h2>\r\n          <div className=\"w-12 h-px bg-electric-violet mx-auto\"></div>\r\n        </div>\r\n\r\n        {message && (\r\n          <motion.div\r\n            initial={{ opacity: 0, y: -10 }}\r\n            animate={{ opacity: 1, y: 0 }}\r\n            className=\"flex items-center gap-2 bg-terminal-green/10 border border-terminal-green/30 rounded p-3 mb-6\"\r\n          >\r\n            <CheckCircle className=\"w-4 h-4 text-terminal-green\" />\r\n            <span className=\"text-sm font-mono text-terminal-green\">{message}</span>\r\n          </motion.div>\r\n        )}\r\n\r\n        {errors.submit && (\r\n          <motion.div\r\n            initial={{ opacity: 0, y: -10 }}\r\n            animate={{ opacity: 1, y: 0 }}\r\n            className=\"flex items-center gap-2 bg-red-500/10 border border-red-500/30 rounded p-3 mb-6\"\r\n          >\r\n            <AlertCircle className=\"w-4 h-4 text-red-400\" />\r\n            <span className=\"text-sm font-mono text-red-400\">{errors.submit}</span>\r\n          </motion.div>\r\n        )}\r\n\r\n        <form onSubmit={handleSubmit} className=\"space-y-6\">\r\n          {/* Full Name - Register only */}\r\n          {mode === 'register' && (\r\n            <div>\r\n              <label className=\"block text-sm font-mono text-gray-300 mb-2\">\r\n                Full Name\r\n              </label>\r\n              <div className=\"relative\">\r\n                <User className=\"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-400\" />\r\n                <input\r\n                  type=\"text\"\r\n                  value={formData.fullName}\r\n                  onChange={(e) => handleInputChange('fullName', e.target.value)}\r\n                  className={`w-full bg-code-gray border pl-10 pr-4 py-3 rounded font-mono text-white placeholder-gray-500 focus:outline-none focus:border-electric-violet transition-colors ${\r\n                    errors.fullName ? 'border-red-500' : 'border-gray-600'\r\n                  }`}\r\n                  placeholder=\"Enter your full name\"\r\n                  disabled={loading}\r\n                />\r\n              </div>\r\n              {errors.fullName && (\r\n                <p className=\"text-red-400 text-xs font-mono mt-1\">{errors.fullName}</p>\r\n              )}\r\n            </div>\r\n          )}\r\n\r\n          {/* Email */}\r\n          <div>\r\n            <label className=\"block text-sm font-mono text-gray-300 mb-2\">\r\n              Email Address\r\n            </label>\r\n            <div className=\"relative\">\r\n              <Mail className=\"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-400\" />\r\n              <input\r\n                type=\"email\"\r\n                value={formData.email}\r\n                onChange={(e) => handleInputChange('email', e.target.value)}\r\n                className={`w-full bg-code-gray border pl-10 pr-4 py-3 rounded font-mono text-white placeholder-gray-500 focus:outline-none focus:border-electric-violet transition-colors ${\r\n                  errors.email ? 'border-red-500' : 'border-gray-600'\r\n                }`}\r\n                placeholder=\"Enter your email\"\r\n                disabled={loading}\r\n              />\r\n            </div>\r\n            {errors.email && (\r\n              <p className=\"text-red-400 text-xs font-mono mt-1\">{errors.email}</p>\r\n            )}\r\n          </div>\r\n\r\n          {/* Password - Not shown in reset mode */}\r\n          {mode !== 'reset' && (\r\n            <div>\r\n              <label className=\"block text-sm font-mono text-gray-300 mb-2\">\r\n                Password\r\n              </label>\r\n              <div className=\"relative\">\r\n                <Lock className=\"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-400\" />\r\n                <input\r\n                  type={showPassword ? 'text' : 'password'}\r\n                  value={formData.password}\r\n                  onChange={(e) => handleInputChange('password', e.target.value)}\r\n                  className={`w-full bg-code-gray border pl-10 pr-12 py-3 rounded font-mono text-white placeholder-gray-500 focus:outline-none focus:border-electric-violet transition-colors ${\r\n                    errors.password ? 'border-red-500' : 'border-gray-600'\r\n                  }`}\r\n                  placeholder=\"Enter your password\"\r\n                  disabled={loading}\r\n                />\r\n                <button\r\n                  type=\"button\"\r\n                  onClick={() => setShowPassword(!showPassword)}\r\n                  className=\"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-electric-violet transition-colors\"\r\n                  disabled={loading}\r\n                >\r\n                  {showPassword ? <EyeOff className=\"w-4 h-4\" /> : <Eye className=\"w-4 h-4\" />}\r\n                </button>\r\n              </div>\r\n              {errors.password && (\r\n                <p className=\"text-red-400 text-xs font-mono mt-1\">{errors.password}</p>\r\n              )}\r\n            </div>\r\n          )}\r\n\r\n          {/* Confirm Password - Register only */}\r\n          {mode === 'register' && (\r\n            <div>\r\n              <label className=\"block text-sm font-mono text-gray-300 mb-2\">\r\n                Confirm Password\r\n              </label>\r\n              <div className=\"relative\">\r\n                <Lock className=\"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-400\" />\r\n                <input\r\n                  type={showConfirmPassword ? 'text' : 'password'}\r\n                  value={formData.confirmPassword}\r\n                  onChange={(e) => handleInputChange('confirmPassword', e.target.value)}\r\n                  className={`w-full bg-code-gray border pl-10 pr-12 py-3 rounded font-mono text-white placeholder-gray-500 focus:outline-none focus:border-electric-violet transition-colors ${\r\n                    errors.confirmPassword ? 'border-red-500' : 'border-gray-600'\r\n                  }`}\r\n                  placeholder=\"Confirm your password\"\r\n                  disabled={loading}\r\n                />\r\n                <button\r\n                  type=\"button\"\r\n                  onClick={() => setShowConfirmPassword(!showConfirmPassword)}\r\n                  className=\"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-electric-violet transition-colors\"\r\n                  disabled={loading}\r\n                >\r\n                  {showConfirmPassword ? <EyeOff className=\"w-4 h-4\" /> : <Eye className=\"w-4 h-4\" />}\r\n                </button>\r\n              </div>\r\n              {errors.confirmPassword && (\r\n                <p className=\"text-red-400 text-xs font-mono mt-1\">{errors.confirmPassword}</p>\r\n              )}\r\n            </div>\r\n          )}\r\n\r\n          {/* Submit Button */}\r\n          <button\r\n            type=\"submit\"\r\n            disabled={loading}\r\n            className=\"w-full bg-electric-violet hover:bg-electric-violet-light disabled:opacity-50 disabled:cursor-not-allowed text-white font-mono py-3 px-4 rounded transition-colors\"\r\n          >\r\n            {getButtonText()}\r\n          </button>\r\n        </form>\r\n\r\n        {/* Mode Switching Links */}\r\n        <div className=\"mt-6 text-center space-y-2\">\r\n          {mode === 'login' && (\r\n            <>\r\n              <p className=\"text-gray-400 font-mono text-sm\">\r\n                Don't have an account?{' '}\r\n                <button\r\n                  onClick={() => onModeChange('register')}\r\n                  className=\"text-electric-violet hover:text-electric-violet-light transition-colors\"\r\n                  disabled={loading}\r\n                >\r\n                  Sign up\r\n                </button>\r\n              </p>\r\n              <p className=\"text-gray-400 font-mono text-sm\">\r\n                <button\r\n                  onClick={() => onModeChange('reset')}\r\n                  className=\"text-electric-violet hover:text-electric-violet-light transition-colors\"\r\n                  disabled={loading}\r\n                >\r\n                  Forgot your password?\r\n                </button>\r\n              </p>\r\n            </>\r\n          )}\r\n\r\n          {mode === 'register' && (\r\n            <p className=\"text-gray-400 font-mono text-sm\">\r\n              Already have an account?{' '}\r\n              <button\r\n                onClick={() => onModeChange('login')}\r\n                className=\"text-electric-violet hover:text-electric-violet-light transition-colors\"\r\n                disabled={loading}\r\n              >\r\n                Sign in\r\n              </button>\r\n            </p>\r\n          )}\r\n\r\n          {mode === 'reset' && (\r\n            <p className=\"text-gray-400 font-mono text-sm\">\r\n              Remember your password?{' '}\r\n              <button\r\n                onClick={() => onModeChange('login')}\r\n                className=\"text-electric-violet hover:text-electric-violet-light transition-colors\"\r\n                disabled={loading}\r\n              >\r\n                Sign in\r\n              </button>\r\n            </p>\r\n          )}\r\n        </div>\r\n      </div>\r\n    </motion.div>\r\n  )\r\n}\r\n","import { useState, useEffect } from 'react'\r\nimport { useNavigate, useSearchParams } from 'react-router-dom'\r\nimport { Helmet } from 'react-helmet-async'\r\nimport { motion } from 'framer-motion'\r\nimport { AuthForm } from '../components/AuthForm'\r\nimport { useAuthContext } from '../contexts/AuthContext'\r\n\r\ntype AuthMode = 'login' | 'register' | 'reset'\r\n\r\nexport default function Auth() {\r\n  const [searchParams] = useSearchParams()\r\n  const navigate = useNavigate()\r\n  const { signIn, signUp, resetPassword, loading, user } = useAuthContext()\r\n  const [mode, setMode] = useState<AuthMode>(() => {\r\n    const modeParam = searchParams.get('mode')\r\n    return (modeParam === 'register' || modeParam === 'reset') ? modeParam : 'login'\r\n  })\r\n  const [isLoading, setIsLoading] = useState(false)\r\n  const [forceShowContent, setForceShowContent] = useState(false)\r\n\r\n  // Force show content after timeout to prevent infinite loading\r\n  useEffect(() => {\r\n    const timeout = setTimeout(() => {\r\n      if (loading) {\r\n        setForceShowContent(true)\r\n      }\r\n    }, 5000) // 5 second timeout\r\n\r\n    return () => clearTimeout(timeout)\r\n  }, [loading])\r\n\r\n  // Redirect if already logged in\r\n  useEffect(() => {\r\n    if (user && !loading) {\r\n      const redirectTo = searchParams.get('redirect') || '/'\r\n      navigate(redirectTo, { replace: true })\r\n    }\r\n  }, [user, loading, navigate, searchParams])\r\n\r\n  // Update URL when mode changes\r\n  useEffect(() => {\r\n    const newParams = new URLSearchParams(searchParams)\r\n    if (mode !== 'login') {\r\n      newParams.set('mode', mode)\r\n    } else {\r\n      newParams.delete('mode')\r\n    }\r\n    navigate(`/auth?${newParams.toString()}`, { replace: true })\r\n  }, [mode, navigate, searchParams])\r\n\r\n  const handleAuthSubmit = async (formData: any) => {\r\n    setIsLoading(true)\r\n    \r\n    try {\r\n      let result\r\n      \r\n      switch (mode) {\r\n        case 'login':\r\n          result = await signIn(formData.email, formData.password)\r\n          \r\n          if (!result.error) {\r\n            const redirectTo = searchParams.get('redirect') || '/'\r\n            navigate(redirectTo, { replace: true })\r\n          }\r\n          break\r\n          \r\n        case 'register':\r\n          result = await signUp(formData.email, formData.password, {\r\n            full_name: formData.fullName,\r\n          })\r\n          // Don't redirect on register - user needs to verify email\r\n          break\r\n          \r\n        case 'reset':\r\n          result = await resetPassword(formData.email)\r\n          break\r\n          \r\n        default:\r\n          result = { error: new Error('Invalid auth mode') }\r\n      }\r\n      \r\n      return result\r\n    } catch (error) {\r\n      return { error }\r\n    } finally {\r\n      setIsLoading(false)\r\n    }\r\n  }\r\n\r\n  const getPageTitle = () => {\r\n    switch (mode) {\r\n      case 'login': return 'Sign In - Studio Nullbyte'\r\n      case 'register': return 'Create Account - Studio Nullbyte'\r\n      case 'reset': return 'Reset Password - Studio Nullbyte'\r\n    }\r\n  }\r\n\r\n  const getPageDescription = () => {\r\n    switch (mode) {\r\n      case 'login': return 'Sign in to your Studio Nullbyte account to access exclusive templates and tools.'\r\n      case 'register': return 'Create your Studio Nullbyte account and start building with premium templates.'\r\n      case 'reset': return 'Reset your Studio Nullbyte password to regain access to your account.'\r\n    }\r\n  }\r\n\r\n  // Show loading spinner while checking auth state\r\n  if (loading && !forceShowContent) {\r\n    return (\r\n      <div className=\"min-h-screen bg-black flex items-center justify-center\">\r\n        <div className=\"flex flex-col items-center gap-4\">\r\n          <div className=\"animate-spin rounded-full h-8 w-8 border-b-2 border-electric-violet\"></div>\r\n          <p className=\"text-gray-400 font-mono text-sm\">Loading authentication...</p>\r\n        </div>\r\n      </div>\r\n    )\r\n  }\r\n\r\n  return (\r\n    <>\r\n      <Helmet>\r\n        <title>{getPageTitle()}</title>\r\n        <meta name=\"description\" content={getPageDescription()} />\r\n        <meta name=\"robots\" content=\"noindex, nofollow\" />\r\n      </Helmet>\r\n\r\n      <div className=\"min-h-screen bg-black pt-20 pb-12\">\r\n        <div className=\"container mx-auto px-4\">\r\n          <motion.div\r\n            initial={{ opacity: 0, y: 20 }}\r\n            animate={{ opacity: 1, y: 0 }}\r\n            className=\"max-w-md mx-auto\"\r\n          >\r\n            {/* Header */}\r\n            <div className=\"text-center mb-8\">\r\n              <motion.div\r\n                initial={{ scale: 0.9 }}\r\n                animate={{ scale: 1 }}\r\n                className=\"inline-flex items-center gap-2 mb-4\"\r\n              >\r\n                <div className=\"w-8 h-8 bg-electric-violet rounded flex items-center justify-center\">\r\n                  <span className=\"text-black font-mono font-bold\">N</span>\r\n                </div>\r\n                <span className=\"text-white font-mono text-xl\">Studio<span className=\"text-electric-violet\">Nullbyte</span></span>\r\n              </motion.div>\r\n              <p className=\"text-gray-400 font-mono text-sm\">\r\n                Modular tools for the design-minded developer\r\n              </p>\r\n            </div>\r\n\r\n            {/* Auth Form */}\r\n            <AuthForm\r\n              mode={mode}\r\n              onSubmit={handleAuthSubmit}\r\n              loading={isLoading}\r\n              onModeChange={setMode}\r\n            />\r\n\r\n            {/* Additional Info */}\r\n            <motion.div\r\n              initial={{ opacity: 0 }}\r\n              animate={{ opacity: 1 }}\r\n              transition={{ delay: 0.3 }}\r\n              className=\"mt-8 text-center\"\r\n            >\r\n              <p className=\"text-gray-500 font-mono text-xs\">\r\n                By {mode === 'register' ? 'creating an account' : 'signing in'}, you agree to our{' '}\r\n                <a href=\"/terms\" className=\"text-electric-violet hover:text-electric-violet-light transition-colors\">\r\n                  Terms of Service\r\n                </a>{' '}\r\n                and{' '}\r\n                <a href=\"/privacy\" className=\"text-electric-violet hover:text-electric-violet-light transition-colors\">\r\n                  Privacy Policy\r\n                </a>\r\n              </p>\r\n            </motion.div>\r\n          </motion.div>\r\n        </div>\r\n      </div>\r\n    </>\r\n  )\r\n}\r\n","import { useState, useEffect } from 'react'\r\nimport { useNavigate, useSearchParams } from 'react-router-dom'\r\nimport { Helmet } from 'react-helmet-async'\r\nimport { motion } from 'framer-motion'\r\nimport { Eye, EyeOff, Lock, AlertCircle, CheckCircle } from 'lucide-react'\r\nimport { useAuthContext } from '../contexts/AuthContext'\r\n\r\nexport default function ResetPassword() {\r\n  const [searchParams] = useSearchParams()\r\n  const navigate = useNavigate()\r\n  const { updatePassword, signOut } = useAuthContext()\r\n  \r\n  const [password, setPassword] = useState('')\r\n  const [confirmPassword, setConfirmPassword] = useState('')\r\n  const [showPassword, setShowPassword] = useState(false)\r\n  const [showConfirmPassword, setShowConfirmPassword] = useState(false)\r\n  const [loading, setLoading] = useState(false)\r\n  const [error, setError] = useState('')\r\n  const [success, setSuccess] = useState(false)\r\n\r\n  // Check if we have the required tokens\r\n  useEffect(() => {\r\n    const accessToken = searchParams.get('access_token')\r\n    const refreshToken = searchParams.get('refresh_token')\r\n    \r\n    if (!accessToken || !refreshToken) {\r\n      navigate('/auth?mode=reset', { replace: true })\r\n    }\r\n  }, [searchParams, navigate])\r\n\r\n  const validatePasswords = () => {\r\n    if (!password) {\r\n      setError('Password is required')\r\n      return false\r\n    }\r\n    \r\n    if (password.length < 6) {\r\n      setError('Password must be at least 6 characters')\r\n      return false\r\n    }\r\n    \r\n    if (password !== confirmPassword) {\r\n      setError('Passwords do not match')\r\n      return false\r\n    }\r\n    \r\n    return true\r\n  }\r\n\r\n  const handleSubmit = async (e: React.FormEvent) => {\r\n    e.preventDefault()\r\n    setError('')\r\n\r\n    if (!validatePasswords()) return\r\n\r\n    setLoading(true)\r\n    \r\n    try {\r\n      const result = await updatePassword(password)\r\n      \r\n      if (result.error) {\r\n        setError(result.error.message || 'Failed to update password')\r\n      } else {\r\n        setSuccess(true)\r\n        // Sign out user so they can sign in with new password\r\n        setTimeout(async () => {\r\n          await signOut()\r\n          navigate('/auth', { replace: true })\r\n        }, 3000)\r\n      }\r\n    } catch (error: any) {\r\n      setError(error.message || 'An unexpected error occurred')\r\n    } finally {\r\n      setLoading(false)\r\n    }\r\n  }\r\n\r\n  if (success) {\r\n    return (\r\n      <>\r\n        <Helmet>\r\n          <title>Password Updated - Studio Nullbyte</title>\r\n          <meta name=\"robots\" content=\"noindex, nofollow\" />\r\n        </Helmet>\r\n\r\n        <div className=\"min-h-screen bg-black pt-20 pb-12 flex items-center justify-center\">\r\n          <motion.div\r\n            initial={{ opacity: 0, y: 20 }}\r\n            animate={{ opacity: 1, y: 0 }}\r\n            className=\"max-w-md mx-auto text-center\"\r\n          >\r\n            <div className=\"bg-code-gray-light border border-gray-700 rounded-lg p-8\">\r\n              <motion.div\r\n                initial={{ scale: 0 }}\r\n                animate={{ scale: 1 }}\r\n                className=\"w-16 h-16 bg-terminal-green/10 rounded-full flex items-center justify-center mx-auto mb-4\"\r\n              >\r\n                <CheckCircle className=\"w-8 h-8 text-terminal-green\" />\r\n              </motion.div>\r\n              \r\n              <h2 className=\"text-2xl font-mono text-white mb-4\">Password Updated!</h2>\r\n              <p className=\"text-gray-400 font-mono text-sm mb-6\">\r\n                Your password has been successfully updated. You'll be redirected to sign in shortly.\r\n              </p>\r\n              \r\n              <div className=\"animate-spin rounded-full h-6 w-6 border-b-2 border-electric-violet mx-auto\"></div>\r\n            </div>\r\n          </motion.div>\r\n        </div>\r\n      </>\r\n    )\r\n  }\r\n\r\n  return (\r\n    <>\r\n      <Helmet>\r\n        <title>Reset Password - Studio Nullbyte</title>\r\n        <meta name=\"description\" content=\"Set your new Studio Nullbyte password.\" />\r\n        <meta name=\"robots\" content=\"noindex, nofollow\" />\r\n      </Helmet>\r\n\r\n      <div className=\"min-h-screen bg-black pt-20 pb-12\">\r\n        <div className=\"container mx-auto px-4\">\r\n          <motion.div\r\n            initial={{ opacity: 0, y: 20 }}\r\n            animate={{ opacity: 1, y: 0 }}\r\n            className=\"max-w-md mx-auto\"\r\n          >\r\n            {/* Header */}\r\n            <div className=\"text-center mb-8\">\r\n              <motion.div\r\n                initial={{ scale: 0.9 }}\r\n                animate={{ scale: 1 }}\r\n                className=\"inline-flex items-center gap-2 mb-4\"\r\n              >\r\n                <div className=\"w-8 h-8 bg-electric-violet rounded flex items-center justify-center\">\r\n                  <span className=\"text-black font-mono font-bold\">N</span>\r\n                </div>\r\n                <span className=\"text-white font-mono text-xl\">Studio<span className=\"text-electric-violet\">Nullbyte</span></span>\r\n              </motion.div>\r\n              <h1 className=\"text-2xl font-mono text-white mb-2\">Set New Password</h1>\r\n              <p className=\"text-gray-400 font-mono text-sm\">\r\n                Enter your new password below\r\n              </p>\r\n            </div>\r\n\r\n            {/* Reset Form */}\r\n            <div className=\"bg-code-gray-light border border-gray-700 rounded-lg p-8\">\r\n              {error && (\r\n                <motion.div\r\n                  initial={{ opacity: 0, y: -10 }}\r\n                  animate={{ opacity: 1, y: 0 }}\r\n                  className=\"flex items-center gap-2 bg-red-500/10 border border-red-500/30 rounded p-3 mb-6\"\r\n                >\r\n                  <AlertCircle className=\"w-4 h-4 text-red-400\" />\r\n                  <span className=\"text-sm font-mono text-red-400\">{error}</span>\r\n                </motion.div>\r\n              )}\r\n\r\n              <form onSubmit={handleSubmit} className=\"space-y-6\">\r\n                {/* New Password */}\r\n                <div>\r\n                  <label className=\"block text-sm font-mono text-gray-300 mb-2\">\r\n                    New Password\r\n                  </label>\r\n                  <div className=\"relative\">\r\n                    <Lock className=\"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-400\" />\r\n                    <input\r\n                      type={showPassword ? 'text' : 'password'}\r\n                      value={password}\r\n                      onChange={(e) => setPassword(e.target.value)}\r\n                      className=\"w-full bg-code-gray border border-gray-600 pl-10 pr-12 py-3 rounded font-mono text-white placeholder-gray-500 focus:outline-none focus:border-electric-violet transition-colors\"\r\n                      placeholder=\"Enter new password\"\r\n                      disabled={loading}\r\n                      required\r\n                    />\r\n                    <button\r\n                      type=\"button\"\r\n                      onClick={() => setShowPassword(!showPassword)}\r\n                      className=\"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-electric-violet transition-colors\"\r\n                      disabled={loading}\r\n                    >\r\n                      {showPassword ? <EyeOff className=\"w-4 h-4\" /> : <Eye className=\"w-4 h-4\" />}\r\n                    </button>\r\n                  </div>\r\n                </div>\r\n\r\n                {/* Confirm Password */}\r\n                <div>\r\n                  <label className=\"block text-sm font-mono text-gray-300 mb-2\">\r\n                    Confirm New Password\r\n                  </label>\r\n                  <div className=\"relative\">\r\n                    <Lock className=\"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-400\" />\r\n                    <input\r\n                      type={showConfirmPassword ? 'text' : 'password'}\r\n                      value={confirmPassword}\r\n                      onChange={(e) => setConfirmPassword(e.target.value)}\r\n                      className=\"w-full bg-code-gray border border-gray-600 pl-10 pr-12 py-3 rounded font-mono text-white placeholder-gray-500 focus:outline-none focus:border-electric-violet transition-colors\"\r\n                      placeholder=\"Confirm new password\"\r\n                      disabled={loading}\r\n                      required\r\n                    />\r\n                    <button\r\n                      type=\"button\"\r\n                      onClick={() => setShowConfirmPassword(!showConfirmPassword)}\r\n                      className=\"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-electric-violet transition-colors\"\r\n                      disabled={loading}\r\n                    >\r\n                      {showConfirmPassword ? <EyeOff className=\"w-4 h-4\" /> : <Eye className=\"w-4 h-4\" />}\r\n                    </button>\r\n                  </div>\r\n                </div>\r\n\r\n                {/* Submit Button */}\r\n                <button\r\n                  type=\"submit\"\r\n                  disabled={loading}\r\n                  className=\"w-full bg-electric-violet hover:bg-electric-violet-light disabled:opacity-50 disabled:cursor-not-allowed text-white font-mono py-3 px-4 rounded transition-colors\"\r\n                >\r\n                  {loading ? 'Updating...' : 'Update Password'}\r\n                </button>\r\n              </form>\r\n\r\n              <div className=\"mt-6 text-center\">\r\n                <p className=\"text-gray-400 font-mono text-sm\">\r\n                  Remember your password?{' '}\r\n                  <button\r\n                    onClick={() => navigate('/auth')}\r\n                    className=\"text-electric-violet hover:text-electric-violet-light transition-colors\"\r\n                    disabled={loading}\r\n                  >\r\n                    Sign in\r\n                  </button>\r\n                </p>\r\n              </div>\r\n            </div>\r\n          </motion.div>\r\n        </div>\r\n      </div>\r\n    </>\r\n  )\r\n}\r\n","/**\r\n * Emergency sign out utility\r\n * This provides a simple way to sign out when the normal flow fails\r\n */\r\nimport { logger } from './logger'\r\n\r\nexport function emergencySignOut() {\r\n  logger.auth('Emergency sign out initiated...')\r\n  \r\n  try {\r\n    // Clear all possible authentication storage\r\n    const storageKeys = [\r\n      'rememberMe',\r\n      'tempSession',\r\n      'supabase.auth.token',\r\n      'supabase.auth.user',\r\n      'supabase.auth.session'\r\n    ]\r\n    \r\n    storageKeys.forEach(key => {\r\n      try {\r\n        localStorage.removeItem(key)\r\n        sessionStorage.removeItem(key)\r\n      } catch (error) {\r\n        logger.warn(`Failed to remove ${key}:`, error)\r\n      }\r\n    })\r\n    \r\n    // Clear all localStorage items that contain 'supabase' or 'auth'\r\n    const allLocalKeys = Object.keys(localStorage)\r\n    allLocalKeys.forEach(key => {\r\n      if (key.includes('supabase') || key.includes('auth')) {\r\n        try {\r\n          localStorage.removeItem(key)\r\n        } catch (error) {\r\n          logger.warn(`Failed to remove local storage key ${key}:`, error)\r\n        }\r\n      }\r\n    })\r\n    \r\n    // Clear all sessionStorage items that contain 'supabase' or 'auth'\r\n    const allSessionKeys = Object.keys(sessionStorage)\r\n    allSessionKeys.forEach(key => {\r\n      if (key.includes('supabase') || key.includes('auth')) {\r\n        try {\r\n          sessionStorage.removeItem(key)\r\n        } catch (error) {\r\n          logger.warn(`Failed to remove session storage key ${key}:`, error)\r\n        }\r\n      }\r\n    })\r\n    \r\n    logger.auth('Emergency sign out completed - reloading page...')\r\n    \r\n    // Force reload the page to reset all state\r\n    window.location.href = window.location.origin\r\n    \r\n  } catch (error) {\r\n    logger.error('Emergency sign out failed:', error)\r\n    \r\n    // Last resort - just reload the page\r\n    window.location.reload()\r\n  }\r\n}\r\n","import { useState, useEffect } from 'react'\r\nimport { Helmet } from 'react-helmet-async'\r\nimport { motion } from 'framer-motion'\r\nimport { \r\n  User, \r\n  Mail, \r\n  Lock, \r\n  Eye, \r\n  EyeOff, \r\n  Save, \r\n  AlertCircle, \r\n  CheckCircle,\r\n  LogOut,\r\n  Download,\r\n  Settings as SettingsIcon\r\n} from 'lucide-react'\r\nimport { useAuthContext } from '../contexts/AuthContext'\r\nimport { useNavigate } from 'react-router-dom'\r\nimport { emergencySignOut } from '../utils/emergencySignOut'\r\nimport { logger } from '../utils/logger'\r\n\r\nexport default function UserSettings() {\r\n  const { user, profile, updateProfile, updatePassword, signOut, refreshProfile } = useAuthContext()\r\n  const navigate = useNavigate()\r\n  \r\n  const [activeTab, setActiveTab] = useState('profile')\r\n  const [loading, setLoading] = useState(false)\r\n  const [message, setMessage] = useState('')\r\n  const [error, setError] = useState('')\r\n  \r\n  // Profile form\r\n  const [profileData, setProfileData] = useState({\r\n    fullName: '',\r\n    email: '',\r\n  })\r\n  \r\n  // Password form\r\n  const [passwordData, setPasswordData] = useState({\r\n    currentPassword: '',\r\n    newPassword: '',\r\n    confirmPassword: '',\r\n  })\r\n  const [showCurrentPassword, setShowCurrentPassword] = useState(false)\r\n  const [showNewPassword, setShowNewPassword] = useState(false)\r\n  const [showConfirmPassword, setShowConfirmPassword] = useState(false)\r\n\r\n  // Load profile data\r\n  useEffect(() => {\r\n    if (profile) {\r\n      setProfileData({\r\n        fullName: profile.full_name || '',\r\n        email: profile.email || user?.email || '',\r\n      })\r\n    } else if (user) {\r\n      setProfileData({\r\n        fullName: '',\r\n        email: user.email || '',\r\n      })\r\n    }\r\n  }, [profile, user])\r\n\r\n  // Redirect if not logged in\r\n  useEffect(() => {\r\n    if (!user) {\r\n      navigate('/auth?redirect=/settings')\r\n    }\r\n  }, [user, navigate])\r\n\r\n  const handleProfileUpdate = async (e: React.FormEvent) => {\r\n    e.preventDefault()\r\n    setLoading(true)\r\n    setMessage('')\r\n    setError('')\r\n\r\n    try {\r\n      const result = await updateProfile({\r\n        full_name: profileData.fullName.trim(),\r\n        email: profileData.email,\r\n      })\r\n\r\n      if (result.error) {\r\n        setError(result.error.message || 'Failed to update profile')\r\n      } else {\r\n        setMessage('Profile updated successfully!')\r\n        await refreshProfile()\r\n      }\r\n    } catch (error: any) {\r\n      setError(error.message || 'An unexpected error occurred')\r\n    } finally {\r\n      setLoading(false)\r\n    }\r\n  }\r\n\r\n  const handlePasswordUpdate = async (e: React.FormEvent) => {\r\n    e.preventDefault()\r\n    setLoading(true)\r\n    setMessage('')\r\n    setError('')\r\n\r\n    // Validate passwords\r\n    if (passwordData.newPassword.length < 6) {\r\n      setError('New password must be at least 6 characters')\r\n      setLoading(false)\r\n      return\r\n    }\r\n\r\n    if (passwordData.newPassword !== passwordData.confirmPassword) {\r\n      setError('New passwords do not match')\r\n      setLoading(false)\r\n      return\r\n    }\r\n\r\n    try {\r\n      const result = await updatePassword(passwordData.newPassword)\r\n\r\n      if (result.error) {\r\n        setError(result.error.message || 'Failed to update password')\r\n      } else {\r\n        setMessage('Password updated successfully!')\r\n        setPasswordData({\r\n          currentPassword: '',\r\n          newPassword: '',\r\n          confirmPassword: '',\r\n        })\r\n      }\r\n    } catch (error: any) {\r\n      setError(error.message || 'An unexpected error occurred')\r\n    } finally {\r\n      setLoading(false)\r\n    }\r\n  }\r\n\r\n  const handleSignOut = () => {\r\n    logger.auth('UserSettings: Sign out button clicked - using emergency sign out!')\r\n    \r\n    // Show confirmation\r\n    const confirmSignOut = confirm('Are you sure you want to sign out?')\r\n    \r\n    if (confirmSignOut) {\r\n      // Use emergency sign out (this will reload the page)\r\n      emergencySignOut()\r\n    }\r\n  }\r\n\r\n  if (!user) {\r\n    return (\r\n      <div className=\"min-h-screen bg-black flex items-center justify-center\">\r\n        <div className=\"animate-spin rounded-full h-8 w-8 border-b-2 border-electric-violet\"></div>\r\n      </div>\r\n    )\r\n  }\r\n\r\n  const tabs = [\r\n    { id: 'profile', label: 'Profile', icon: User },\r\n    { id: 'security', label: 'Security', icon: Lock },\r\n    { id: 'downloads', label: 'Downloads', icon: Download },\r\n  ]\r\n\r\n  return (\r\n    <>\r\n      <Helmet>\r\n        <title>Account Settings - Studio Nullbyte</title>\r\n        <meta name=\"description\" content=\"Manage your Studio Nullbyte account settings and preferences.\" />\r\n        <meta name=\"robots\" content=\"noindex, nofollow\" />\r\n      </Helmet>\r\n\r\n      <div className=\"min-h-screen bg-black pt-20 pb-12\">\r\n        <div className=\"container mx-auto px-4\">\r\n          <motion.div\r\n            initial={{ opacity: 0, y: 20 }}\r\n            animate={{ opacity: 1, y: 0 }}\r\n            className=\"max-w-4xl mx-auto\"\r\n          >\r\n            {/* Header */}\r\n            <div className=\"mb-8\">\r\n              <div className=\"flex items-center gap-3 mb-4\">\r\n                <SettingsIcon className=\"w-6 h-6 text-electric-violet\" />\r\n                <h1 className=\"text-3xl font-mono text-white\">Account Settings</h1>\r\n              </div>\r\n              <p className=\"text-gray-400 font-mono\">\r\n                Manage your account preferences and security settings\r\n              </p>\r\n            </div>\r\n\r\n            {/* Status Messages */}\r\n            {message && (\r\n              <motion.div\r\n                initial={{ opacity: 0, y: -10 }}\r\n                animate={{ opacity: 1, y: 0 }}\r\n                className=\"flex items-center gap-2 bg-terminal-green/10 border border-terminal-green/30 rounded p-3 mb-6\"\r\n              >\r\n                <CheckCircle className=\"w-4 h-4 text-terminal-green\" />\r\n                <span className=\"text-sm font-mono text-terminal-green\">{message}</span>\r\n              </motion.div>\r\n            )}\r\n\r\n            {error && (\r\n              <motion.div\r\n                initial={{ opacity: 0, y: -10 }}\r\n                animate={{ opacity: 1, y: 0 }}\r\n                className=\"flex items-center gap-2 bg-red-500/10 border border-red-500/30 rounded p-3 mb-6\"\r\n              >\r\n                <AlertCircle className=\"w-4 h-4 text-red-400\" />\r\n                <span className=\"text-sm font-mono text-red-400\">{error}</span>\r\n              </motion.div>\r\n            )}\r\n\r\n            <div className=\"grid grid-cols-1 lg:grid-cols-4 gap-8\">\r\n              {/* Sidebar */}\r\n              <div className=\"lg:col-span-1\">\r\n                <div className=\"bg-code-gray-light border border-gray-700 rounded-lg p-4\">\r\n                  <nav className=\"space-y-2\">\r\n                    {tabs.map((tab) => {\r\n                      const Icon = tab.icon\r\n                      return (\r\n                        <button\r\n                          key={tab.id}\r\n                          onClick={() => setActiveTab(tab.id)}\r\n                          className={`w-full flex items-center gap-3 px-3 py-2 rounded font-mono text-sm transition-colors ${\r\n                            activeTab === tab.id\r\n                              ? 'bg-electric-violet text-white'\r\n                              : 'text-gray-400 hover:text-white hover:bg-code-gray'\r\n                          }`}\r\n                        >\r\n                          <Icon className=\"w-4 h-4\" />\r\n                          {tab.label}\r\n                        </button>\r\n                      )\r\n                    })}\r\n\r\n                    <hr className=\"border-gray-700 my-4\" />\r\n\r\n                    <button\r\n                      onClick={handleSignOut}\r\n                      className=\"w-full flex items-center gap-3 px-3 py-2 rounded font-mono text-sm text-red-400 hover:text-red-300 hover:bg-red-500/10 transition-colors\"\r\n                    >\r\n                      <LogOut className=\"w-4 h-4\" />\r\n                      Sign Out\r\n                    </button>\r\n                  </nav>\r\n                </div>\r\n              </div>\r\n\r\n              {/* Main Content */}\r\n              <div className=\"lg:col-span-3\">\r\n                <div className=\"bg-code-gray-light border border-gray-700 rounded-lg p-8\">\r\n                  {/* Profile Tab */}\r\n                  {activeTab === 'profile' && (\r\n                    <motion.div\r\n                      initial={{ opacity: 0, x: 20 }}\r\n                      animate={{ opacity: 1, x: 0 }}\r\n                    >\r\n                      <h2 className=\"text-xl font-mono text-white mb-6\">Profile Information</h2>\r\n                      \r\n                      <form onSubmit={handleProfileUpdate} className=\"space-y-6\">\r\n                        <div>\r\n                          <label className=\"block text-sm font-mono text-gray-300 mb-2\">\r\n                            Full Name\r\n                          </label>\r\n                          <div className=\"relative\">\r\n                            <User className=\"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-400\" />\r\n                            <input\r\n                              type=\"text\"\r\n                              value={profileData.fullName}\r\n                              onChange={(e) => setProfileData(prev => ({ ...prev, fullName: e.target.value }))}\r\n                              className=\"w-full bg-code-gray border border-gray-600 pl-10 pr-4 py-3 rounded font-mono text-white placeholder-gray-500 focus:outline-none focus:border-electric-violet transition-colors\"\r\n                              placeholder=\"Enter your full name\"\r\n                              disabled={loading}\r\n                            />\r\n                          </div>\r\n                        </div>\r\n\r\n                        <div>\r\n                          <label className=\"block text-sm font-mono text-gray-300 mb-2\">\r\n                            Email Address\r\n                          </label>\r\n                          <div className=\"relative\">\r\n                            <Mail className=\"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-400\" />\r\n                            <input\r\n                              type=\"email\"\r\n                              value={profileData.email}\r\n                              onChange={(e) => setProfileData(prev => ({ ...prev, email: e.target.value }))}\r\n                              className=\"w-full bg-code-gray border border-gray-600 pl-10 pr-4 py-3 rounded font-mono text-white placeholder-gray-500 focus:outline-none focus:border-electric-violet transition-colors\"\r\n                              placeholder=\"Enter your email\"\r\n                              disabled={loading}\r\n                            />\r\n                          </div>\r\n                          <p className=\"text-gray-500 font-mono text-xs mt-1\">\r\n                            Email changes require verification\r\n                          </p>\r\n                        </div>\r\n\r\n                        <button\r\n                          type=\"submit\"\r\n                          disabled={loading}\r\n                          className=\"flex items-center gap-2 bg-electric-violet hover:bg-electric-violet-light disabled:opacity-50 disabled:cursor-not-allowed text-white font-mono py-3 px-6 rounded transition-colors\"\r\n                        >\r\n                          <Save className=\"w-4 h-4\" />\r\n                          {loading ? 'Saving...' : 'Save Changes'}\r\n                        </button>\r\n                      </form>\r\n                    </motion.div>\r\n                  )}\r\n\r\n                  {/* Security Tab */}\r\n                  {activeTab === 'security' && (\r\n                    <motion.div\r\n                      initial={{ opacity: 0, x: 20 }}\r\n                      animate={{ opacity: 1, x: 0 }}\r\n                    >\r\n                      <h2 className=\"text-xl font-mono text-white mb-6\">Security Settings</h2>\r\n                      \r\n                      <form onSubmit={handlePasswordUpdate} className=\"space-y-6\">\r\n                        <div>\r\n                          <label className=\"block text-sm font-mono text-gray-300 mb-2\">\r\n                            Current Password\r\n                          </label>\r\n                          <div className=\"relative\">\r\n                            <Lock className=\"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-400\" />\r\n                            <input\r\n                              type={showCurrentPassword ? 'text' : 'password'}\r\n                              value={passwordData.currentPassword}\r\n                              onChange={(e) => setPasswordData(prev => ({ ...prev, currentPassword: e.target.value }))}\r\n                              className=\"w-full bg-code-gray border border-gray-600 pl-10 pr-12 py-3 rounded font-mono text-white placeholder-gray-500 focus:outline-none focus:border-electric-violet transition-colors\"\r\n                              placeholder=\"Enter current password\"\r\n                              disabled={loading}\r\n                            />\r\n                            <button\r\n                              type=\"button\"\r\n                              onClick={() => setShowCurrentPassword(!showCurrentPassword)}\r\n                              className=\"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-electric-violet transition-colors\"\r\n                            >\r\n                              {showCurrentPassword ? <EyeOff className=\"w-4 h-4\" /> : <Eye className=\"w-4 h-4\" />}\r\n                            </button>\r\n                          </div>\r\n                        </div>\r\n\r\n                        <div>\r\n                          <label className=\"block text-sm font-mono text-gray-300 mb-2\">\r\n                            New Password\r\n                          </label>\r\n                          <div className=\"relative\">\r\n                            <Lock className=\"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-400\" />\r\n                            <input\r\n                              type={showNewPassword ? 'text' : 'password'}\r\n                              value={passwordData.newPassword}\r\n                              onChange={(e) => setPasswordData(prev => ({ ...prev, newPassword: e.target.value }))}\r\n                              className=\"w-full bg-code-gray border border-gray-600 pl-10 pr-12 py-3 rounded font-mono text-white placeholder-gray-500 focus:outline-none focus:border-electric-violet transition-colors\"\r\n                              placeholder=\"Enter new password\"\r\n                              disabled={loading}\r\n                            />\r\n                            <button\r\n                              type=\"button\"\r\n                              onClick={() => setShowNewPassword(!showNewPassword)}\r\n                              className=\"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-electric-violet transition-colors\"\r\n                            >\r\n                              {showNewPassword ? <EyeOff className=\"w-4 h-4\" /> : <Eye className=\"w-4 h-4\" />}\r\n                            </button>\r\n                          </div>\r\n                        </div>\r\n\r\n                        <div>\r\n                          <label className=\"block text-sm font-mono text-gray-300 mb-2\">\r\n                            Confirm New Password\r\n                          </label>\r\n                          <div className=\"relative\">\r\n                            <Lock className=\"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-400\" />\r\n                            <input\r\n                              type={showConfirmPassword ? 'text' : 'password'}\r\n                              value={passwordData.confirmPassword}\r\n                              onChange={(e) => setPasswordData(prev => ({ ...prev, confirmPassword: e.target.value }))}\r\n                              className=\"w-full bg-code-gray border border-gray-600 pl-10 pr-12 py-3 rounded font-mono text-white placeholder-gray-500 focus:outline-none focus:border-electric-violet transition-colors\"\r\n                              placeholder=\"Confirm new password\"\r\n                              disabled={loading}\r\n                            />\r\n                            <button\r\n                              type=\"button\"\r\n                              onClick={() => setShowConfirmPassword(!showConfirmPassword)}\r\n                              className=\"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-electric-violet transition-colors\"\r\n                            >\r\n                              {showConfirmPassword ? <EyeOff className=\"w-4 h-4\" /> : <Eye className=\"w-4 h-4\" />}\r\n                            </button>\r\n                          </div>\r\n                        </div>\r\n\r\n                        <button\r\n                          type=\"submit\"\r\n                          disabled={loading}\r\n                          className=\"flex items-center gap-2 bg-electric-violet hover:bg-electric-violet-light disabled:opacity-50 disabled:cursor-not-allowed text-white font-mono py-3 px-6 rounded transition-colors\"\r\n                        >\r\n                          <Lock className=\"w-4 h-4\" />\r\n                          {loading ? 'Updating...' : 'Update Password'}\r\n                        </button>\r\n                      </form>\r\n                    </motion.div>\r\n                  )}\r\n\r\n                  {/* Downloads Tab */}\r\n                  {activeTab === 'downloads' && (\r\n                    <motion.div\r\n                      initial={{ opacity: 0, x: 20 }}\r\n                      animate={{ opacity: 1, x: 0 }}\r\n                    >\r\n                      <h2 className=\"text-xl font-mono text-white mb-6\">Download History</h2>\r\n                      \r\n                      <div className=\"text-center py-12\">\r\n                        <Download className=\"w-12 h-12 text-gray-600 mx-auto mb-4\" />\r\n                        <h3 className=\"text-lg font-mono text-gray-400 mb-2\">No Downloads Yet</h3>\r\n                        <p className=\"text-gray-500 font-mono text-sm mb-6\">\r\n                          Your purchased templates and downloads will appear here\r\n                        </p>\r\n                        <button\r\n                          onClick={() => navigate('/products')}\r\n                          className=\"bg-electric-violet hover:bg-electric-violet-light text-white font-mono py-2 px-4 rounded transition-colors\"\r\n                        >\r\n                          Browse Products\r\n                        </button>\r\n                      </div>\r\n                    </motion.div>\r\n                  )}\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </motion.div>\r\n        </div>\r\n      </div>\r\n    </>\r\n  )\r\n}\r\n","/**\r\n * Debug utility to help track admin state issues\r\n */\r\nimport { logger } from './logger'\r\n\r\nexport const debugAdminState = (context: string, data: any) => {\r\n  if (process.env.NODE_ENV === 'development') {\r\n    logger.admin(`Debug [${context}]:`, {\r\n      timestamp: new Date().toISOString(),\r\n      ...data\r\n    })\r\n  }\r\n}\r\n\r\nexport const clearAdminCache = () => {\r\n  try {\r\n    localStorage.removeItem('studio_nullbyte_admin_status')\r\n    localStorage.removeItem('studio_nullbyte_admin_expiry')\r\n    logger.admin('Admin cache cleared')\r\n  } catch (error) {\r\n    logger.warn('Failed to clear admin cache:', error)\r\n  }\r\n}\r\n\r\nexport const getAdminCacheInfo = () => {\r\n  try {\r\n    const status = localStorage.getItem('studio_nullbyte_admin_status')\r\n    const expiry = localStorage.getItem('studio_nullbyte_admin_expiry')\r\n    \r\n    return {\r\n      status,\r\n      expiry: expiry ? new Date(parseInt(expiry)) : null,\r\n      isExpired: expiry ? Date.now() > parseInt(expiry) : true\r\n    }\r\n  } catch (error) {\r\n    logger.warn('Failed to get admin cache info:', error)\r\n    return { status: null, expiry: null, isExpired: true }\r\n  }\r\n}\r\n\r\n// Add to window for debugging in browser console\r\nif (typeof window !== 'undefined' && process.env.NODE_ENV === 'development') {\r\n  (window as any).adminDebug = {\r\n    clearCache: clearAdminCache,\r\n    getCacheInfo: getAdminCacheInfo,\r\n    testState: () => {\r\n      logger.admin('Testing admin state...')\r\n      \r\n      // Check localStorage\r\n      const adminStatus = localStorage.getItem('studio_nullbyte_admin_status')\r\n      const adminExpiry = localStorage.getItem('studio_nullbyte_admin_expiry')\r\n      \r\n      logger.admin('Admin cache:', {\r\n        status: adminStatus,\r\n        expiry: adminExpiry ? new Date(parseInt(adminExpiry)) : null,\r\n        isExpired: adminExpiry ? Date.now() > parseInt(adminExpiry) : true\r\n      })\r\n      \r\n      return getAdminCacheInfo()\r\n    }\r\n  }\r\n}\r\n","import { supabase } from '../lib/supabase'\r\n\r\nexport const testSupabaseConnection = async () => {\r\n  console.log('ðŸ” Testing Supabase Connection...')\r\n  \r\n  try {\r\n    // Test 1: Check environment variables\r\n    const supabaseUrl = import.meta.env.VITE_SUPABASE_URL\r\n    const supabaseKey = import.meta.env.VITE_SUPABASE_ANON_KEY\r\n    \r\n    console.log('ðŸ“‹ Environment Variables:')\r\n    console.log('  VITE_SUPABASE_URL:', supabaseUrl ? 'âœ… Set' : 'âŒ Missing')\r\n    console.log('  VITE_SUPABASE_ANON_KEY:', supabaseKey ? 'âœ… Set' : 'âŒ Missing')\r\n    \r\n    if (!supabaseUrl || !supabaseKey) {\r\n      console.error('âŒ Missing environment variables - check .env.local file')\r\n      return false\r\n    }\r\n    \r\n    // Test 2: Check auth session\r\n    console.log('\\nðŸ” Testing Auth Session...')\r\n    const { error: sessionError } = await supabase.auth.getSession()\r\n    \r\n    if (sessionError) {\r\n      console.error('âŒ Auth session error:', sessionError)\r\n      return false\r\n    }\r\n    \r\n    console.log('âœ… Auth session test passed')\r\n    \r\n    // Test 3: Test simple query\r\n    console.log('\\nðŸ“Š Testing Database Query...')\r\n    const { data, error } = await supabase\r\n      .from('user_profiles')\r\n      .select('id')\r\n      .limit(1)\r\n    \r\n    if (error) {\r\n      console.error('âŒ Database query failed:', error)\r\n      console.error('Error details:', {\r\n        message: error.message,\r\n        details: error.details,\r\n        hint: error.hint,\r\n        code: error.code\r\n      })\r\n      \r\n      // Check for specific error types\r\n      if (error.message.includes('503') || error.message.includes('Service Unavailable')) {\r\n        console.error('\\nðŸ”´ 503 Service Unavailable - Possible solutions:')\r\n        console.error('   1. Check if your Supabase project is paused')\r\n        console.error('   2. Go to https://supabase.com/dashboard')\r\n        console.error('   3. Click on your project')\r\n        console.error('   4. Check project status in settings')\r\n        console.error('   5. If paused, restart the project')\r\n      }\r\n      \r\n      if (error.message.includes('relation') && error.message.includes('does not exist')) {\r\n        console.error('\\nðŸ”´ Table does not exist - Possible solutions:')\r\n        console.error('   1. Check if user_profiles table exists in your database')\r\n        console.error('   2. Run database migrations')\r\n        console.error('   3. Create the table manually in Supabase dashboard')\r\n      }\r\n      \r\n      return false\r\n    }\r\n    \r\n    console.log('âœ… Database query test passed')\r\n    console.log('ðŸ“Š Query result:', data)\r\n    \r\n    console.log('\\nðŸŽ‰ All Supabase connection tests passed!')\r\n    return true\r\n    \r\n  } catch (error) {\r\n    console.error('âŒ Unexpected error during diagnostics:', error)\r\n    return false\r\n  }\r\n}\r\n\r\nexport const checkSupabaseStatus = async () => {\r\n  console.log('ðŸ” Checking Supabase Project Status...')\r\n  \r\n  const supabaseUrl = import.meta.env.VITE_SUPABASE_URL\r\n  if (!supabaseUrl) {\r\n    console.error('âŒ No Supabase URL found')\r\n    return\r\n  }\r\n  \r\n  try {\r\n    // Extract project ID from URL\r\n    const projectId = supabaseUrl.match(/https:\\/\\/([^.]+)\\.supabase\\.co/)?.[1]\r\n    if (!projectId) {\r\n      console.error('âŒ Could not extract project ID from URL')\r\n      return\r\n    }\r\n    \r\n    console.log('ðŸ“‹ Project Info:')\r\n    console.log('  Project ID:', projectId)\r\n    console.log('  URL:', supabaseUrl)\r\n    console.log('  Dashboard:', `https://supabase.com/dashboard/project/${projectId}`)\r\n    \r\n    // Test basic connectivity\r\n    const response = await fetch(`${supabaseUrl}/health`)\r\n    console.log('ðŸ¥ Health check response:', response.status, response.statusText)\r\n    \r\n  } catch (error) {\r\n    console.error('âŒ Error checking Supabase status:', error)\r\n  }\r\n}\r\n","import { useState, useEffect } from 'react'\r\nimport { useAuthContext } from '../contexts/AuthContext'\r\nimport { supabase } from '../lib/supabase'\r\nimport { debugAdminState } from '../utils/adminDebug'\r\nimport { testSupabaseConnection, checkSupabaseStatus } from '../utils/supabaseDiagnostics'\r\n\r\ninterface AdminStats {\r\n  totalUsers: number\r\n  totalProducts: number\r\n  totalOrders: number\r\n  totalRevenue: number\r\n  pendingOrders: number\r\n  newContactSubmissions: number\r\n}\r\n\r\ninterface User {\r\n  id: string\r\n  user_id: string\r\n  full_name: string | null\r\n  email: string\r\n  role: string\r\n  created_at: string\r\n  updated_at: string\r\n}\r\n\r\ninterface Product {\r\n  id: string\r\n  title: string\r\n  description: string\r\n  price: number\r\n  category_id: string\r\n  category?: {\r\n    name: string\r\n    slug: string\r\n  }\r\n  image_url: string | null\r\n  download_url: string | null\r\n  preview_url: string | null\r\n  tags: string[]\r\n  featured: boolean\r\n  active: boolean\r\n  created_at: string\r\n  updated_at: string\r\n}\r\n\r\ninterface Order {\r\n  id: string\r\n  user_id: string\r\n  total_amount: number\r\n  status: 'pending' | 'processing' | 'completed' | 'cancelled' | 'refunded'\r\n  payment_method: string | null\r\n  payment_id: string | null\r\n  notes: string | null\r\n  created_at: string\r\n  updated_at: string\r\n  user_profiles?: {\r\n    full_name: string | null\r\n    email: string\r\n  }\r\n  order_items?: {\r\n    id: string\r\n    product_id: string\r\n    price: number\r\n    quantity: number\r\n    products: {\r\n      title: string\r\n    }\r\n  }[]\r\n}\r\n\r\ninterface Category {\r\n  id: string\r\n  name: string\r\n  slug: string\r\n  description: string | null\r\n  is_active: boolean\r\n  created_at: string\r\n  updated_at: string\r\n}\r\n\r\ninterface ContactSubmission {\r\n  id: string\r\n  name: string\r\n  email: string\r\n  subject: string\r\n  message: string\r\n  submitted_at: string\r\n  status: 'new' | 'in_progress' | 'resolved'\r\n}\r\n\r\nexport function useAdmin() {\r\n  const { profile, loading: authLoading, user } = useAuthContext()\r\n  const [loading, setLoading] = useState(true)\r\n  const [isAdmin, setIsAdmin] = useState(false)\r\n\r\n  // Cache admin status in localStorage to prevent random drops\r\n  const ADMIN_CACHE_KEY = 'studio_nullbyte_admin_status'\r\n  const ADMIN_CACHE_EXPIRY = 'studio_nullbyte_admin_expiry'\r\n\r\n  // Emergency timeout to prevent infinite loading\r\n  useEffect(() => {\r\n    const emergencyTimeout = setTimeout(() => {\r\n      if (loading) {\r\n        // Emergency timeout reached - forcing loading to false\r\n        setLoading(false)\r\n      }\r\n    }, 60000) // Increased from 8s to 60s for better reliability\r\n\r\n    return () => clearTimeout(emergencyTimeout)\r\n  }, [loading])\r\n\r\n  // Load cached admin status immediately for faster UI response\r\n  useEffect(() => {\r\n    const loadCachedAdminStatus = () => {\r\n      try {\r\n        const cachedStatus = localStorage.getItem(ADMIN_CACHE_KEY)\r\n        const cachedExpiry = localStorage.getItem(ADMIN_CACHE_EXPIRY)\r\n        \r\n        if (cachedStatus && cachedExpiry) {\r\n          const expiryTime = parseInt(cachedExpiry)\r\n          const now = Date.now()\r\n          \r\n          // Cache valid for 30 minutes\r\n          if (now < expiryTime && user) {\r\n            const isAdminCached = cachedStatus === 'true'\r\n            setIsAdmin(isAdminCached)\r\n          } else {\r\n            // Clear expired cache\r\n            localStorage.removeItem(ADMIN_CACHE_KEY)\r\n            localStorage.removeItem(ADMIN_CACHE_EXPIRY)\r\n          }\r\n        }\r\n      } catch (error) {\r\n        // Silently handle cache errors\r\n      }\r\n    }\r\n\r\n    if (user) {\r\n      loadCachedAdminStatus()\r\n    }\r\n  }, [user])\r\n\r\n  // Cache admin status when determined\r\n  const cacheAdminStatus = (adminStatus: boolean) => {\r\n    try {\r\n      const expiryTime = Date.now() + (30 * 60 * 1000) // 30 minutes\r\n      localStorage.setItem(ADMIN_CACHE_KEY, adminStatus.toString())\r\n      localStorage.setItem(ADMIN_CACHE_EXPIRY, expiryTime.toString())\r\n    } catch (error) {\r\n      // Silently handle cache errors\r\n    }\r\n  }\r\n\r\n  // Check if user is admin - wait for both auth and admin loading to complete\r\n  useEffect(() => {\r\n    const checkAdminStatus = () => {\r\n    //   debugAdminState('checkAdminStatus', {\r\n    //     authLoading,\r\n    //     user: !!user,\r\n    //     profile: profile,\r\n    //     profileRole: profile?.role\r\n    //   })\r\n\r\n      // Don't make admin determination until auth is fully loaded\r\n      if (authLoading) {\r\n        return\r\n      }\r\n\r\n      // Clear admin status and cache if no user\r\n      if (!user) {\r\n        setIsAdmin(false)\r\n        localStorage.removeItem(ADMIN_CACHE_KEY)\r\n        localStorage.removeItem(ADMIN_CACHE_EXPIRY)\r\n        setLoading(false)\r\n        return\r\n      }\r\n      \r\n      // Wait for profile to be loaded before determining admin status\r\n      if (profile) {\r\n        const adminStatus = profile.role === 'admin'\r\n        //debugAdminState('setting admin status', { adminStatus, role: profile.role })\r\n        setIsAdmin(adminStatus)\r\n        cacheAdminStatus(adminStatus)\r\n        setLoading(false)\r\n      } else if (profile === null) {\r\n        // Profile is explicitly null (user exists but no profile)\r\n        //debugAdminState('no profile found', { user: !!user })\r\n        setIsAdmin(false)\r\n        cacheAdminStatus(false)\r\n        setLoading(false)\r\n      }\r\n      // If profile is undefined, keep loading until we get a definitive result\r\n    }\r\n\r\n    checkAdminStatus()\r\n  }, [profile, authLoading, user])\r\n\r\n  // Add listener for auth state changes to refresh admin status\r\n  useEffect(() => {\r\n    const handleAuthStateChange = () => {\r\n      // When auth state changes, clear cache and re-check admin status\r\n      localStorage.removeItem(ADMIN_CACHE_KEY)\r\n      localStorage.removeItem(ADMIN_CACHE_EXPIRY)\r\n      \r\n      if (!user) {\r\n        setIsAdmin(false)\r\n        setLoading(false)\r\n      }\r\n    }\r\n\r\n    // Listen for session changes\r\n    const { data: { subscription } } = supabase.auth.onAuthStateChange(handleAuthStateChange)\r\n    \r\n    return () => subscription.unsubscribe()\r\n  }, [user])\r\n\r\n  // Admin Statistics\r\n  const getAdminStats = async (): Promise<AdminStats> => {\r\n    try {\r\n      // Check Supabase connection first\r\n      const { error: healthError } = await supabase.auth.getSession()\r\n      if (healthError) {\r\n        console.error('Supabase connection error:', healthError)\r\n        throw new Error(`Supabase connection failed: ${healthError.message}`)\r\n      }\r\n\r\n      console.log('Fetching admin stats from Supabase...')\r\n      \r\n      const [\r\n        usersResult,\r\n        productsResult,\r\n        ordersResult,\r\n        revenueResult,\r\n        pendingOrdersResult,\r\n        contactsResult\r\n      ] = await Promise.all([\r\n        supabase.from('user_profiles').select('id', { count: 'exact', head: true }),\r\n        supabase.from('products').select('id', { count: 'exact', head: true }),\r\n        supabase.from('orders').select('id', { count: 'exact', head: true }),\r\n        supabase\r\n          .from('orders')\r\n          .select('total_amount')\r\n          .eq('status', 'completed'),\r\n        supabase\r\n          .from('orders')\r\n          .select('id', { count: 'exact', head: true })\r\n          .eq('status', 'pending'),\r\n        supabase\r\n          .from('contact_submissions')\r\n          .select('id', { count: 'exact', head: true })\r\n          .eq('status', 'new')\r\n      ])\r\n\r\n      // Check for specific errors in each query\r\n      if (usersResult.error) {\r\n        console.error('Users query error:', usersResult.error)\r\n        console.error('Users error details:', {\r\n          message: usersResult.error.message,\r\n          details: usersResult.error.details,\r\n          hint: usersResult.error.hint,\r\n          code: usersResult.error.code\r\n        })\r\n      }\r\n\r\n      if (productsResult.error) {\r\n        console.error('Products query error:', productsResult.error)\r\n      }\r\n\r\n      if (ordersResult.error) {\r\n        console.error('Orders query error:', ordersResult.error)\r\n      }\r\n\r\n      if (revenueResult.error) {\r\n        console.error('Revenue query error:', revenueResult.error)\r\n      }\r\n\r\n      if (pendingOrdersResult.error) {\r\n        console.error('Pending orders query error:', pendingOrdersResult.error)\r\n      }\r\n\r\n      if (contactsResult.error) {\r\n        console.error('Contacts query error:', contactsResult.error)\r\n      }\r\n\r\n      const totalRevenue = revenueResult.data?.reduce(\r\n        (sum, order) => sum + parseFloat(order.total_amount.toString()),\r\n        0\r\n      ) || 0\r\n\r\n      return {\r\n        totalUsers: usersResult.count || 0,\r\n        totalProducts: productsResult.count || 0,\r\n        totalOrders: ordersResult.count || 0,\r\n        totalRevenue,\r\n        pendingOrders: pendingOrdersResult.count || 0,\r\n        newContactSubmissions: contactsResult.count || 0\r\n      }\r\n    } catch (error) {\r\n      console.error('Error fetching admin stats:', error)\r\n      \r\n      // Check if it's a 503 Service Unavailable error\r\n      if (error && typeof error === 'object' && 'message' in error) {\r\n        const errorMessage = (error as any).message || ''\r\n        if (errorMessage.includes('503') || errorMessage.includes('Service Unavailable')) {\r\n          console.error('ðŸ”´ Supabase 503 Error - Possible causes:')\r\n          console.error('   â€¢ Project may be paused (free tier)')\r\n          console.error('   â€¢ Database connection issues')\r\n          console.error('   â€¢ Temporary service outage')\r\n          console.error('   â€¢ Check your Supabase dashboard: https://supabase.com/dashboard')\r\n        }\r\n      }\r\n      \r\n      throw error\r\n    }\r\n  }\r\n\r\n  // User Management with retry logic\r\n  const getUsers = async () => {\r\n    const maxRetries = 3\r\n    let lastError = null\r\n    \r\n    for (let retry = 0; retry < maxRetries; retry++) {\r\n      try {\r\n        debugAdminState('fetching users', { retry, maxRetries })\r\n        \r\n        // Get user profiles with auth data from profiles table\r\n        const { data: profiles, error } = await supabase\r\n          .from('user_profiles')\r\n          .select(`\r\n            user_id,\r\n            email,\r\n            full_name,\r\n            avatar_url,\r\n            role,\r\n            is_active,\r\n            created_at,\r\n            updated_at\r\n          `)\r\n          .order('created_at', { ascending: false })\r\n\r\n        if (error) {\r\n          lastError = error\r\n          console.error('Supabase error on retry', retry, ':', error)\r\n          \r\n          // If this is a permissions/RLS error, don't retry\r\n          if (error.code === 'PGRST301' || error.message.includes('RLS')) {\r\n            throw error\r\n          }\r\n          \r\n          // Wait before retrying\r\n          if (retry < maxRetries - 1) {\r\n            await new Promise(resolve => setTimeout(resolve, (retry + 1) * 1000))\r\n            continue\r\n          }\r\n          \r\n          throw error\r\n        }\r\n\r\n        debugAdminState('users fetched successfully', { count: profiles?.length || 0 })\r\n\r\n        // Transform profile data to match AdminUser interface\r\n        const usersWithProfiles = profiles?.map((profile: any) => {\r\n          const [firstName, lastName] = (profile.full_name || '').split(' ')\r\n          \r\n          return {\r\n            id: profile.user_id,\r\n            email: profile.email || '',\r\n            first_name: firstName || null,\r\n            last_name: lastName || null,\r\n            avatar_url: profile.avatar_url || null,\r\n            role: (profile.role as 'user' | 'admin') || 'user',\r\n            is_active: profile.is_active ?? true,\r\n            created_at: profile.created_at,\r\n            last_sign_in_at: null, // Not available from profiles table\r\n            email_confirmed_at: null // Not available from profiles table\r\n          }\r\n        }) || []\r\n\r\n        return usersWithProfiles\r\n      } catch (error) {\r\n        lastError = error\r\n        console.error('Error fetching users on retry', retry, ':', error)\r\n        \r\n        // If this is the last retry, throw the error\r\n        if (retry === maxRetries - 1) {\r\n          if (error instanceof Error && error.message.includes('column')) {\r\n            throw new Error('User profiles table is missing required columns. Please run the database update script.')\r\n          }\r\n          throw error\r\n        }\r\n        \r\n        // Wait before retrying\r\n        await new Promise(resolve => setTimeout(resolve, (retry + 1) * 1000))\r\n      }\r\n    }\r\n    \r\n    throw lastError || new Error('Failed to fetch users after multiple retries')\r\n  }\r\n\r\n  const updateUser = async (userId: string, updates: Partial<User>) => {\r\n    try {\r\n      const { data, error } = await supabase\r\n        .from('user_profiles')\r\n        .update(updates)\r\n        .eq('user_id', userId)\r\n        .select()\r\n        .single()\r\n\r\n      if (error) throw error\r\n\r\n      // Log admin activity\r\n      await supabase.rpc('log_admin_activity', {\r\n        p_action: 'update_user',\r\n        p_table_name: 'user_profiles',\r\n        p_record_id: userId,\r\n        p_new_values: updates\r\n      })\r\n\r\n      return { data, error: null }\r\n    } catch (error) {\r\n      console.error('Error updating user:', error)\r\n      return { data: null, error }\r\n    }\r\n  }\r\n\r\n  const deleteUser = async (userId: string) => {\r\n    try {\r\n      const { error } = await supabase.auth.admin.deleteUser(userId)\r\n      if (error) throw error\r\n\r\n      // Log admin activity\r\n      await supabase.rpc('log_admin_activity', {\r\n        p_action: 'delete_user',\r\n        p_table_name: 'user_profiles',\r\n        p_record_id: userId\r\n      })\r\n\r\n      return { error: null }\r\n    } catch (error) {\r\n      console.error('Error deleting user:', error)\r\n      return { error }\r\n    }\r\n  }\r\n\r\n  // Product Management with retry logic\r\n  const getProducts = async (): Promise<Product[]> => {\r\n    const maxRetries = 3\r\n    let lastError = null\r\n    \r\n    for (let retry = 0; retry < maxRetries; retry++) {\r\n      try {\r\n        debugAdminState('fetching products', { retry, maxRetries })\r\n        \r\n        const { data, error } = await supabase\r\n          .from('products')\r\n          .select(`\r\n            *,\r\n            category:categories(name, slug)\r\n          `)\r\n          .order('created_at', { ascending: false })\r\n\r\n        if (error) {\r\n          lastError = error\r\n          console.error('Supabase error on retry', retry, ':', error)\r\n          \r\n          // If this is a permissions/RLS error, don't retry\r\n          if (error.code === 'PGRST301' || error.message.includes('RLS')) {\r\n            throw error\r\n          }\r\n          \r\n          // Wait before retrying\r\n          if (retry < maxRetries - 1) {\r\n            await new Promise(resolve => setTimeout(resolve, (retry + 1) * 1000))\r\n            continue\r\n          }\r\n          \r\n          throw error\r\n        }\r\n\r\n        debugAdminState('products fetched successfully', { count: data?.length || 0 })\r\n        return data || []\r\n      } catch (error) {\r\n        lastError = error\r\n        console.error('Error fetching products on retry', retry, ':', error)\r\n        \r\n        // If this is the last retry, throw the error\r\n        if (retry === maxRetries - 1) {\r\n          throw error\r\n        }\r\n        \r\n        // Wait before retrying\r\n        await new Promise(resolve => setTimeout(resolve, (retry + 1) * 1000))\r\n      }\r\n    }\r\n    \r\n    throw lastError || new Error('Failed to fetch products after multiple retries')\r\n  }\r\n\r\n  const createProduct = async (product: Omit<Product, 'id' | 'created_at' | 'updated_at'>) => {\r\n    try {\r\n      const { data, error } = await supabase\r\n        .from('products')\r\n        .insert(product)\r\n        .select()\r\n        .single()\r\n\r\n      if (error) throw error\r\n\r\n      // Log admin activity\r\n      await supabase.rpc('log_admin_activity', {\r\n        p_action: 'create_product',\r\n        p_table_name: 'products',\r\n        p_record_id: data.id,\r\n        p_new_values: product\r\n      })\r\n\r\n      return { data, error: null }\r\n    } catch (error) {\r\n      console.error('Error creating product:', error)\r\n      return { data: null, error }\r\n    }\r\n  }\r\n\r\n  const updateProduct = async (productId: string, updates: Partial<Product>) => {\r\n    try {\r\n      const { data, error } = await supabase\r\n        .from('products')\r\n        .update(updates)\r\n        .eq('id', productId)\r\n        .select()\r\n        .single()\r\n\r\n      if (error) throw error\r\n\r\n      // Log admin activity\r\n      await supabase.rpc('log_admin_activity', {\r\n        p_action: 'update_product',\r\n        p_table_name: 'products',\r\n        p_record_id: productId,\r\n        p_new_values: updates\r\n      })\r\n\r\n      return { data, error: null }\r\n    } catch (error) {\r\n      console.error('Error updating product:', error)\r\n      return { data: null, error }\r\n    }\r\n  }\r\n\r\n  const deleteProduct = async (productId: string) => {\r\n    try {\r\n      const { error } = await supabase\r\n        .from('products')\r\n        .delete()\r\n        .eq('id', productId)\r\n\r\n      if (error) throw error\r\n\r\n      // Log admin activity\r\n      await supabase.rpc('log_admin_activity', {\r\n        p_action: 'delete_product',\r\n        p_table_name: 'products',\r\n        p_record_id: productId\r\n      })\r\n\r\n      return { error: null }\r\n    } catch (error) {\r\n      console.error('Error deleting product:', error)\r\n      return { error }\r\n    }\r\n  }\r\n\r\n  // Order Management\r\n  const getOrders = async (): Promise<Order[]> => {\r\n    try {\r\n      console.log('Starting getOrders...')\r\n      \r\n      // First, check if orders table exists by trying a simple query\r\n      const { data: ordersData, error: ordersError } = await supabase\r\n        .from('orders')\r\n        .select('*')\r\n        .order('created_at', { ascending: false })\r\n\r\n      if (ordersError) {\r\n        console.error('Error fetching orders:', ordersError)\r\n        \r\n        // If table doesn't exist, return empty array instead of throwing\r\n        if (ordersError.message.includes('table') || ordersError.message.includes('does not exist')) {\r\n          console.warn('Orders table does not exist, returning empty array')\r\n          return []\r\n        }\r\n        \r\n        throw ordersError\r\n      }\r\n\r\n      console.log('Orders fetched:', ordersData?.length || 0)\r\n\r\n      if (!ordersData || ordersData.length === 0) {\r\n        console.log('No orders found, returning empty array')\r\n        return []\r\n      }\r\n\r\n      // Get unique user IDs from orders\r\n      const userIds = [...new Set(ordersData.map(order => order.user_id))]\r\n      console.log('User IDs to fetch:', userIds)\r\n\r\n      let userProfilesMap = new Map()\r\n\r\n      // Try to fetch user profiles, but don't fail if table doesn't exist\r\n      try {\r\n        const { data: userProfiles, error: userError } = await supabase\r\n          .from('user_profiles')\r\n          .select('user_id, full_name, email')\r\n          .in('user_id', userIds)\r\n\r\n        if (userError) {\r\n          console.error('Error fetching user profiles:', userError)\r\n        } else {\r\n          console.log('User profiles fetched:', userProfiles?.length || 0)\r\n          \r\n          // Create a map of user profiles for quick lookup\r\n          if (userProfiles) {\r\n            userProfiles.forEach(profile => {\r\n              userProfilesMap.set(profile.user_id, profile)\r\n            })\r\n          }\r\n        }\r\n      } catch (profileError) {\r\n        console.warn('Could not fetch user profiles:', profileError)\r\n      }\r\n\r\n      let orderItemsMap = new Map()\r\n\r\n      // Try to fetch order items, but don't fail if table doesn't exist\r\n      try {\r\n        const orderIds = ordersData.map(order => order.id)\r\n        console.log('Order IDs to fetch items for:', orderIds)\r\n        \r\n        const { data: orderItems, error: itemsError } = await supabase\r\n          .from('order_items')\r\n          .select(`\r\n            id,\r\n            order_id,\r\n            product_id,\r\n            price,\r\n            quantity,\r\n            products(title)\r\n          `)\r\n          .in('order_id', orderIds)\r\n\r\n        if (itemsError) {\r\n          console.error('Error fetching order items:', itemsError)\r\n        } else {\r\n          console.log('Order items fetched:', orderItems?.length || 0)\r\n          \r\n          // Create a map of order items grouped by order_id\r\n          if (orderItems) {\r\n            orderItems.forEach(item => {\r\n              if (!orderItemsMap.has(item.order_id)) {\r\n                orderItemsMap.set(item.order_id, [])\r\n              }\r\n              orderItemsMap.get(item.order_id).push(item)\r\n            })\r\n          }\r\n        }\r\n      } catch (itemsError) {\r\n        console.warn('Could not fetch order items:', itemsError)\r\n      }\r\n\r\n      // Combine all data\r\n      const enrichedOrders = ordersData.map(order => ({\r\n        ...order,\r\n        user_profiles: userProfilesMap.get(order.user_id) || null,\r\n        order_items: orderItemsMap.get(order.id) || []\r\n      }))\r\n\r\n      console.log('Enriched orders prepared:', enrichedOrders.length)\r\n      return enrichedOrders\r\n    } catch (error) {\r\n      console.error('Error fetching orders:', error)\r\n      \r\n      // If it's a table not found error, return empty array instead of throwing\r\n      if (error instanceof Error && (error.message.includes('table') || error.message.includes('does not exist'))) {\r\n        console.warn('Database tables not found, returning empty array')\r\n        return []\r\n      }\r\n      \r\n      throw error\r\n    }\r\n  }\r\n\r\n  const updateOrder = async (orderId: string, updates: { status?: string; notes?: string | null }) => {\r\n    try {\r\n      const { data, error } = await supabase\r\n        .from('orders')\r\n        .update(updates)\r\n        .eq('id', orderId)\r\n        .select()\r\n        .single()\r\n\r\n      if (error) throw error\r\n\r\n      // Log admin activity\r\n      await supabase.rpc('log_admin_activity', {\r\n        p_action: 'update_order',\r\n        p_table_name: 'orders',\r\n        p_record_id: orderId,\r\n        p_new_values: updates\r\n      })\r\n\r\n      return { data, error: null }\r\n    } catch (error) {\r\n      console.error('Error updating order:', error)\r\n      return { data: null, error }\r\n    }\r\n  }\r\n\r\n  // Contact Submissions Management\r\n  const getContactSubmissions = async (): Promise<ContactSubmission[]> => {\r\n    try {\r\n      const { data, error } = await supabase\r\n        .from('contact_submissions')\r\n        .select('*')\r\n        .order('submitted_at', { ascending: false })\r\n\r\n      if (error) throw error\r\n      return data || []\r\n    } catch (error) {\r\n      console.error('Error fetching contact submissions:', error)\r\n      throw error\r\n    }\r\n  }\r\n\r\n  const updateContactSubmissionStatus = async (submissionId: string, status: 'new' | 'in_progress' | 'resolved') => {\r\n    try {\r\n      const { data, error } = await supabase\r\n        .from('contact_submissions')\r\n        .update({ status })\r\n        .eq('id', submissionId)\r\n        .select()\r\n        .single()\r\n\r\n      if (error) throw error\r\n\r\n      // Log admin activity\r\n      await supabase.rpc('log_admin_activity', {\r\n        p_action: 'update_contact_status',\r\n        p_table_name: 'contact_submissions',\r\n        p_record_id: submissionId,\r\n        p_new_values: { status }\r\n      })\r\n\r\n      return { data, error: null }\r\n    } catch (error) {\r\n      console.error('Error updating contact submission status:', error)\r\n      return { data: null, error }\r\n    }\r\n  }\r\n\r\n  // Categories Management with retry logic\r\n  const getCategories = async (): Promise<Category[]> => {\r\n    const maxRetries = 3\r\n    let lastError = null\r\n    \r\n    for (let retry = 0; retry < maxRetries; retry++) {\r\n      try {\r\n        debugAdminState('fetching categories', { retry, maxRetries })\r\n        \r\n        const { data, error } = await supabase\r\n          .from('categories')\r\n          .select('*')\r\n          .order('name')\r\n\r\n        if (error) {\r\n          lastError = error\r\n          console.error('Supabase error on retry', retry, ':', error)\r\n          \r\n          // If this is a permissions/RLS error, don't retry\r\n          if (error.code === 'PGRST301' || error.message.includes('RLS')) {\r\n            throw error\r\n          }\r\n          \r\n          // Wait before retrying\r\n          if (retry < maxRetries - 1) {\r\n            await new Promise(resolve => setTimeout(resolve, (retry + 1) * 1000))\r\n            continue\r\n          }\r\n          \r\n          throw error\r\n        }\r\n\r\n        debugAdminState('categories fetched successfully', { count: data?.length || 0 })\r\n        return data || []\r\n      } catch (error) {\r\n        lastError = error\r\n        console.error('Error fetching categories on retry', retry, ':', error)\r\n        \r\n        // If this is the last retry, throw the error\r\n        if (retry === maxRetries - 1) {\r\n          throw error\r\n        }\r\n        \r\n        // Wait before retrying\r\n        await new Promise(resolve => setTimeout(resolve, (retry + 1) * 1000))\r\n      }\r\n    }\r\n    \r\n    throw lastError || new Error('Failed to fetch categories after multiple retries')\r\n  }\r\n\r\n  const createCategory = async (category: { name: string; slug: string; description?: string }) => {\r\n    try {\r\n      const { data, error } = await supabase\r\n        .from('categories')\r\n        .insert({\r\n          name: category.name,\r\n          slug: category.slug,\r\n          description: category.description || null,\r\n          is_active: true\r\n        })\r\n        .select()\r\n        .single()\r\n\r\n      if (error) throw error\r\n\r\n      return { data, error: null }\r\n    } catch (error) {\r\n      console.error('Error creating category:', error)\r\n      return { data: null, error }\r\n    }\r\n  }\r\n\r\n  const updateCategory = async (categoryId: string, updates: { name?: string; slug?: string; description?: string; is_active?: boolean }) => {\r\n    try {\r\n      const { data, error } = await supabase\r\n        .from('categories')\r\n        .update(updates)\r\n        .eq('id', categoryId)\r\n        .select()\r\n        .single()\r\n\r\n      if (error) throw error\r\n      return { data, error: null }\r\n    } catch (error) {\r\n      console.error('Error updating category:', error)\r\n      return { data: null, error }\r\n    }\r\n  }\r\n\r\n  const deleteCategory = async (categoryId: string) => {\r\n    try {\r\n      const { error } = await supabase\r\n        .from('categories')\r\n        .delete()\r\n        .eq('id', categoryId)\r\n\r\n      if (error) throw error\r\n      return { error: null }\r\n    } catch (error) {\r\n      console.error('Error deleting category:', error)\r\n      return { error }\r\n    }\r\n  }\r\n\r\n  // Image Upload Management\r\n  const uploadProductImage = async (file: File): Promise<{ url: string | null; error: any }> => {\r\n    try {\r\n      // Validate file type and size\r\n      const allowedTypes = ['image/jpeg', 'image/jpg', 'image/png', 'image/gif', 'image/webp']\r\n      if (!allowedTypes.includes(file.type)) {\r\n        return { url: null, error: { message: 'Invalid file type. Please upload a valid image file.' } }\r\n      }\r\n\r\n      if (file.size > 10485760) { // 10MB\r\n        return { url: null, error: { message: 'File size too large. Please upload an image smaller than 10MB.' } }\r\n      }\r\n\r\n      // Generate unique filename\r\n      const fileExt = file.name.split('.').pop()\r\n      const fileName = `${Date.now()}-${Math.random().toString(36).substring(2)}.${fileExt}`\r\n      const filePath = `product-images/${fileName}`\r\n\r\n      // Try to upload file to Supabase Storage\r\n      // Note: We'll skip bucket creation as it requires admin privileges\r\n      const { error: uploadError } = await supabase.storage\r\n        .from('images')\r\n        .upload(filePath, file, {\r\n          cacheControl: '3600',\r\n          upsert: false\r\n        })\r\n\r\n      if (uploadError) {\r\n        console.error('Error uploading image:', uploadError)\r\n        \r\n        // If bucket doesn't exist, provide helpful message\r\n        if (uploadError.message?.includes('Bucket not found')) {\r\n          return { \r\n            url: null, \r\n            error: { \r\n              message: 'Storage bucket not found. Please create an \"images\" bucket in your Supabase dashboard under Storage.' \r\n            } \r\n          }\r\n        }\r\n\r\n        // If RLS policy error, provide helpful message\r\n        if (uploadError.message?.includes('row-level security') || uploadError.message?.includes('policy')) {\r\n          return { \r\n            url: null, \r\n            error: { \r\n              message: 'Storage permissions error. Please check your Supabase storage policies or contact an administrator.' \r\n            } \r\n          }\r\n        }\r\n\r\n        return { url: null, error: uploadError }\r\n      }\r\n\r\n      // Get public URL\r\n      const { data } = supabase.storage\r\n        .from('images')\r\n        .getPublicUrl(filePath)\r\n\r\n      return { url: data.publicUrl, error: null }\r\n    } catch (error) {\r\n      console.error('Error in uploadProductImage:', error)\r\n      return { url: null, error }\r\n    }\r\n  }\r\n\r\n  const deleteProductImage = async (imageUrl: string): Promise<{ error: any }> => {\r\n    try {\r\n      // Extract file path from URL\r\n      const url = new URL(imageUrl)\r\n      const pathSegments = url.pathname.split('/')\r\n      const filePath = pathSegments.slice(-2).join('/') // Get 'product-images/filename'\r\n\r\n      const { error } = await supabase.storage\r\n        .from('images')\r\n        .remove([filePath])\r\n\r\n      if (error) {\r\n        console.error('Error deleting image:', error)\r\n        return { error }\r\n      }\r\n\r\n      return { error: null }\r\n    } catch (error) {\r\n      console.error('Error in deleteProductImage:', error)\r\n      return { error }\r\n    }\r\n  }\r\n\r\n  // Diagnostic function to test Supabase connection\r\n  const diagnoseSupabase = async () => {\r\n    console.log('ðŸ” Running Supabase Diagnostics...')\r\n    await checkSupabaseStatus()\r\n    return await testSupabaseConnection()\r\n  }\r\n\r\n  return {\r\n    isAdmin,\r\n    loading,\r\n    // Statistics\r\n    getAdminStats,\r\n    // User management\r\n    getUsers,\r\n    updateUser,\r\n    deleteUser,\r\n    // Product management\r\n    getProducts,\r\n    createProduct,\r\n    updateProduct,\r\n    deleteProduct,\r\n    // Order management\r\n    getOrders,\r\n    updateOrder,\r\n    // Contact submissions\r\n    getContactSubmissions,\r\n    updateContactSubmissionStatus,\r\n    // Categories\r\n    getCategories,\r\n    createCategory,\r\n    updateCategory,\r\n    deleteCategory,\r\n    // Image upload\r\n    uploadProductImage,\r\n    deleteProductImage,\r\n    // Diagnostics\r\n    diagnoseSupabase\r\n  }\r\n}\r\n\r\nexport type { Order, Category }\r\n","import { useState, useEffect } from 'react'\r\nimport { Link, useLocation } from 'react-router-dom'\r\nimport { motion, AnimatePresence } from 'framer-motion'\r\nimport { \r\n  LayoutDashboard,\r\n  Package,\r\n  Tag,\r\n  Users,\r\n  ShoppingCart,\r\n  Mail,\r\n  Menu,\r\n  X,\r\n  ChevronRight\r\n} from 'lucide-react'\r\n\r\ninterface AdminSidebarProps {\r\n  className?: string\r\n}\r\n\r\nexport default function AdminSidebar({ className = '' }: AdminSidebarProps) {\r\n  const location = useLocation()\r\n  const [isMobileMenuOpen, setIsMobileMenuOpen] = useState(false)\r\n  const [isDesktop, setIsDesktop] = useState(false)\r\n\r\n  useEffect(() => {\r\n    const checkIsDesktop = () => {\r\n      setIsDesktop(window.innerWidth >= 1024)\r\n    }\r\n    \r\n    checkIsDesktop()\r\n    window.addEventListener('resize', checkIsDesktop)\r\n    \r\n    return () => window.removeEventListener('resize', checkIsDesktop)\r\n  }, [])\r\n\r\n  const navigationItems = [\r\n    {\r\n      title: 'Dashboard',\r\n      href: '/admin',\r\n      icon: LayoutDashboard,\r\n      description: 'Overview & Analytics'\r\n    },\r\n    {\r\n      title: 'Products',\r\n      href: '/admin/products',\r\n      icon: Package,\r\n      description: 'Manage Templates'\r\n    },\r\n    {\r\n      title: 'Categories',\r\n      href: '/admin/categories',\r\n      icon: Tag,\r\n      description: 'Product Categories'\r\n    },\r\n    {\r\n      title: 'Users',\r\n      href: '/admin/users',\r\n      icon: Users,\r\n      description: 'User Accounts'\r\n    },\r\n    {\r\n      title: 'Orders',\r\n      href: '/admin/orders',\r\n      icon: ShoppingCart,\r\n      description: 'Order Management'\r\n    },\r\n    {\r\n      title: 'Messages',\r\n      href: '/admin/contacts',\r\n      icon: Mail,\r\n      description: 'Customer Messages'\r\n    }\r\n  ]\r\n\r\n  const isActiveRoute = (href: string) => {\r\n    if (href === '/admin') {\r\n      return location.pathname === '/admin'\r\n    }\r\n    return location.pathname.startsWith(href)\r\n  }\r\n\r\n  const toggleMobileMenu = () => {\r\n    setIsMobileMenuOpen(!isMobileMenuOpen)\r\n  }\r\n\r\n  const closeMobileMenu = () => {\r\n    setIsMobileMenuOpen(false)\r\n  }\r\n\r\n  return (\r\n    <>\r\n      {/* Mobile Menu Button */}\r\n      <button\r\n        onClick={toggleMobileMenu}\r\n        className=\"fixed top-24 left-4 z-50 lg:hidden bg-code-gray-light border border-gray-700 rounded-lg p-2 text-white hover:bg-code-gray transition-colors\"\r\n      >\r\n        {isMobileMenuOpen ? <X className=\"w-5 h-5\" /> : <Menu className=\"w-5 h-5\" />}\r\n      </button>\r\n\r\n      {/* Backdrop for mobile */}\r\n      <AnimatePresence>\r\n        {isMobileMenuOpen && (\r\n          <motion.div\r\n            initial={{ opacity: 0 }}\r\n            animate={{ opacity: 1 }}\r\n            exit={{ opacity: 0 }}\r\n            onClick={closeMobileMenu}\r\n            className=\"fixed inset-0 bg-black/50 backdrop-blur-sm z-40 lg:hidden\"\r\n          />\r\n        )}\r\n      </AnimatePresence>\r\n\r\n      {/* Sidebar */}\r\n      <motion.aside\r\n        initial={false}\r\n        animate={{ \r\n          x: isDesktop ? 0 : (isMobileMenuOpen ? 0 : -300),\r\n        }}\r\n        transition={{ type: \"spring\", damping: 25, stiffness: 200 }}\r\n        className={`fixed top-20 left-0 h-[calc(100vh-5rem)] w-64 bg-code-gray-light border-r border-gray-700 z-40 overflow-y-auto lg:static lg:z-auto lg:h-screen lg:top-0 ${className}`}\r\n      >\r\n        <div className=\"p-4 pt-24 lg:pt-24\">\r\n          {/* Sidebar Header */}\r\n          <div className=\"mb-6\">\r\n            <h2 className=\"text-base font-mono text-white mb-1\">Admin Panel</h2>\r\n            <p className=\"text-xs font-mono text-gray-400\">Quick Actions</p>\r\n          </div>\r\n\r\n          {/* Navigation Items */}\r\n          <nav className=\"space-y-1\">\r\n            {navigationItems.map((item) => {\r\n              const isActive = isActiveRoute(item.href)\r\n              const Icon = item.icon\r\n\r\n              return (\r\n                <Link\r\n                  key={item.href}\r\n                  to={item.href}\r\n                  onClick={closeMobileMenu}\r\n                  className={`flex items-center gap-2 p-2 rounded font-mono text-sm transition-all duration-200 group ${\r\n                    isActive\r\n                      ? 'bg-electric-violet text-white shadow-lg shadow-electric-violet/25'\r\n                      : 'text-gray-300 hover:text-white hover:bg-code-gray'\r\n                  }`}\r\n                >\r\n                  <div className={`flex items-center justify-center w-6 h-6 rounded transition-colors ${\r\n                    isActive\r\n                      ? 'bg-white/20'\r\n                      : 'bg-gray-700 group-hover:bg-gray-600'\r\n                  }`}>\r\n                    <Icon className={`w-3 h-3 ${isActive ? 'text-white' : 'text-gray-400 group-hover:text-white'}`} />\r\n                  </div>\r\n                  \r\n                  <div className=\"flex-1 min-w-0\">\r\n                    <div className=\"font-medium truncate\">{item.title}</div>\r\n                  </div>\r\n\r\n                  {isActive && (\r\n                    <ChevronRight className=\"w-3 h-3 text-white/70 flex-shrink-0\" />\r\n                  )}\r\n                </Link>\r\n              )\r\n            })}\r\n          </nav>\r\n\r\n          {/* Footer */}\r\n          <div className=\"mt-6 pt-4 border-t border-gray-700\">\r\n            <p className=\"text-xs font-mono text-gray-500 text-center\">\r\n              Studio <span className=\"cursor-blink\">Nullbyte</span>\r\n            </p>\r\n            <p className=\"text-xs font-mono text-gray-600 text-center\">\r\n              v1.0.0\r\n            </p>\r\n          </div>\r\n        </div>\r\n      </motion.aside>\r\n    </>\r\n  )\r\n}\r\n","import { ReactNode } from 'react'\r\nimport AdminSidebar from './AdminSidebar'\r\n\r\ninterface AdminLayoutProps {\r\n  children: ReactNode\r\n}\r\n\r\nexport default function AdminLayout({ children }: AdminLayoutProps) {\r\n  return (\r\n    <div className=\"min-h-screen bg-black\">\r\n      <div className=\"flex\">\r\n        <AdminSidebar />\r\n        <main className=\"flex-1 w-full min-w-0 pt-20\">\r\n          {children}\r\n        </main>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n","import { useState, useEffect } from 'react'\r\nimport { Helmet } from 'react-helmet-async'\r\nimport { motion } from 'framer-motion'\r\nimport { \r\n  Users, \r\n  Package, \r\n  ShoppingCart, \r\n  DollarSign, \r\n  Clock, \r\n  Mail,\r\n  Activity,\r\n  BarChart3\r\n} from 'lucide-react'\r\nimport { useAdmin } from '../hooks/useAdmin'\r\nimport { useNavigate } from 'react-router-dom'\r\nimport AdminLayout from '../components/AdminLayout'\r\n\r\ninterface StatCard {\r\n  title: string\r\n  value: string | number\r\n  icon: React.ComponentType<any>\r\n  color: string\r\n  trend?: string\r\n}\r\n\r\nexport default function AdminDashboard() {\r\n  const { isAdmin, loading, getAdminStats } = useAdmin()\r\n  const navigate = useNavigate()\r\n  const [stats, setStats] = useState({\r\n    totalUsers: 0,\r\n    totalProducts: 0,\r\n    totalOrders: 0,\r\n    totalRevenue: 0,\r\n    pendingOrders: 0,\r\n    newContactSubmissions: 0\r\n  })\r\n  const [statsLoading, setStatsLoading] = useState(true)\r\n\r\n  useEffect(() => {\r\n    if (!loading && !isAdmin) {\r\n      navigate('/')\r\n    }\r\n  }, [isAdmin, loading, navigate])\r\n\r\n  useEffect(() => {\r\n    const fetchStats = async () => {\r\n      if (isAdmin) {\r\n        try {\r\n          const adminStats = await getAdminStats()\r\n          setStats(adminStats)\r\n        } catch (error) {\r\n          // Error fetching stats - handle silently\r\n        } finally {\r\n          setStatsLoading(false)\r\n        }\r\n      }\r\n    }\r\n\r\n    fetchStats()\r\n  }, [isAdmin, getAdminStats])\r\n\r\n  if (loading) {\r\n    return (\r\n      <div className=\"min-h-screen bg-black flex items-center justify-center\">\r\n        <div className=\"animate-spin rounded-full h-8 w-8 border-b-2 border-electric-violet\"></div>\r\n      </div>\r\n    )\r\n  }\r\n\r\n  if (!isAdmin) {\r\n    return null\r\n  }\r\n\r\n  const statCards: StatCard[] = [\r\n    {\r\n      title: 'Total Users',\r\n      value: stats.totalUsers,\r\n      icon: Users,\r\n      color: 'bg-blue-500/10 border-blue-500/20 text-blue-400',\r\n      trend: '+12% from last month'\r\n    },\r\n    {\r\n      title: 'Products',\r\n      value: stats.totalProducts,\r\n      icon: Package,\r\n      color: 'bg-green-500/10 border-green-500/20 text-green-400',\r\n      trend: '+3 new this month'\r\n    },\r\n    {\r\n      title: 'Total Orders',\r\n      value: stats.totalOrders,\r\n      icon: ShoppingCart,\r\n      color: 'bg-purple-500/10 border-purple-500/20 text-purple-400',\r\n      trend: '+8% from last month'\r\n    },\r\n    {\r\n      title: 'Revenue',\r\n      value: `$${stats.totalRevenue.toFixed(2)}`,\r\n      icon: DollarSign,\r\n      color: 'bg-electric-violet/10 border-electric-violet/20 text-electric-violet',\r\n      trend: '+15% from last month'\r\n    },\r\n    {\r\n      title: 'Pending Orders',\r\n      value: stats.pendingOrders,\r\n      icon: Clock,\r\n      color: 'bg-yellow-500/10 border-yellow-500/20 text-yellow-400',\r\n      trend: 'Needs attention'\r\n    },\r\n    {\r\n      title: 'New Messages',\r\n      value: stats.newContactSubmissions,\r\n      icon: Mail,\r\n      color: 'bg-red-500/10 border-red-500/20 text-red-400',\r\n      trend: 'Unread submissions'\r\n    }\r\n  ]\r\n\r\n  return (\r\n    <AdminLayout>\r\n      <Helmet>\r\n        <title>Admin Dashboard - Studio Nullbyte</title>\r\n        <meta name=\"description\" content=\"Studio Nullbyte admin dashboard for managing templates, users, and orders.\" />\r\n        <meta name=\"robots\" content=\"noindex, nofollow\" />\r\n      </Helmet>\r\n\r\n      <div className=\"pb-6\">\r\n        <div className=\"w-full px-4 py-6\">\r\n          <motion.div\r\n            initial={{ opacity: 0, y: 20 }}\r\n            animate={{ opacity: 1, y: 0 }}\r\n            className=\"w-full\"\r\n          >\r\n            {/* Header */}\r\n            <div className=\"mb-8\">\r\n              <div className=\"flex items-center justify-between mb-4\">\r\n                <div className=\"flex items-center gap-3\">\r\n                  <Activity className=\"w-6 h-6 text-electric-violet\" />\r\n                  <h1 className=\"text-3xl font-mono text-white\">Admin Dashboard</h1>\r\n                </div>\r\n              </div>\r\n              <p className=\"text-gray-400 font-mono\">\r\n                Manage templates, users, and orders for Studio Nullbyte\r\n              </p>\r\n            </div>\r\n\r\n            {/* Stats Grid */}\r\n            <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 mb-8\">\r\n              {statCards.map((card, index) => {\r\n                const Icon = card.icon\r\n                return (\r\n                  <motion.div\r\n                    key={card.title}\r\n                    initial={{ opacity: 0, y: 20 }}\r\n                    animate={{ opacity: 1, y: 0 }}\r\n                    transition={{ delay: index * 0.1 }}\r\n                    className={`bg-code-gray-light border rounded-lg p-6 ${card.color}`}\r\n                  >\r\n                    <div className=\"flex items-center justify-between mb-4\">\r\n                      <Icon className=\"w-8 h-8\" />\r\n                      <span className=\"text-2xl font-mono font-bold\">\r\n                        {statsLoading ? '...' : card.value}\r\n                      </span>\r\n                    </div>\r\n                    <h3 className=\"text-white font-mono text-sm mb-1\">{card.title}</h3>\r\n                    {card.trend && (\r\n                      <p className=\"text-gray-400 font-mono text-xs\">{card.trend}</p>\r\n                    )}\r\n                  </motion.div>\r\n                )\r\n              })}\r\n            </div>\r\n\r\n            {/* Recent Activity */}\r\n            <motion.div\r\n              initial={{ opacity: 0, y: 20 }}\r\n              animate={{ opacity: 1, y: 0 }}\r\n              transition={{ delay: 1 }}\r\n              className=\"bg-code-gray-light border border-gray-700 rounded-lg p-6\"\r\n            >\r\n              <h2 className=\"text-xl font-mono text-white mb-4 flex items-center gap-2\">\r\n                <BarChart3 className=\"w-5 h-5 text-electric-violet\" />\r\n                System Overview\r\n              </h2>\r\n              \r\n              <div className=\"grid grid-cols-1 lg:grid-cols-2 gap-6\">\r\n                {/* Recent Orders Summary */}\r\n                <div className=\"bg-code-gray border border-gray-600 rounded p-4\">\r\n                  <h3 className=\"text-white font-mono mb-3\">Recent Activity</h3>\r\n                  <div className=\"space-y-3\">\r\n                    <div className=\"flex items-center justify-between text-sm\">\r\n                      <span className=\"text-gray-400 font-mono\">New orders today</span>\r\n                      <span className=\"text-electric-violet font-mono\">\r\n                        {statsLoading ? '...' : Math.floor(stats.totalOrders * 0.1)}\r\n                      </span>\r\n                    </div>\r\n                    <div className=\"flex items-center justify-between text-sm\">\r\n                      <span className=\"text-gray-400 font-mono\">Products sold this week</span>\r\n                      <span className=\"text-green-400 font-mono\">\r\n                        {statsLoading ? '...' : Math.floor(stats.totalOrders * 0.3)}\r\n                      </span>\r\n                    </div>\r\n                    <div className=\"flex items-center justify-between text-sm\">\r\n                      <span className=\"text-gray-400 font-mono\">New users this month</span>\r\n                      <span className=\"text-blue-400 font-mono\">\r\n                        {statsLoading ? '...' : Math.floor(stats.totalUsers * 0.2)}\r\n                      </span>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n\r\n                {/* System Status */}\r\n                <div className=\"bg-code-gray border border-gray-600 rounded p-4\">\r\n                  <h3 className=\"text-white font-mono mb-3\">System Status</h3>\r\n                  <div className=\"space-y-3\">\r\n                    <div className=\"flex items-center justify-between text-sm\">\r\n                      <span className=\"text-gray-400 font-mono\">Database</span>\r\n                      <span className=\"text-green-400 font-mono\">â— Online</span>\r\n                    </div>\r\n                    <div className=\"flex items-center justify-between text-sm\">\r\n                      <span className=\"text-gray-400 font-mono\">Authentication</span>\r\n                      <span className=\"text-green-400 font-mono\">â— Active</span>\r\n                    </div>\r\n                    <div className=\"flex items-center justify-between text-sm\">\r\n                      <span className=\"text-gray-400 font-mono\">File Storage</span>\r\n                      <span className=\"text-green-400 font-mono\">â— Ready</span>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </motion.div>\r\n          </motion.div>\r\n        </div>\r\n      </div>\r\n    </AdminLayout>\r\n  )\r\n}\r\n","import { ReactNode, useEffect } from 'react'\r\nimport { useNavigate } from 'react-router-dom'\r\nimport { useAdmin } from '../hooks/useAdmin'\r\nimport { useAuthContext } from '../contexts/AuthContext'\r\n\r\ninterface AdminProtectedRouteProps {\r\n  children: ReactNode\r\n}\r\n\r\nexport default function AdminProtectedRoute({ children }: AdminProtectedRouteProps) {\r\n  const { loading: authLoading } = useAuthContext()\r\n  const { isAdmin, loading: adminLoading } = useAdmin()\r\n  const navigate = useNavigate()\r\n\r\n  // Determine if we're still loading overall\r\n  const isLoading = authLoading || adminLoading\r\n\r\n  // Listen for session expiration events\r\n  useEffect(() => {\r\n    const handleSessionExpired = () => {\r\n      navigate('/', { replace: true })\r\n    }\r\n\r\n    window.addEventListener('session-expired', handleSessionExpired)\r\n    return () => window.removeEventListener('session-expired', handleSessionExpired)\r\n  }, [navigate])\r\n\r\n  useEffect(() => {\r\n    // Only redirect if we're done loading and user is definitely not admin\r\n    if (!isLoading && !isAdmin) {\r\n      navigate('/', { replace: true })\r\n    }\r\n  }, [isLoading, isAdmin, navigate, authLoading, adminLoading])\r\n\r\n  // Show loading while determining auth status\r\n  if (isLoading) {\r\n    return (\r\n      <div className=\"min-h-screen bg-black flex items-center justify-center\">\r\n        <div className=\"text-center\">\r\n          <div className=\"w-8 h-8 border-2 border-electric-violet border-t-transparent rounded-full animate-spin mx-auto mb-4\"></div>\r\n          <p className=\"text-gray-400 font-mono\">Verifying admin access...</p>\r\n        </div>\r\n      </div>\r\n    )\r\n  }\r\n\r\n  // Show nothing if not admin (redirect will happen)\r\n  if (!isAdmin) {\r\n    return (\r\n      <div className=\"min-h-screen bg-black flex items-center justify-center\">\r\n        <div className=\"text-center\">\r\n          <p className=\"text-gray-400 font-mono\">Access denied. Redirecting...</p>\r\n        </div>\r\n      </div>\r\n    )\r\n  }\r\n\r\n  // User is confirmed admin, show the protected content\r\n  return <>{children}</>\r\n}\r\n","import { useState, useEffect } from 'react'\r\n\r\n/**\r\n * Utility functions for handling timeouts and preventing infinite loading states\r\n */\r\n\r\n/**\r\n * Adds a timeout to any promise to prevent infinite waiting\r\n * @param promise The promise to add timeout to\r\n * @param timeoutMs Timeout in milliseconds (default: 8000ms)\r\n * @param operation Description of the operation for logging\r\n */\r\nexport const withTimeout = <T>(\r\n  promise: Promise<T>, \r\n  timeoutMs: number = 8000, \r\n  operation: string = 'operation'\r\n): Promise<T> => {\r\n  const timeoutPromise = new Promise<T>((_, reject) => {\r\n    setTimeout(() => {\r\n      reject(new Error(`${operation} timeout after ${timeoutMs}ms`))\r\n    }, timeoutMs)\r\n  })\r\n\r\n  return Promise.race([promise, timeoutPromise])\r\n}\r\n\r\n/**\r\n * Wraps a Supabase query with timeout protection\r\n * @param query The Supabase query builder\r\n * @param timeoutMs Timeout in milliseconds (default: 5000ms)\r\n * @param operation Description for logging\r\n */\r\nexport const withSupabaseTimeout = async <T>(\r\n  query: any,\r\n  timeoutMs: number = 5000,\r\n  operation: string = 'Supabase query'\r\n): Promise<T> => {\r\n  try {\r\n    const result = await withTimeout(query, timeoutMs, operation) as T\r\n    return result\r\n  } catch (error) {\r\n    if (error instanceof Error && error.message.includes('timeout')) {\r\n      throw new Error(`${operation} timed out - please check your connection`)\r\n    }\r\n    throw error\r\n  }\r\n}\r\n\r\n/**\r\n * Creates a loading state manager with automatic timeout\r\n * @param timeoutMs Timeout in milliseconds\r\n * @param name Name for logging\r\n */\r\nexport const createLoadingManager = (\r\n  timeoutMs: number = 10000\r\n) => {\r\n  let timeoutId: NodeJS.Timeout | null = null\r\n  \r\n  const startTimeout = (setLoading: (loading: boolean) => void) => {\r\n    if (timeoutId) globalThis.clearTimeout(timeoutId)\r\n    \r\n    timeoutId = setTimeout(() => {\r\n      // Loading timeout - forcing to false\r\n      setLoading(false)\r\n    }, timeoutMs)\r\n  }\r\n  \r\n  const clearTimeoutFn = () => {\r\n    if (timeoutId) {\r\n      globalThis.clearTimeout(timeoutId)\r\n      timeoutId = null\r\n    }\r\n  }\r\n  \r\n  const setLoadingWithTimeout = (setLoading: (loading: boolean) => void, loading: boolean) => {\r\n    setLoading(loading)\r\n    if (loading) {\r\n      startTimeout(setLoading)\r\n    } else {\r\n      clearTimeoutFn()\r\n    }\r\n  }\r\n  \r\n  return {\r\n    startTimeout,\r\n    clearTimeout: clearTimeoutFn,\r\n    setLoadingWithTimeout\r\n  }\r\n}\r\n\r\n/**\r\n * Hook for using loading states with automatic timeout protection\r\n */\r\nexport const useLoadingWithTimeout = (\r\n  initialLoading: boolean = true,\r\n  timeoutMs: number = 10000\r\n) => {\r\n  const [loading, setLoading] = useState(initialLoading)\r\n  const manager = createLoadingManager(timeoutMs)\r\n  \r\n  useEffect(() => {\r\n    if (loading) {\r\n      manager.startTimeout(setLoading)\r\n    }\r\n    return () => manager.clearTimeout()\r\n  }, [loading, manager])\r\n  \r\n  const setLoadingWithTimeout = (newLoading: boolean) => {\r\n    manager.setLoadingWithTimeout(setLoading, newLoading)\r\n  }\r\n  \r\n  return [loading, setLoadingWithTimeout] as const\r\n}\r\n","import { useState, useEffect } from 'react'\r\nimport { Helmet } from 'react-helmet-async'\r\nimport { motion } from 'framer-motion'\r\nimport { \r\n  Package, \r\n  Plus, \r\n  Edit3,\r\n  Trash2,\r\n  Eye, \r\n  EyeOff,\r\n  Search,\r\n  Filter,\r\n  Star,\r\n  AlertCircle,\r\n  CheckCircle,\r\n  Save,\r\n  X\r\n} from 'lucide-react'\r\nimport { useAdmin, type Category } from '../hooks/useAdmin'\r\nimport AdminLayout from '../components/AdminLayout'\r\nimport AdminProtectedRoute from '../components/AdminProtectedRoute'\r\nimport { useLoadingWithTimeout } from '../utils/timeouts'\r\n\r\ninterface Product {\r\n  id: string\r\n  title: string\r\n  description: string\r\n  price: number\r\n  category_id: string\r\n  category?: {\r\n    name: string\r\n    slug: string\r\n  }\r\n  image_url: string | null\r\n  download_url: string | null\r\n  preview_url: string | null\r\n  tags: string[]\r\n  featured: boolean\r\n  active: boolean\r\n  created_at: string\r\n  updated_at: string\r\n}\r\n\r\nexport default function AdminProducts() {\r\n  const { \r\n    isAdmin, \r\n    getProducts, \r\n    getCategories, \r\n    createProduct, \r\n    updateProduct, \r\n    deleteProduct,\r\n    uploadProductImage\r\n  } = useAdmin()\r\n  \r\n  const [products, setProducts] = useState<Product[]>([])\r\n  const [categories, setCategories] = useState<Category[]>([])\r\n  const [filteredProducts, setFilteredProducts] = useState<Product[]>([])\r\n  const [productsLoading, setProductsLoading] = useLoadingWithTimeout(true, 8000)\r\n  const [searchTerm, setSearchTerm] = useState('')\r\n  const [selectedCategory, setSelectedCategory] = useState('')\r\n  const [showActiveOnly, setShowActiveOnly] = useState(false)\r\n  const [isFormOpen, setIsFormOpen] = useState(false)\r\n  const [editingProduct, setEditingProduct] = useState<Product | null>(null)\r\n  const [formLoading, setFormLoading] = useState(false)\r\n  const [message, setMessage] = useState('')\r\n  const [error, setError] = useState('')\r\n\r\n  // Image upload state\r\n  const [imageUploadMode, setImageUploadMode] = useState<'url' | 'upload'>('url')\r\n  const [imagePreview, setImagePreview] = useState<string | null>(null)\r\n  const [currentImageFile, setCurrentImageFile] = useState<File | null>(null)\r\n\r\n  // Form state\r\n  const [formData, setFormData] = useState({\r\n    title: '',\r\n    description: '',\r\n    price: '',\r\n    category_id: '',\r\n    image_url: '',\r\n    download_url: '',\r\n    preview_url: '',\r\n    tags: '',\r\n    featured: false,\r\n    active: true\r\n  })\r\n\r\n  // Remove the problematic redirect - AdminProtectedRoute will handle it\r\n  // The old useEffect with navigate('/') was causing premature redirects\r\n\r\n  useEffect(() => {\r\n    const fetchData = async () => {\r\n      if (isAdmin) {\r\n        try {\r\n          const [productsData, categoriesData] = await Promise.all([\r\n            getProducts(),\r\n            getCategories()\r\n          ])\r\n          setProducts(productsData)\r\n          setCategories(categoriesData)\r\n        } catch (error) {\r\n          setError('Failed to load products')\r\n        } finally {\r\n          setProductsLoading(false)\r\n        }\r\n      }\r\n    }\r\n\r\n    fetchData()\r\n  }, [isAdmin, getProducts, getCategories])\r\n\r\n  // Filter products\r\n  useEffect(() => {\r\n    let filtered = products\r\n\r\n    if (searchTerm) {\r\n      filtered = filtered.filter(product => \r\n        product.title.toLowerCase().includes(searchTerm.toLowerCase()) ||\r\n        product.description.toLowerCase().includes(searchTerm.toLowerCase()) ||\r\n        product.tags.some(tag => tag.toLowerCase().includes(searchTerm.toLowerCase()))\r\n      )\r\n    }\r\n\r\n    if (selectedCategory) {\r\n      filtered = filtered.filter(product => product.category_id === selectedCategory)\r\n    }\r\n\r\n    if (showActiveOnly) {\r\n      filtered = filtered.filter(product => product.active)\r\n    }\r\n\r\n    setFilteredProducts(filtered)\r\n  }, [products, searchTerm, selectedCategory, showActiveOnly])\r\n\r\n  const resetForm = () => {\r\n    setFormData({\r\n      title: '',\r\n      description: '',\r\n      price: '',\r\n      category_id: '',\r\n      image_url: '',\r\n      download_url: '',\r\n      preview_url: '',\r\n      tags: '',\r\n      featured: false,\r\n      active: true\r\n    })\r\n    setEditingProduct(null)\r\n    setIsFormOpen(false)\r\n    setError('')\r\n    setMessage('')\r\n    // Clear image-related state\r\n    setCurrentImageFile(null)\r\n    setImagePreview('')\r\n    setImageUploadMode('url')\r\n  }\r\n\r\n  const openCreateForm = () => {\r\n    resetForm()\r\n    setIsFormOpen(true)\r\n  }\r\n\r\n  const openEditForm = (product: Product) => {\r\n    setFormData({\r\n      title: product.title,\r\n      description: product.description,\r\n      price: product.price.toString(),\r\n      category_id: product.category_id,\r\n      image_url: product.image_url || '',\r\n      download_url: product.download_url || '',\r\n      preview_url: product.preview_url || '',\r\n      tags: product.tags.join(', '),\r\n      featured: product.featured,\r\n      active: product.active\r\n    })\r\n    setEditingProduct(product)\r\n    setIsFormOpen(true)\r\n    // Clear any uploaded file since we're starting with existing URL\r\n    setCurrentImageFile(null)\r\n    setImagePreview('')\r\n    // Set mode based on whether there's an existing image URL\r\n    setImageUploadMode(product.image_url ? 'url' : 'url')\r\n  }\r\n\r\n  const handleSubmit = async (e: React.FormEvent) => {\r\n    e.preventDefault()\r\n    setFormLoading(true)\r\n    setError('')\r\n\r\n    try {\r\n      // Handle image upload if file is selected\r\n      let imageUrl = formData.image_url.trim()\r\n      if (currentImageFile) {\r\n        const uploadedUrl = await handleImageUpload()\r\n        if (!uploadedUrl) {\r\n          setFormLoading(false)\r\n          return // Error is already set in handleImageUpload\r\n        }\r\n        imageUrl = uploadedUrl\r\n      }\r\n\r\n      const productData = {\r\n        title: formData.title.trim(),\r\n        description: formData.description.trim(),\r\n        price: parseFloat(formData.price),\r\n        category_id: formData.category_id,\r\n        image_url: imageUrl || null,\r\n        download_url: formData.download_url.trim() || null,\r\n        preview_url: formData.preview_url.trim() || null,\r\n        tags: formData.tags.split(',').map(tag => tag.trim()).filter(tag => tag),\r\n        featured: formData.featured,\r\n        active: formData.active\r\n      }\r\n\r\n      let result\r\n      if (editingProduct) {\r\n        result = await updateProduct(editingProduct.id, productData)\r\n      } else {\r\n        result = await createProduct(productData)\r\n      }\r\n\r\n      if (result.error) {\r\n        setError('Failed to save product')\r\n        console.error('âŒ Failed to save product:', result.error)\r\n      } else {\r\n        setMessage(editingProduct ? 'Product updated successfully!' : 'Product created successfully!')\r\n        \r\n        // Force refresh products list to ensure updated data\r\n        try {\r\n          const updatedProducts = await getProducts()\r\n          setProducts(updatedProducts)\r\n          // Also update filtered products immediately\r\n          setFilteredProducts(updatedProducts)\r\n        } catch (refreshError) {\r\n          // Error refreshing products\r\n        }\r\n        \r\n        setTimeout(() => {\r\n          resetForm()\r\n        }, 1500)\r\n      }\r\n    } catch (error: any) {\r\n      setError(error.message || 'An unexpected error occurred')\r\n    } finally {\r\n      setFormLoading(false)\r\n    }\r\n  }\r\n\r\n  const handleDelete = async (productId: string, productTitle: string) => {\r\n    if (!confirm(`Are you sure you want to delete \"${productTitle}\"? This action cannot be undone.`)) {\r\n      return\r\n    }\r\n\r\n    try {\r\n      const result = await deleteProduct(productId)\r\n      if (result.error) {\r\n        setError('Failed to delete product')\r\n      } else {\r\n        setMessage('Product deleted successfully!')\r\n        \r\n        // Remove from local state\r\n        setProducts(products.filter(p => p.id !== productId))\r\n      }\r\n    } catch (error) {\r\n      setError('An unexpected error occurred')\r\n    }\r\n  }\r\n\r\n  // Image handling functions\r\n  const handleImageFileSelect = (event: React.ChangeEvent<HTMLInputElement>) => {\r\n    const file = event.target.files?.[0]\r\n    if (!file) return\r\n\r\n    // Validate file type\r\n    const validTypes = ['image/jpeg', 'image/jpg', 'image/png', 'image/gif', 'image/webp']\r\n    if (!validTypes.includes(file.type)) {\r\n      setError('Please select a valid image file (JPEG, PNG, GIF, or WebP)')\r\n      return\r\n    }\r\n\r\n    // Validate file size (max 5MB)\r\n    const maxSize = 5 * 1024 * 1024 // 5MB\r\n    if (file.size > maxSize) {\r\n      setError('Image file must be smaller than 5MB')\r\n      return\r\n    }\r\n\r\n    setCurrentImageFile(file)\r\n    \r\n    // Create preview\r\n    const reader = new FileReader()\r\n    reader.onload = (e) => {\r\n      setImagePreview(e.target?.result as string)\r\n    }\r\n    reader.readAsDataURL(file)\r\n\r\n    // Clear any existing URL\r\n    setFormData(prev => ({ ...prev, image_url: '' }))\r\n  }\r\n\r\n  const handleImageUpload = async (): Promise<string | null> => {\r\n    if (!currentImageFile) return null\r\n\r\n    try {\r\n      const { url, error } = await uploadProductImage(currentImageFile)\r\n      if (error) {\r\n        setError('Failed to upload image: ' + (error.message || 'Unknown error'))\r\n        return null\r\n      }\r\n      return url\r\n    } catch (error) {\r\n      setError('Failed to upload image: ' + (error instanceof Error ? error.message : 'Unknown error'))\r\n      return null\r\n    }\r\n  }\r\n\r\n  const handleImageUrlChange = (url: string) => {\r\n    setFormData(prev => ({ ...prev, image_url: url }))\r\n    setImagePreview(url || null)\r\n    setCurrentImageFile(null)\r\n  }\r\n\r\n  const clearImage = () => {\r\n    setImagePreview(null)\r\n    setCurrentImageFile(null)\r\n    setFormData(prev => ({ ...prev, image_url: '' }))\r\n  }\r\n\r\n  if (productsLoading) {\r\n    return (\r\n      <AdminProtectedRoute>\r\n        <div className=\"min-h-screen bg-black flex items-center justify-center\">\r\n          <div className=\"animate-spin rounded-full h-8 w-8 border-b-2 border-electric-violet\"></div>\r\n        </div>\r\n      </AdminProtectedRoute>\r\n    )\r\n  }\r\n\r\n  return (\r\n    <AdminProtectedRoute>\r\n      <AdminLayout>\r\n        <Helmet>\r\n          <title>Manage Products - Admin - Studio Nullbyte</title>\r\n          <meta name=\"robots\" content=\"noindex, nofollow\" />\r\n        </Helmet>\r\n\r\n      <div className=\"pb-6\">\r\n        <div className=\"w-full px-4 py-6\">\r\n          <motion.div\r\n            initial={{ opacity: 0, y: 20 }}\r\n            animate={{ opacity: 1, y: 0 }}\r\n            className=\"w-full\"\r\n          >\r\n            {/* Header */}\r\n            <div className=\"mb-8\">\r\n              <div className=\"flex items-center justify-between mb-4\">\r\n                <div className=\"flex items-center gap-3\">\r\n                  <Package className=\"w-6 h-6 text-electric-violet\" />\r\n                  <h1 className=\"text-3xl font-mono text-white\">Manage Products</h1>\r\n                </div>\r\n                <button\r\n                  onClick={openCreateForm}\r\n                  className=\"flex items-center gap-2 bg-electric-violet hover:bg-electric-violet-light text-white font-mono px-4 py-2 rounded transition-colors\"\r\n                >\r\n                  <Plus className=\"w-4 h-4\" />\r\n                  Add Product\r\n                </button>\r\n              </div>\r\n              <p className=\"text-gray-400 font-mono\">\r\n                Manage your template catalog and product listings\r\n              </p>\r\n            </div>\r\n\r\n            {/* Status Messages */}\r\n            {message && (\r\n              <motion.div\r\n                initial={{ opacity: 0, y: -10 }}\r\n                animate={{ opacity: 1, y: 0 }}\r\n                className=\"flex items-center gap-2 bg-terminal-green/10 border border-terminal-green/30 rounded p-3 mb-6\"\r\n              >\r\n                <CheckCircle className=\"w-4 h-4 text-terminal-green\" />\r\n                <span className=\"text-sm font-mono text-terminal-green\">{message}</span>\r\n              </motion.div>\r\n            )}\r\n\r\n            {error && (\r\n              <motion.div\r\n                initial={{ opacity: 0, y: -10 }}\r\n                animate={{ opacity: 1, y: 0 }}\r\n                className=\"flex items-center gap-2 bg-red-500/10 border border-red-500/30 rounded p-3 mb-6\"\r\n              >\r\n                <AlertCircle className=\"w-4 h-4 text-red-400\" />\r\n                <span className=\"text-sm font-mono text-red-400\">{error}</span>\r\n              </motion.div>\r\n            )}\r\n\r\n            {/* Filters */}\r\n            <div className=\"bg-code-gray-light border border-gray-700 rounded-lg p-6 mb-6\">\r\n              <div className=\"grid grid-cols-1 md:grid-cols-4 gap-4\">\r\n                {/* Search */}\r\n                <div className=\"relative\">\r\n                  <Search className=\"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-400\" />\r\n                  <input\r\n                    type=\"text\"\r\n                    placeholder=\"Search products...\"\r\n                    value={searchTerm}\r\n                    onChange={(e) => setSearchTerm(e.target.value)}\r\n                    className=\"w-full bg-code-gray border border-gray-600 pl-10 pr-4 py-2 rounded font-mono text-white placeholder-gray-500 focus:outline-none focus:border-electric-violet transition-colors\"\r\n                  />\r\n                </div>\r\n\r\n                {/* Category Filter */}\r\n                <div className=\"relative\">\r\n                  <Filter className=\"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-400\" />\r\n                  <select\r\n                    value={selectedCategory}\r\n                    onChange={(e) => setSelectedCategory(e.target.value)}\r\n                    className=\"w-full bg-code-gray border border-gray-600 pl-10 pr-4 py-2 rounded font-mono text-white focus:outline-none focus:border-electric-violet transition-colors appearance-none\"\r\n                  >\r\n                    <option value=\"\">All Categories</option>\r\n                    {categories.map(category => (\r\n                      <option key={category.id} value={category.id}>\r\n                        {category.name}\r\n                      </option>\r\n                    ))}\r\n                  </select>\r\n                </div>\r\n\r\n                {/* Active Filter */}\r\n                <label className=\"flex items-center gap-2 cursor-pointer\">\r\n                  <input\r\n                    type=\"checkbox\"\r\n                    checked={showActiveOnly}\r\n                    onChange={(e) => setShowActiveOnly(e.target.checked)}\r\n                    className=\"w-4 h-4 text-electric-violet bg-code-gray border-gray-600 rounded focus:ring-electric-violet focus:ring-2\"\r\n                  />\r\n                  <span className=\"font-mono text-white text-sm\">Active only</span>\r\n                </label>\r\n\r\n                {/* Results Count */}\r\n                <div className=\"flex items-center justify-end\">\r\n                  <span className=\"font-mono text-gray-400 text-sm\">\r\n                    {filteredProducts.length} of {products.length} products\r\n                  </span>\r\n                </div>\r\n              </div>\r\n            </div>\r\n\r\n            {/* Products Grid */}\r\n            <div className=\"grid grid-cols-1 lg:grid-cols-2 xl:grid-cols-3 gap-6\">\r\n              {filteredProducts.map((product, index) => (\r\n                <motion.div\r\n                  key={product.id}\r\n                  initial={{ opacity: 0, y: 20 }}\r\n                  animate={{ opacity: 1, y: 0 }}\r\n                  transition={{ delay: index * 0.1 }}\r\n                  className={`bg-code-gray-light border rounded-lg overflow-hidden hover:border-electric-violet/50 transition-colors ${\r\n                    !product.active ? 'opacity-60' : ''\r\n                  }`}\r\n                >\r\n                  {/* Product Image */}\r\n                  <div className=\"aspect-video bg-code-gray relative\">\r\n                    {product.image_url ? (\r\n                      <img\r\n                        src={`${product.image_url}${product.image_url.includes('?') ? '&' : '?'}t=${product.updated_at || Date.now()}`}\r\n                        alt={product.title}\r\n                        className=\"w-full h-full object-cover\"\r\n                        onError={(e) => {\r\n                          const target = e.target as HTMLImageElement\r\n                          target.style.display = 'none'\r\n                        }}\r\n                      />\r\n                    ) : (\r\n                      <div className=\"w-full h-full flex items-center justify-center\">\r\n                        <Package className=\"w-12 h-12 text-gray-600\" />\r\n                      </div>\r\n                    )}\r\n                    \r\n                    {/* Status Badges */}\r\n                    <div className=\"absolute top-3 left-3 flex gap-2\">\r\n                      {product.featured && (\r\n                        <span className=\"flex items-center gap-1 bg-yellow-500/90 text-black px-2 py-1 rounded text-xs font-mono\">\r\n                          <Star className=\"w-3 h-3\" />\r\n                          Featured\r\n                        </span>\r\n                      )}\r\n                      {!product.active && (\r\n                        <span className=\"flex items-center gap-1 bg-red-500/90 text-white px-2 py-1 rounded text-xs font-mono\">\r\n                          <EyeOff className=\"w-3 h-3\" />\r\n                          Inactive\r\n                        </span>\r\n                      )}\r\n                    </div>\r\n                  </div>\r\n\r\n                  {/* Product Info */}\r\n                  <div className=\"p-4\">\r\n                    <div className=\"flex items-start justify-between mb-2\">\r\n                      <h3 className=\"font-mono text-white font-semibold line-clamp-1\">\r\n                        {product.title}\r\n                      </h3>\r\n                      <span className=\"font-mono text-electric-violet font-bold\">\r\n                        ${product.price}\r\n                      </span>\r\n                    </div>\r\n                    \r\n                    <p className=\"text-gray-400 font-mono text-sm mb-3 line-clamp-2\">\r\n                      {product.description}\r\n                    </p>\r\n                    \r\n                    <div className=\"flex items-center justify-between text-xs\">\r\n                      <span className=\"text-gray-500 font-mono\">\r\n                        {product.category?.name}\r\n                      </span>\r\n                      <span className=\"text-gray-500 font-mono\">\r\n                        {new Date(product.created_at).toLocaleDateString()}\r\n                      </span>\r\n                    </div>\r\n\r\n                    {/* Tags */}\r\n                    {product.tags.length > 0 && (\r\n                      <div className=\"flex flex-wrap gap-1 mt-3\">\r\n                        {product.tags.slice(0, 3).map(tag => (\r\n                          <span\r\n                            key={tag}\r\n                            className=\"bg-code-gray text-gray-300 px-2 py-1 rounded text-xs font-mono\"\r\n                          >\r\n                            {tag}\r\n                          </span>\r\n                        ))}\r\n                        {product.tags.length > 3 && (\r\n                          <span className=\"text-gray-500 text-xs font-mono\">\r\n                            +{product.tags.length - 3} more\r\n                          </span>\r\n                        )}\r\n                      </div>\r\n                    )}\r\n\r\n                    {/* Actions */}\r\n                    <div className=\"flex items-center gap-2 mt-4 pt-3 border-t border-gray-700\">\r\n                      <button\r\n                        onClick={() => openEditForm(product)}\r\n                        className=\"flex items-center gap-1 bg-blue-500 hover:bg-blue-600 text-white px-3 py-1 rounded text-xs font-mono transition-colors\"\r\n                      >\r\n                        <Edit3 className=\"w-3 h-3\" />\r\n                        Edit\r\n                      </button>\r\n                      \r\n                      {product.preview_url && (\r\n                        <a\r\n                          href={product.preview_url}\r\n                          target=\"_blank\"\r\n                          rel=\"noopener noreferrer\"\r\n                          className=\"flex items-center gap-1 bg-green-500 hover:bg-green-600 text-white px-3 py-1 rounded text-xs font-mono transition-colors\"\r\n                        >\r\n                          <Eye className=\"w-3 h-3\" />\r\n                          Preview\r\n                        </a>\r\n                      )}\r\n                      \r\n                      <button\r\n                        onClick={() => handleDelete(product.id, product.title)}\r\n                        className=\"flex items-center gap-1 bg-red-500 hover:bg-red-600 text-white px-3 py-1 rounded text-xs font-mono transition-colors ml-auto\"\r\n                      >\r\n                        <Trash2 className=\"w-3 h-3\" />\r\n                        Delete\r\n                      </button>\r\n                    </div>\r\n                  </div>\r\n                </motion.div>\r\n              ))}\r\n            </div>\r\n\r\n            {filteredProducts.length === 0 && !productsLoading && (\r\n              <div className=\"text-center py-12\">\r\n                <Package className=\"w-16 h-16 text-gray-600 mx-auto mb-4\" />\r\n                <h3 className=\"text-lg font-mono text-gray-400 mb-2\">No products found</h3>\r\n                <p className=\"text-gray-500 font-mono text-sm mb-6\">\r\n                  {searchTerm || selectedCategory ? 'Try adjusting your filters' : 'Get started by adding your first product'}\r\n                </p>\r\n                {!searchTerm && !selectedCategory && (\r\n                  <button\r\n                    onClick={openCreateForm}\r\n                    className=\"bg-electric-violet hover:bg-electric-violet-light text-white font-mono py-2 px-4 rounded transition-colors\"\r\n                  >\r\n                    Add First Product\r\n                  </button>\r\n                )}\r\n              </div>\r\n            )}\r\n          </motion.div>\r\n        </div>\r\n      </div>\r\n\r\n      {/* Product Form Modal */}\r\n      {isFormOpen && (\r\n        <div className=\"fixed inset-0 bg-black/80 backdrop-blur-sm z-50 flex items-center justify-center p-4\">\r\n          <motion.div\r\n            initial={{ opacity: 0, scale: 0.95 }}\r\n            animate={{ opacity: 1, scale: 1 }}\r\n            className=\"bg-code-gray-light border border-gray-700 rounded-lg w-full max-w-2xl max-h-[90vh] overflow-y-auto\"\r\n          >\r\n            <form onSubmit={handleSubmit} className=\"p-6\">\r\n              {/* Form Header */}\r\n              <div className=\"flex items-center justify-between mb-6\">\r\n                <h2 className=\"text-xl font-mono text-white\">\r\n                  {editingProduct ? 'Edit Product' : 'Add New Product'}\r\n                </h2>\r\n                <button\r\n                  type=\"button\"\r\n                  onClick={resetForm}\r\n                  className=\"text-gray-400 hover:text-white transition-colors\"\r\n                >\r\n                  <X className=\"w-6 h-6\" />\r\n                </button>\r\n              </div>\r\n\r\n              {/* Form Fields */}\r\n              <div className=\"space-y-4\">\r\n                {/* Title */}\r\n                <div>\r\n                  <label className=\"block text-sm font-mono text-gray-300 mb-2\">\r\n                    Product Title *\r\n                  </label>\r\n                  <input\r\n                    type=\"text\"\r\n                    value={formData.title}\r\n                    onChange={(e) => setFormData(prev => ({ ...prev, title: e.target.value }))}\r\n                    className=\"w-full bg-code-gray border border-gray-600 px-4 py-3 rounded font-mono text-white placeholder-gray-500 focus:outline-none focus:border-electric-violet transition-colors\"\r\n                    placeholder=\"Enter product title\"\r\n                    required\r\n                  />\r\n                </div>\r\n\r\n                {/* Description */}\r\n                <div>\r\n                  <label className=\"block text-sm font-mono text-gray-300 mb-2\">\r\n                    Description *\r\n                  </label>\r\n                  <textarea\r\n                    value={formData.description}\r\n                    onChange={(e) => setFormData(prev => ({ ...prev, description: e.target.value }))}\r\n                    rows={4}\r\n                    className=\"w-full bg-code-gray border border-gray-600 px-4 py-3 rounded font-mono text-white placeholder-gray-500 focus:outline-none focus:border-electric-violet transition-colors resize-none\"\r\n                    placeholder=\"Enter product description\"\r\n                    required\r\n                  />\r\n                </div>\r\n\r\n                {/* Price & Category */}\r\n                <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\r\n                  <div>\r\n                    <label className=\"block text-sm font-mono text-gray-300 mb-2\">\r\n                      Price ($) *\r\n                    </label>\r\n                    <input\r\n                      type=\"number\"\r\n                      step=\"0.01\"\r\n                      min=\"0\"\r\n                      value={formData.price}\r\n                      onChange={(e) => setFormData(prev => ({ ...prev, price: e.target.value }))}\r\n                      className=\"w-full bg-code-gray border border-gray-600 px-4 py-3 rounded font-mono text-white placeholder-gray-500 focus:outline-none focus:border-electric-violet transition-colors\"\r\n                      placeholder=\"0.00\"\r\n                      required\r\n                    />\r\n                  </div>\r\n\r\n                  <div>\r\n                    <label className=\"block text-sm font-mono text-gray-300 mb-2\">\r\n                      Category *\r\n                    </label>\r\n                    <select\r\n                      value={formData.category_id}\r\n                      onChange={(e) => setFormData(prev => ({ ...prev, category_id: e.target.value }))}\r\n                      className=\"w-full bg-code-gray border border-gray-600 px-4 py-3 rounded font-mono text-white focus:outline-none focus:border-electric-violet transition-colors\"\r\n                      required\r\n                    >\r\n                      <option value=\"\">Select category</option>\r\n                      {categories.map(category => (\r\n                        <option key={category.id} value={category.id}>\r\n                          {category.name}\r\n                        </option>\r\n                      ))}\r\n                    </select>\r\n                  </div>\r\n                </div>\r\n\r\n                {/* Image Upload Section */}\r\n                <div className=\"space-y-4\">\r\n                  <label className=\"block text-sm font-mono text-gray-300\">\r\n                    Product Image\r\n                  </label>\r\n                  \r\n                  {/* Image Upload Mode Toggle */}\r\n                  <div className=\"flex space-x-4\">\r\n                    <button\r\n                      type=\"button\"\r\n                      onClick={() => setImageUploadMode('upload')}\r\n                      className={`px-4 py-2 rounded font-mono text-sm transition-colors ${\r\n                        imageUploadMode === 'upload'\r\n                          ? 'bg-electric-violet text-white'\r\n                          : 'bg-gray-700 text-gray-300 hover:bg-gray-600'\r\n                      }`}\r\n                    >\r\n                      Upload File\r\n                    </button>\r\n                    <button\r\n                      type=\"button\"\r\n                      onClick={() => setImageUploadMode('url')}\r\n                      className={`px-4 py-2 rounded font-mono text-sm transition-colors ${\r\n                        imageUploadMode === 'url'\r\n                          ? 'bg-electric-violet text-white'\r\n                          : 'bg-gray-700 text-gray-300 hover:bg-gray-600'\r\n                      }`}\r\n                    >\r\n                      From URL\r\n                    </button>\r\n                  </div>\r\n\r\n                  {/* File Upload */}\r\n                  {imageUploadMode === 'upload' && (\r\n                    <div className=\"space-y-2\">\r\n                      <input\r\n                        type=\"file\"\r\n                        accept=\"image/*\"\r\n                        onChange={handleImageFileSelect}\r\n                        className=\"block w-full text-gray-300 font-mono text-sm\r\n                                 file:mr-4 file:py-2 file:px-4\r\n                                 file:rounded file:border-0\r\n                                 file:bg-electric-violet file:text-white\r\n                                 file:font-mono file:text-sm\r\n                                 hover:file:bg-electric-violet-dark\"\r\n                      />\r\n                      {error && error.includes('image') && (\r\n                        <p className=\"text-red-400 font-mono text-sm\">{error}</p>\r\n                      )}\r\n                    </div>\r\n                  )}\r\n\r\n                  {/* URL Input */}\r\n                  {imageUploadMode === 'url' && (\r\n                    <input\r\n                      type=\"url\"\r\n                      value={formData.image_url}\r\n                      onChange={(e) => {\r\n                        setFormData(prev => ({ ...prev, image_url: e.target.value }))\r\n                        handleImageUrlChange(e.target.value)\r\n                      }}\r\n                      placeholder=\"https://example.com/image.jpg\"\r\n                      className=\"w-full bg-code-gray border border-gray-600 px-4 py-3 rounded font-mono text-white placeholder-gray-500 focus:outline-none focus:border-electric-violet transition-colors\"\r\n                    />\r\n                  )}\r\n\r\n                  {/* Image Preview */}\r\n                  {(imagePreview || formData.image_url) && (\r\n                    <div className=\"relative inline-block\">\r\n                      <img\r\n                        src={imagePreview || formData.image_url}\r\n                        alt=\"Product preview\"\r\n                        className=\"w-32 h-32 object-cover rounded border border-gray-600\"\r\n                        onError={(e) => {\r\n                          const target = e.target as HTMLImageElement\r\n                          target.style.display = 'none'\r\n                        }}\r\n                      />\r\n                      <button\r\n                        type=\"button\"\r\n                        onClick={clearImage}\r\n                        className=\"absolute -top-2 -right-2 w-6 h-6 bg-red-500 text-white rounded-full\r\n                                 flex items-center justify-center hover:bg-red-600 font-mono text-sm\"\r\n                      >\r\n                        Ã—\r\n                      </button>\r\n                    </div>\r\n                  )}\r\n                </div>\r\n\r\n                <div>\r\n                  <label className=\"block text-sm font-mono text-gray-300 mb-2\">\r\n                    Download URL\r\n                  </label>\r\n                  <input\r\n                    type=\"url\"\r\n                    value={formData.download_url}\r\n                    onChange={(e) => setFormData(prev => ({ ...prev, download_url: e.target.value }))}\r\n                    className=\"w-full bg-code-gray border border-gray-600 px-4 py-3 rounded font-mono text-white placeholder-gray-500 focus:outline-none focus:border-electric-violet transition-colors\"\r\n                    placeholder=\"https://example.com/download\"\r\n                  />\r\n                </div>\r\n\r\n                <div>\r\n                  <label className=\"block text-sm font-mono text-gray-300 mb-2\">\r\n                    Preview URL\r\n                  </label>\r\n                  <input\r\n                    type=\"url\"\r\n                    value={formData.preview_url}\r\n                    onChange={(e) => setFormData(prev => ({ ...prev, preview_url: e.target.value }))}\r\n                    className=\"w-full bg-code-gray border border-gray-600 px-4 py-3 rounded font-mono text-white placeholder-gray-500 focus:outline-none focus:border-electric-violet transition-colors\"\r\n                    placeholder=\"https://example.com/preview\"\r\n                  />\r\n                </div>\r\n\r\n                {/* Tags */}\r\n                <div>\r\n                  <label className=\"block text-sm font-mono text-gray-300 mb-2\">\r\n                    Tags (comma-separated)\r\n                  </label>\r\n                  <input\r\n                    type=\"text\"\r\n                    value={formData.tags}\r\n                    onChange={(e) => setFormData(prev => ({ ...prev, tags: e.target.value }))}\r\n                    className=\"w-full bg-code-gray border border-gray-600 px-4 py-3 rounded font-mono text-white placeholder-gray-500 focus:outline-none focus:border-electric-violet transition-colors\"\r\n                    placeholder=\"React, TypeScript, Template\"\r\n                  />\r\n                </div>\r\n\r\n                {/* Checkboxes */}\r\n                <div className=\"flex items-center gap-6\">\r\n                  <label className=\"flex items-center gap-2 cursor-pointer\">\r\n                    <input\r\n                      type=\"checkbox\"\r\n                      checked={formData.featured}\r\n                      onChange={(e) => setFormData(prev => ({ ...prev, featured: e.target.checked }))}\r\n                      className=\"w-4 h-4 text-electric-violet bg-code-gray border-gray-600 rounded focus:ring-electric-violet focus:ring-2\"\r\n                    />\r\n                    <span className=\"font-mono text-white text-sm\">Featured Product</span>\r\n                  </label>\r\n\r\n                  <label className=\"flex items-center gap-2 cursor-pointer\">\r\n                    <input\r\n                      type=\"checkbox\"\r\n                      checked={formData.active}\r\n                      onChange={(e) => setFormData(prev => ({ ...prev, active: e.target.checked }))}\r\n                      className=\"w-4 h-4 text-electric-violet bg-code-gray border-gray-600 rounded focus:ring-electric-violet focus:ring-2\"\r\n                    />\r\n                    <span className=\"font-mono text-white text-sm\">Active</span>\r\n                  </label>\r\n                </div>\r\n              </div>\r\n\r\n              {/* Form Actions */}\r\n              <div className=\"flex items-center gap-3 mt-8 pt-6 border-t border-gray-700\">\r\n                <button\r\n                  type=\"submit\"\r\n                  disabled={formLoading}\r\n                  className=\"flex items-center gap-2 bg-electric-violet hover:bg-electric-violet-light disabled:opacity-50 disabled:cursor-not-allowed text-white font-mono py-3 px-6 rounded transition-colors\"\r\n                >\r\n                  <Save className=\"w-4 h-4\" />\r\n                  {formLoading ? 'Saving...' : editingProduct ? 'Update Product' : 'Create Product'}\r\n                </button>\r\n                \r\n                <button\r\n                  type=\"button\"\r\n                  onClick={resetForm}\r\n                  className=\"bg-gray-600 hover:bg-gray-700 text-white font-mono py-3 px-6 rounded transition-colors\"\r\n                >\r\n                  Cancel\r\n                </button>\r\n              </div>\r\n            </form>\r\n          </motion.div>\r\n        </div>\r\n      )}\r\n      </AdminLayout>\r\n    </AdminProtectedRoute>\r\n  )\r\n}\r\n","import { useState, useEffect } from 'react'\r\nimport { Helmet } from 'react-helmet-async'\r\nimport { motion } from 'framer-motion'\r\nimport { \r\n  Users, \r\n  Search, \r\n  Filter,\r\n  Edit3, \r\n  Trash2,\r\n  Shield,\r\n  ShieldCheck,\r\n  Mail,\r\n  Calendar,\r\n  AlertCircle,\r\n  CheckCircle,\r\n  Save,\r\n  X,\r\n  Crown,\r\n  User as UserIcon\r\n} from 'lucide-react'\r\nimport { useAdmin } from '../hooks/useAdmin'\r\nimport { useNavigate } from 'react-router-dom'\r\nimport AdminLayout from '../components/AdminLayout'\r\n\r\ninterface AdminUser {\r\n  id: string\r\n  email: string\r\n  first_name: string | null\r\n  last_name: string | null\r\n  avatar_url: string | null\r\n  role: 'user' | 'admin'\r\n  is_active: boolean\r\n  created_at: string\r\n  last_sign_in_at: string | null | undefined\r\n  email_confirmed_at: string | null | undefined\r\n}\r\n\r\nexport default function AdminUsers() {\r\n  const { isAdmin, loading, getUsers, updateUser, deleteUser } = useAdmin()\r\n  const navigate = useNavigate()\r\n  \r\n  const [users, setUsers] = useState<AdminUser[]>([])\r\n  const [filteredUsers, setFilteredUsers] = useState<AdminUser[]>([])\r\n  const [usersLoading, setUsersLoading] = useState(true)\r\n  const [searchTerm, setSearchTerm] = useState('')\r\n  const [roleFilter, setRoleFilter] = useState('')\r\n  const [statusFilter, setStatusFilter] = useState('')\r\n  const [isFormOpen, setIsFormOpen] = useState(false)\r\n  const [editingUser, setEditingUser] = useState<AdminUser | null>(null)\r\n  const [formLoading, setFormLoading] = useState(false)\r\n  const [message, setMessage] = useState('')\r\n  const [error, setError] = useState('')\r\n\r\n  // Form state\r\n  const [formData, setFormData] = useState({\r\n    first_name: '',\r\n    last_name: '',\r\n    role: 'user' as 'user' | 'admin',\r\n    is_active: true\r\n  })\r\n\r\n  useEffect(() => {\r\n    if (!loading && !isAdmin) {\r\n      navigate('/')\r\n    }\r\n  }, [isAdmin, loading, navigate])\r\n\r\n  useEffect(() => {\r\n    const fetchUsers = async () => {\r\n      if (isAdmin) {\r\n        try {\r\n          const usersData = await getUsers()\r\n          setUsers(usersData)\r\n        } catch (error) {\r\n          setError('Failed to load users')\r\n        } finally {\r\n          setUsersLoading(false)\r\n        }\r\n      }\r\n    }\r\n\r\n    fetchUsers()\r\n  }, [isAdmin, getUsers])\r\n\r\n  // Filter users\r\n  useEffect(() => {\r\n    let filtered = users\r\n\r\n    if (searchTerm) {\r\n      const term = searchTerm.toLowerCase()\r\n      filtered = filtered.filter(user => \r\n        user.email.toLowerCase().includes(term) ||\r\n        (user.first_name && user.first_name.toLowerCase().includes(term)) ||\r\n        (user.last_name && user.last_name.toLowerCase().includes(term))\r\n      )\r\n    }\r\n\r\n    if (roleFilter) {\r\n      filtered = filtered.filter(user => user.role === roleFilter)\r\n    }\r\n\r\n    if (statusFilter) {\r\n      if (statusFilter === 'active') {\r\n        filtered = filtered.filter(user => user.is_active)\r\n      } else if (statusFilter === 'inactive') {\r\n        filtered = filtered.filter(user => !user.is_active)\r\n      } else if (statusFilter === 'verified') {\r\n        filtered = filtered.filter(user => user.email_confirmed_at !== null)\r\n      } else if (statusFilter === 'unverified') {\r\n        filtered = filtered.filter(user => user.email_confirmed_at === null)\r\n      }\r\n    }\r\n\r\n    setFilteredUsers(filtered)\r\n  }, [users, searchTerm, roleFilter, statusFilter])\r\n\r\n  const resetForm = () => {\r\n    setFormData({\r\n      first_name: '',\r\n      last_name: '',\r\n      role: 'user',\r\n      is_active: true\r\n    })\r\n    setEditingUser(null)\r\n    setIsFormOpen(false)\r\n    setError('')\r\n    setMessage('')\r\n  }\r\n\r\n  const openEditForm = (user: AdminUser) => {\r\n    setFormData({\r\n      first_name: user.first_name || '',\r\n      last_name: user.last_name || '',\r\n      role: user.role,\r\n      is_active: user.is_active\r\n    })\r\n    setEditingUser(user)\r\n    setIsFormOpen(true)\r\n  }\r\n\r\n  const handleSubmit = async (e: React.FormEvent) => {\r\n    e.preventDefault()\r\n    setFormLoading(true)\r\n    setError('')\r\n\r\n    if (!editingUser) {\r\n      setError('No user selected for editing')\r\n      setFormLoading(false)\r\n      return\r\n    }\r\n\r\n    try {\r\n      const userData = {\r\n        first_name: formData.first_name.trim() || null,\r\n        last_name: formData.last_name.trim() || null,\r\n        role: formData.role,\r\n        is_active: formData.is_active\r\n      }\r\n\r\n      const result = await updateUser(editingUser.id, userData)\r\n\r\n      if (result.error) {\r\n        setError('Failed to update user')\r\n      } else {\r\n        setMessage('User updated successfully!')\r\n        \r\n        // Update local state\r\n        setUsers(users.map(user => \r\n          user.id === editingUser.id \r\n            ? { ...user, ...userData }\r\n            : user\r\n        ))\r\n        \r\n        setTimeout(() => {\r\n          resetForm()\r\n        }, 1500)\r\n      }\r\n    } catch (error: any) {\r\n      setError(error.message || 'An unexpected error occurred')\r\n    } finally {\r\n      setFormLoading(false)\r\n    }\r\n  }\r\n\r\n  const handleDelete = async (userId: string, userEmail: string) => {\r\n    if (!confirm(`Are you sure you want to delete user \"${userEmail}\"? This action cannot be undone.`)) {\r\n      return\r\n    }\r\n\r\n    try {\r\n      const result = await deleteUser(userId)\r\n      if (result.error) {\r\n        setError('Failed to delete user')\r\n      } else {\r\n        setMessage('User deleted successfully!')\r\n        \r\n        // Remove from local state\r\n        setUsers(users.filter(u => u.id !== userId))\r\n      }\r\n    } catch (error) {\r\n      setError('An unexpected error occurred')\r\n    }\r\n  }\r\n\r\n  const getUserDisplayName = (user: AdminUser) => {\r\n    if (user.first_name || user.last_name) {\r\n      return `${user.first_name || ''} ${user.last_name || ''}`.trim()\r\n    }\r\n    return user.email.split('@')[0]\r\n  }\r\n\r\n  const getUserStats = () => {\r\n    return {\r\n      total: users.length,\r\n      active: users.filter(u => u.is_active).length,\r\n      admins: users.filter(u => u.role === 'admin').length,\r\n      verified: users.filter(u => u.email_confirmed_at !== null).length\r\n    }\r\n  }\r\n\r\n  if (loading || usersLoading) {\r\n    return (\r\n      <div className=\"min-h-screen bg-black flex items-center justify-center\">\r\n        <div className=\"animate-spin rounded-full h-8 w-8 border-b-2 border-electric-violet\"></div>\r\n      </div>\r\n    )\r\n  }\r\n\r\n  if (!isAdmin) {\r\n    return null\r\n  }\r\n\r\n  const stats = getUserStats()\r\n\r\n  return (\r\n    <AdminLayout>\r\n      <Helmet>\r\n        <title>Manage Users - Admin - Studio Nullbyte</title>\r\n        <meta name=\"robots\" content=\"noindex, nofollow\" />\r\n      </Helmet>\r\n\r\n      <div className=\"pb-6\">\r\n        <div className=\"w-full px-4 py-6\">\r\n          <motion.div\r\n            initial={{ opacity: 0, y: 20 }}\r\n            animate={{ opacity: 1, y: 0 }}\r\n            className=\"w-full\"\r\n          >\r\n            {/* Header */}\r\n            <div className=\"mb-8\">\r\n              <div className=\"flex items-center justify-between mb-4\">\r\n                <div className=\"flex items-center gap-3\">\r\n                  <Users className=\"w-6 h-6 text-electric-violet\" />\r\n                  <h1 className=\"text-3xl font-mono text-white\">Manage Users</h1>\r\n                </div>\r\n              </div>\r\n              <p className=\"text-gray-400 font-mono\">\r\n                View and manage user accounts and permissions\r\n              </p>\r\n            </div>\r\n\r\n            {/* Status Messages */}\r\n            {message && (\r\n              <motion.div\r\n                initial={{ opacity: 0, y: -10 }}\r\n                animate={{ opacity: 1, y: 0 }}\r\n                className=\"flex items-center gap-2 bg-terminal-green/10 border border-terminal-green/30 rounded p-3 mb-6\"\r\n              >\r\n                <CheckCircle className=\"w-4 h-4 text-terminal-green\" />\r\n                <span className=\"text-sm font-mono text-terminal-green\">{message}</span>\r\n              </motion.div>\r\n            )}\r\n\r\n            {error && (\r\n              <motion.div\r\n                initial={{ opacity: 0, y: -10 }}\r\n                animate={{ opacity: 1, y: 0 }}\r\n                className=\"flex items-center gap-2 bg-red-500/10 border border-red-500/30 rounded p-3 mb-6\"\r\n              >\r\n                <AlertCircle className=\"w-4 h-4 text-red-400\" />\r\n                <span className=\"text-sm font-mono text-red-400\">{error}</span>\r\n              </motion.div>\r\n            )}\r\n\r\n            {/* Stats Cards */}\r\n            <div className=\"grid grid-cols-1 md:grid-cols-4 gap-6 mb-6\">\r\n              <div className=\"bg-code-gray-light border border-gray-700 rounded-lg p-4\">\r\n                <div className=\"flex items-center gap-3\">\r\n                  <Users className=\"w-8 h-8 text-electric-violet\" />\r\n                  <div>\r\n                    <p className=\"text-2xl font-mono text-white font-bold\">{stats.total}</p>\r\n                    <p className=\"text-gray-400 font-mono text-sm\">Total Users</p>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n\r\n              <div className=\"bg-code-gray-light border border-gray-700 rounded-lg p-4\">\r\n                <div className=\"flex items-center gap-3\">\r\n                  <CheckCircle className=\"w-8 h-8 text-terminal-green\" />\r\n                  <div>\r\n                    <p className=\"text-2xl font-mono text-white font-bold\">{stats.active}</p>\r\n                    <p className=\"text-gray-400 font-mono text-sm\">Active Users</p>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n\r\n              <div className=\"bg-code-gray-light border border-gray-700 rounded-lg p-4\">\r\n                <div className=\"flex items-center gap-3\">\r\n                  <Crown className=\"w-8 h-8 text-yellow-500\" />\r\n                  <div>\r\n                    <p className=\"text-2xl font-mono text-white font-bold\">{stats.admins}</p>\r\n                    <p className=\"text-gray-400 font-mono text-sm\">Administrators</p>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n\r\n              <div className=\"bg-code-gray-light border border-gray-700 rounded-lg p-4\">\r\n                <div className=\"flex items-center gap-3\">\r\n                  <ShieldCheck className=\"w-8 h-8 text-blue-500\" />\r\n                  <div>\r\n                    <p className=\"text-2xl font-mono text-white font-bold\">{stats.verified}</p>\r\n                    <p className=\"text-gray-400 font-mono text-sm\">Verified Emails</p>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n\r\n            {/* Filters */}\r\n            <div className=\"bg-code-gray-light border border-gray-700 rounded-lg p-6 mb-6\">\r\n              <div className=\"grid grid-cols-1 md:grid-cols-4 gap-4\">\r\n                {/* Search */}\r\n                <div className=\"relative\">\r\n                  <Search className=\"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-400\" />\r\n                  <input\r\n                    type=\"text\"\r\n                    placeholder=\"Search users...\"\r\n                    value={searchTerm}\r\n                    onChange={(e) => setSearchTerm(e.target.value)}\r\n                    className=\"w-full bg-code-gray border border-gray-600 pl-10 pr-4 py-2 rounded font-mono text-white placeholder-gray-500 focus:outline-none focus:border-electric-violet transition-colors\"\r\n                  />\r\n                </div>\r\n\r\n                {/* Role Filter */}\r\n                <div className=\"relative\">\r\n                  <Filter className=\"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-400\" />\r\n                  <select\r\n                    value={roleFilter}\r\n                    onChange={(e) => setRoleFilter(e.target.value)}\r\n                    className=\"w-full bg-code-gray border border-gray-600 pl-10 pr-4 py-2 rounded font-mono text-white focus:outline-none focus:border-electric-violet transition-colors appearance-none\"\r\n                  >\r\n                    <option value=\"\">All Roles</option>\r\n                    <option value=\"user\">Users</option>\r\n                    <option value=\"admin\">Admins</option>\r\n                  </select>\r\n                </div>\r\n\r\n                {/* Status Filter */}\r\n                <div className=\"relative\">\r\n                  <Filter className=\"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-400\" />\r\n                  <select\r\n                    value={statusFilter}\r\n                    onChange={(e) => setStatusFilter(e.target.value)}\r\n                    className=\"w-full bg-code-gray border border-gray-600 pl-10 pr-4 py-2 rounded font-mono text-white focus:outline-none focus:border-electric-violet transition-colors appearance-none\"\r\n                  >\r\n                    <option value=\"\">All Status</option>\r\n                    <option value=\"active\">Active</option>\r\n                    <option value=\"inactive\">Inactive</option>\r\n                    <option value=\"verified\">Verified</option>\r\n                    <option value=\"unverified\">Unverified</option>\r\n                  </select>\r\n                </div>\r\n\r\n                {/* Results Count */}\r\n                <div className=\"flex items-center justify-end\">\r\n                  <span className=\"font-mono text-gray-400 text-sm\">\r\n                    {filteredUsers.length} of {users.length} users\r\n                  </span>\r\n                </div>\r\n              </div>\r\n            </div>\r\n\r\n            {/* Users Table */}\r\n            <div className=\"bg-code-gray-light border border-gray-700 rounded-lg overflow-hidden\">\r\n              <div className=\"overflow-x-auto\">\r\n                <table className=\"w-full\">\r\n                  <thead className=\"bg-code-gray border-b border-gray-700\">\r\n                    <tr>\r\n                      <th className=\"text-left p-4 font-mono text-gray-300 text-sm\">User</th>\r\n                      <th className=\"text-left p-4 font-mono text-gray-300 text-sm\">Email</th>\r\n                      <th className=\"text-left p-4 font-mono text-gray-300 text-sm\">Role</th>\r\n                      <th className=\"text-left p-4 font-mono text-gray-300 text-sm\">Status</th>\r\n                      <th className=\"text-left p-4 font-mono text-gray-300 text-sm\">Joined</th>\r\n                      <th className=\"text-left p-4 font-mono text-gray-300 text-sm\">Last Sign In</th>\r\n                      <th className=\"text-left p-4 font-mono text-gray-300 text-sm\">Actions</th>\r\n                    </tr>\r\n                  </thead>\r\n                  <tbody>\r\n                    {filteredUsers.map((user, index) => (\r\n                      <motion.tr\r\n                        key={user.id}\r\n                        initial={{ opacity: 0, y: 10 }}\r\n                        animate={{ opacity: 1, y: 0 }}\r\n                        transition={{ delay: index * 0.05 }}\r\n                        className=\"border-b border-gray-700/50 hover:bg-code-gray/50 transition-colors\"\r\n                      >\r\n                        {/* User Info */}\r\n                        <td className=\"p-4\">\r\n                          <div className=\"flex items-center gap-3\">\r\n                            <div className=\"w-8 h-8 bg-electric-violet/20 rounded-full flex items-center justify-center\">\r\n                              {user.avatar_url ? (\r\n                                <img\r\n                                  src={user.avatar_url}\r\n                                  alt={getUserDisplayName(user)}\r\n                                  className=\"w-8 h-8 rounded-full object-cover\"\r\n                                />\r\n                              ) : (\r\n                                <UserIcon className=\"w-4 h-4 text-electric-violet\" />\r\n                              )}\r\n                            </div>\r\n                            <div>\r\n                              <p className=\"font-mono text-white text-sm\">\r\n                                {getUserDisplayName(user)}\r\n                              </p>\r\n                              {user.role === 'admin' && (\r\n                                <div className=\"flex items-center gap-1 mt-1\">\r\n                                  <Crown className=\"w-3 h-3 text-yellow-500\" />\r\n                                  <span className=\"text-xs font-mono text-yellow-500\">Admin</span>\r\n                                </div>\r\n                              )}\r\n                            </div>\r\n                          </div>\r\n                        </td>\r\n\r\n                        {/* Email */}\r\n                        <td className=\"p-4\">\r\n                          <div className=\"flex items-center gap-2\">\r\n                            <Mail className=\"w-4 h-4 text-gray-400\" />\r\n                            <span className=\"font-mono text-white text-sm\">{user.email}</span>\r\n                            {user.email_confirmed_at && (\r\n                              <CheckCircle className=\"w-4 h-4 text-terminal-green\" />\r\n                            )}\r\n                          </div>\r\n                        </td>\r\n\r\n                        {/* Role */}\r\n                        <td className=\"p-4\">\r\n                          <span className={`inline-flex items-center gap-1 px-2 py-1 rounded text-xs font-mono ${\r\n                            user.role === 'admin' \r\n                              ? 'bg-yellow-500/20 text-yellow-400 border border-yellow-500/30'\r\n                              : 'bg-blue-500/20 text-blue-400 border border-blue-500/30'\r\n                          }`}>\r\n                            {user.role === 'admin' ? (\r\n                              <Shield className=\"w-3 h-3\" />\r\n                            ) : (\r\n                              <UserIcon className=\"w-3 h-3\" />\r\n                            )}\r\n                            {user.role}\r\n                          </span>\r\n                        </td>\r\n\r\n                        {/* Status */}\r\n                        <td className=\"p-4\">\r\n                          <div className=\"flex items-center gap-2\">\r\n                            <span className={`inline-flex items-center gap-1 px-2 py-1 rounded text-xs font-mono ${\r\n                              user.is_active \r\n                                ? 'bg-terminal-green/20 text-terminal-green border border-terminal-green/30'\r\n                                : 'bg-red-500/20 text-red-400 border border-red-500/30'\r\n                            }`}>\r\n                              {user.is_active ? 'Active' : 'Inactive'}\r\n                            </span>\r\n                          </div>\r\n                        </td>\r\n\r\n                        {/* Joined Date */}\r\n                        <td className=\"p-4\">\r\n                          <div className=\"flex items-center gap-2\">\r\n                            <Calendar className=\"w-4 h-4 text-gray-400\" />\r\n                            <span className=\"font-mono text-gray-300 text-sm\">\r\n                              {new Date(user.created_at).toLocaleDateString()}\r\n                            </span>\r\n                          </div>\r\n                        </td>\r\n\r\n                        {/* Last Sign In */}\r\n                        <td className=\"p-4\">\r\n                          <span className=\"font-mono text-gray-300 text-sm\">\r\n                            {user.last_sign_in_at \r\n                              ? new Date(user.last_sign_in_at).toLocaleDateString()\r\n                              : 'Never'\r\n                            }\r\n                          </span>\r\n                        </td>\r\n\r\n                        {/* Actions */}\r\n                        <td className=\"p-4\">\r\n                          <div className=\"flex items-center gap-2\">\r\n                            <button\r\n                              onClick={() => openEditForm(user)}\r\n                              className=\"flex items-center gap-1 bg-blue-500 hover:bg-blue-600 text-white px-3 py-1 rounded text-xs font-mono transition-colors\"\r\n                            >\r\n                              <Edit3 className=\"w-3 h-3\" />\r\n                              Edit\r\n                            </button>\r\n                            \r\n                            <button\r\n                              onClick={() => handleDelete(user.id, user.email)}\r\n                              className=\"flex items-center gap-1 bg-red-500 hover:bg-red-600 text-white px-3 py-1 rounded text-xs font-mono transition-colors\"\r\n                            >\r\n                              <Trash2 className=\"w-3 h-3\" />\r\n                              Delete\r\n                            </button>\r\n                          </div>\r\n                        </td>\r\n                      </motion.tr>\r\n                    ))}\r\n                  </tbody>\r\n                </table>\r\n              </div>\r\n\r\n              {filteredUsers.length === 0 && (\r\n                <div className=\"text-center py-12\">\r\n                  <Users className=\"w-16 h-16 text-gray-600 mx-auto mb-4\" />\r\n                  <h3 className=\"text-lg font-mono text-gray-400 mb-2\">No users found</h3>\r\n                  <p className=\"text-gray-500 font-mono text-sm\">\r\n                    {searchTerm || roleFilter || statusFilter ? 'Try adjusting your filters' : 'No users have registered yet'}\r\n                  </p>\r\n                </div>\r\n              )}\r\n            </div>\r\n          </motion.div>\r\n        </div>\r\n      </div>\r\n\r\n      {/* User Edit Form Modal */}\r\n      {isFormOpen && editingUser && (\r\n        <div className=\"fixed inset-0 bg-black/80 backdrop-blur-sm z-50 flex items-center justify-center p-4\">\r\n          <motion.div\r\n            initial={{ opacity: 0, scale: 0.95 }}\r\n            animate={{ opacity: 1, scale: 1 }}\r\n            className=\"bg-code-gray-light border border-gray-700 rounded-lg w-full max-w-md\"\r\n          >\r\n            <form onSubmit={handleSubmit} className=\"p-6\">\r\n              {/* Form Header */}\r\n              <div className=\"flex items-center justify-between mb-6\">\r\n                <h2 className=\"text-xl font-mono text-white\">Edit User</h2>\r\n                <button\r\n                  type=\"button\"\r\n                  onClick={resetForm}\r\n                  className=\"text-gray-400 hover:text-white transition-colors\"\r\n                >\r\n                  <X className=\"w-6 h-6\" />\r\n                </button>\r\n              </div>\r\n\r\n              {/* User Info */}\r\n              <div className=\"bg-code-gray border border-gray-600 rounded p-4 mb-6\">\r\n                <div className=\"flex items-center gap-3\">\r\n                  <div className=\"w-10 h-10 bg-electric-violet/20 rounded-full flex items-center justify-center\">\r\n                    {editingUser.avatar_url ? (\r\n                      <img\r\n                        src={editingUser.avatar_url}\r\n                        alt={getUserDisplayName(editingUser)}\r\n                        className=\"w-10 h-10 rounded-full object-cover\"\r\n                      />\r\n                    ) : (\r\n                      <UserIcon className=\"w-5 h-5 text-electric-violet\" />\r\n                    )}\r\n                  </div>\r\n                  <div>\r\n                    <p className=\"font-mono text-white\">{editingUser.email}</p>\r\n                    <p className=\"font-mono text-gray-400 text-sm\">\r\n                      Joined {new Date(editingUser.created_at).toLocaleDateString()}\r\n                    </p>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n\r\n              {/* Form Fields */}\r\n              <div className=\"space-y-4\">\r\n                {/* First Name */}\r\n                <div>\r\n                  <label className=\"block text-sm font-mono text-gray-300 mb-2\">\r\n                    First Name\r\n                  </label>\r\n                  <input\r\n                    type=\"text\"\r\n                    value={formData.first_name}\r\n                    onChange={(e) => setFormData(prev => ({ ...prev, first_name: e.target.value }))}\r\n                    className=\"w-full bg-code-gray border border-gray-600 px-4 py-3 rounded font-mono text-white placeholder-gray-500 focus:outline-none focus:border-electric-violet transition-colors\"\r\n                    placeholder=\"Enter first name\"\r\n                  />\r\n                </div>\r\n\r\n                {/* Last Name */}\r\n                <div>\r\n                  <label className=\"block text-sm font-mono text-gray-300 mb-2\">\r\n                    Last Name\r\n                  </label>\r\n                  <input\r\n                    type=\"text\"\r\n                    value={formData.last_name}\r\n                    onChange={(e) => setFormData(prev => ({ ...prev, last_name: e.target.value }))}\r\n                    className=\"w-full bg-code-gray border border-gray-600 px-4 py-3 rounded font-mono text-white placeholder-gray-500 focus:outline-none focus:border-electric-violet transition-colors\"\r\n                    placeholder=\"Enter last name\"\r\n                  />\r\n                </div>\r\n\r\n                {/* Role */}\r\n                <div>\r\n                  <label className=\"block text-sm font-mono text-gray-300 mb-2\">\r\n                    Role\r\n                  </label>\r\n                  <select\r\n                    value={formData.role}\r\n                    onChange={(e) => setFormData(prev => ({ ...prev, role: e.target.value as 'user' | 'admin' }))}\r\n                    className=\"w-full bg-code-gray border border-gray-600 px-4 py-3 rounded font-mono text-white focus:outline-none focus:border-electric-violet transition-colors\"\r\n                  >\r\n                    <option value=\"user\">User</option>\r\n                    <option value=\"admin\">Administrator</option>\r\n                  </select>\r\n                </div>\r\n\r\n                {/* Active Status */}\r\n                <div>\r\n                  <label className=\"flex items-center gap-2 cursor-pointer\">\r\n                    <input\r\n                      type=\"checkbox\"\r\n                      checked={formData.is_active}\r\n                      onChange={(e) => setFormData(prev => ({ ...prev, is_active: e.target.checked }))}\r\n                      className=\"w-4 h-4 text-electric-violet bg-code-gray border-gray-600 rounded focus:ring-electric-violet focus:ring-2\"\r\n                    />\r\n                    <span className=\"font-mono text-white text-sm\">Active User</span>\r\n                  </label>\r\n                  <p className=\"text-gray-500 font-mono text-xs mt-1\">\r\n                    Inactive users cannot sign in to their account\r\n                  </p>\r\n                </div>\r\n              </div>\r\n\r\n              {/* Form Actions */}\r\n              <div className=\"flex items-center gap-3 mt-8 pt-6 border-t border-gray-700\">\r\n                <button\r\n                  type=\"submit\"\r\n                  disabled={formLoading}\r\n                  className=\"flex items-center gap-2 bg-electric-violet hover:bg-electric-violet-light disabled:opacity-50 disabled:cursor-not-allowed text-white font-mono py-3 px-6 rounded transition-colors\"\r\n                >\r\n                  <Save className=\"w-4 h-4\" />\r\n                  {formLoading ? 'Saving...' : 'Update User'}\r\n                </button>\r\n                \r\n                <button\r\n                  type=\"button\"\r\n                  onClick={resetForm}\r\n                  className=\"bg-gray-600 hover:bg-gray-700 text-white font-mono py-3 px-6 rounded transition-colors\"\r\n                >\r\n                  Cancel\r\n                </button>\r\n              </div>\r\n            </form>\r\n          </motion.div>\r\n        </div>\r\n      )}\r\n    </AdminLayout>\r\n  )\r\n}\r\n","import { useState, useEffect } from 'react'\r\nimport { Helmet } from 'react-helmet-async'\r\nimport { motion } from 'framer-motion'\r\nimport { \r\n  ShoppingCart, \r\n  Search, \r\n  Filter,\r\n  Eye, \r\n  Edit3,\r\n  Package,\r\n  DollarSign,\r\n  Calendar,\r\n  User,\r\n  AlertCircle,\r\n  CheckCircle,\r\n  Clock,\r\n  X,\r\n  Save,\r\n  ExternalLink\r\n} from 'lucide-react'\r\nimport { useAdmin } from '../hooks/useAdmin'\r\nimport { useNavigate, Link } from 'react-router-dom'\r\nimport AdminLayout from '../components/AdminLayout'\r\nimport { logger } from '../utils/logger'\r\n\r\ninterface Order {\r\n  id: string\r\n  user_id: string\r\n  total_amount: number\r\n  status: 'pending' | 'processing' | 'completed' | 'cancelled' | 'refunded'\r\n  payment_method: string | null\r\n  payment_id: string | null\r\n  notes: string | null\r\n  created_at: string\r\n  updated_at: string\r\n  user_profiles?: {\r\n    full_name: string | null\r\n    email: string\r\n  }\r\n  order_items?: {\r\n    id: string\r\n    product_id: string\r\n    price: number\r\n    quantity: number\r\n    products: {\r\n      title: string\r\n    }\r\n  }[]\r\n}\r\n\r\nconst statusColors = {\r\n  pending: 'bg-yellow-500/20 text-yellow-400 border-yellow-500/30',\r\n  processing: 'bg-blue-500/20 text-blue-400 border-blue-500/30',\r\n  completed: 'bg-terminal-green/20 text-terminal-green border-terminal-green/30',\r\n  cancelled: 'bg-red-500/20 text-red-400 border-red-500/30',\r\n  refunded: 'bg-purple-500/20 text-purple-400 border-purple-500/30'\r\n}\r\n\r\nconst statusIcons = {\r\n  pending: Clock,\r\n  processing: Package,\r\n  completed: CheckCircle,\r\n  cancelled: X,\r\n  refunded: AlertCircle\r\n}\r\n\r\nexport default function AdminOrders() {\r\n  const { isAdmin, loading, getOrders, updateOrder } = useAdmin()\r\n  const navigate = useNavigate()\r\n  \r\n  const [orders, setOrders] = useState<Order[]>([])\r\n  const [filteredOrders, setFilteredOrders] = useState<Order[]>([])\r\n  const [ordersLoading, setOrdersLoading] = useState(true)\r\n  const [searchTerm, setSearchTerm] = useState('')\r\n  const [statusFilter, setStatusFilter] = useState('')\r\n  const [isViewModalOpen, setIsViewModalOpen] = useState(false)\r\n  const [isEditModalOpen, setIsEditModalOpen] = useState(false)\r\n  const [selectedOrder, setSelectedOrder] = useState<Order | null>(null)\r\n  const [editingOrder, setEditingOrder] = useState<Order | null>(null)\r\n  const [formLoading, setFormLoading] = useState(false)\r\n  const [message, setMessage] = useState('')\r\n  const [error, setError] = useState('')\r\n\r\n  // Form state for order editing\r\n  const [formData, setFormData] = useState({\r\n    status: 'pending' as Order['status'],\r\n    notes: ''\r\n  })\r\n\r\n  useEffect(() => {\r\n    if (!loading && !isAdmin) {\r\n      navigate('/')\r\n    }\r\n  }, [isAdmin, loading, navigate])\r\n\r\n  useEffect(() => {\r\n    const fetchOrders = async () => {\r\n      if (isAdmin) {\r\n        try {\r\n          logger.admin('Starting to fetch orders...')\r\n          const ordersData = await getOrders()\r\n          logger.admin('Orders fetched successfully:', ordersData)\r\n          setOrders(ordersData)\r\n          setError('') // Clear any previous errors\r\n        } catch (error) {\r\n          logger.error('Failed to load orders:', error)\r\n          setError(`Failed to load orders: ${error instanceof Error ? error.message : 'Unknown error'}`)\r\n        } finally {\r\n          logger.debug('Setting ordersLoading to false')\r\n          setOrdersLoading(false)\r\n        }\r\n      } else {\r\n        setOrdersLoading(false)\r\n      }\r\n    }\r\n\r\n    // Add a timeout to prevent infinite loading\r\n    const timeoutId = setTimeout(() => {\r\n      if (ordersLoading) {\r\n        logger.warn('Timeout reached, forcing loading to false')\r\n        setOrdersLoading(false)\r\n        setError('Request timed out. Please try refreshing the page.')\r\n      }\r\n    }, 10000) // 10 second timeout\r\n\r\n    fetchOrders()\r\n\r\n    return () => clearTimeout(timeoutId)\r\n  }, [isAdmin, getOrders, ordersLoading])\r\n\r\n  // Filter orders\r\n  useEffect(() => {\r\n    let filtered = orders\r\n\r\n    if (searchTerm) {\r\n      const term = searchTerm.toLowerCase()\r\n      filtered = filtered.filter(order => \r\n        order.id.toLowerCase().includes(term) ||\r\n        order.user_profiles?.email.toLowerCase().includes(term) ||\r\n        order.user_profiles?.full_name?.toLowerCase().includes(term) ||\r\n        order.payment_id?.toLowerCase().includes(term)\r\n      )\r\n    }\r\n\r\n    if (statusFilter) {\r\n      filtered = filtered.filter(order => order.status === statusFilter)\r\n    }\r\n\r\n    setFilteredOrders(filtered)\r\n  }, [orders, searchTerm, statusFilter])\r\n\r\n  const resetForms = () => {\r\n    setFormData({\r\n      status: 'pending',\r\n      notes: ''\r\n    })\r\n    setSelectedOrder(null)\r\n    setEditingOrder(null)\r\n    setIsViewModalOpen(false)\r\n    setIsEditModalOpen(false)\r\n    setError('')\r\n    setMessage('')\r\n  }\r\n\r\n  const openViewModal = (order: Order) => {\r\n    setSelectedOrder(order)\r\n    setIsViewModalOpen(true)\r\n  }\r\n\r\n  const openEditModal = (order: Order) => {\r\n    setFormData({\r\n      status: order.status,\r\n      notes: order.notes || ''\r\n    })\r\n    setEditingOrder(order)\r\n    setIsEditModalOpen(true)\r\n  }\r\n\r\n  const handleUpdateOrder = async (e: React.FormEvent) => {\r\n    e.preventDefault()\r\n    setFormLoading(true)\r\n    setError('')\r\n\r\n    if (!editingOrder) {\r\n      setError('No order selected for editing')\r\n      setFormLoading(false)\r\n      return\r\n    }\r\n\r\n    try {\r\n      const orderData = {\r\n        status: formData.status,\r\n        notes: formData.notes.trim() || null\r\n      }\r\n\r\n      const result = await updateOrder(editingOrder.id, orderData)\r\n\r\n      if (result.error) {\r\n        setError('Failed to update order')\r\n      } else {\r\n        setMessage('Order updated successfully!')\r\n        \r\n        // Update local state\r\n        setOrders(orders.map(order => \r\n          order.id === editingOrder.id \r\n            ? { ...order, ...orderData }\r\n            : order\r\n        ))\r\n        \r\n        setTimeout(() => {\r\n          resetForms()\r\n        }, 1500)\r\n      }\r\n    } catch (error: any) {\r\n      setError(error.message || 'An unexpected error occurred')\r\n    } finally {\r\n      setFormLoading(false)\r\n    }\r\n  }\r\n\r\n  const getOrderStats = () => {\r\n    return {\r\n      total: orders.length,\r\n      pending: orders.filter(o => o.status === 'pending').length,\r\n      processing: orders.filter(o => o.status === 'processing').length,\r\n      completed: orders.filter(o => o.status === 'completed').length,\r\n      revenue: orders\r\n        .filter(o => o.status === 'completed')\r\n        .reduce((sum, order) => sum + order.total_amount, 0)\r\n    }\r\n  }\r\n\r\n  const formatCurrency = (amount: number) => {\r\n    return new Intl.NumberFormat('en-US', {\r\n      style: 'currency',\r\n      currency: 'USD'\r\n    }).format(amount)\r\n  }\r\n\r\n  if (loading || ordersLoading) {\r\n    return (\r\n      <div className=\"min-h-screen bg-black flex items-center justify-center\">\r\n        <div className=\"animate-spin rounded-full h-8 w-8 border-b-2 border-electric-violet\"></div>\r\n      </div>\r\n    )\r\n  }\r\n\r\n  if (!isAdmin) {\r\n    return null\r\n  }\r\n\r\n  const stats = getOrderStats()\r\n\r\n  return (\r\n    <AdminLayout>\r\n      <Helmet>\r\n        <title>Manage Orders - Admin - Studio Nullbyte</title>\r\n        <meta name=\"robots\" content=\"noindex, nofollow\" />\r\n      </Helmet>\r\n\r\n      <div className=\"pb-6\">\r\n        <div className=\"w-full px-4 py-6\">\r\n          <motion.div\r\n            initial={{ opacity: 0, y: 20 }}\r\n            animate={{ opacity: 1, y: 0 }}\r\n            className=\"w-full\"\r\n          >\r\n            {/* Header */}\r\n            <div className=\"mb-8\">\r\n              <div className=\"flex items-center justify-between mb-4\">\r\n                <div className=\"flex items-center gap-3\">\r\n                  <ShoppingCart className=\"w-6 h-6 text-electric-violet\" />\r\n                  <h1 className=\"text-3xl font-mono text-white\">Manage Orders</h1>\r\n                </div>\r\n              </div>\r\n              <p className=\"text-gray-400 font-mono\">\r\n                View and manage customer orders and transactions\r\n              </p>\r\n            </div>\r\n\r\n            {/* Status Messages */}\r\n            {message && (\r\n              <motion.div\r\n                initial={{ opacity: 0, y: -10 }}\r\n                animate={{ opacity: 1, y: 0 }}\r\n                className=\"flex items-center gap-2 bg-terminal-green/10 border border-terminal-green/30 rounded p-3 mb-6\"\r\n              >\r\n                <CheckCircle className=\"w-4 h-4 text-terminal-green\" />\r\n                <span className=\"text-sm font-mono text-terminal-green\">{message}</span>\r\n              </motion.div>\r\n            )}\r\n\r\n            {error && (\r\n              <motion.div\r\n                initial={{ opacity: 0, y: -10 }}\r\n                animate={{ opacity: 1, y: 0 }}\r\n                className=\"flex items-center gap-2 bg-red-500/10 border border-red-500/30 rounded p-3 mb-6\"\r\n              >\r\n                <AlertCircle className=\"w-4 h-4 text-red-400\" />\r\n                <span className=\"text-sm font-mono text-red-400\">{error}</span>\r\n              </motion.div>\r\n            )}\r\n\r\n            {/* Stats Cards */}\r\n            <div className=\"grid grid-cols-1 md:grid-cols-5 gap-6 mb-6\">\r\n              <div className=\"bg-code-gray-light border border-gray-700 rounded-lg p-4\">\r\n                <div className=\"flex items-center gap-3\">\r\n                  <ShoppingCart className=\"w-8 h-8 text-electric-violet\" />\r\n                  <div>\r\n                    <p className=\"text-2xl font-mono text-white font-bold\">{stats.total}</p>\r\n                    <p className=\"text-gray-400 font-mono text-sm\">Total Orders</p>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n\r\n              <div className=\"bg-code-gray-light border border-gray-700 rounded-lg p-4\">\r\n                <div className=\"flex items-center gap-3\">\r\n                  <Clock className=\"w-8 h-8 text-yellow-500\" />\r\n                  <div>\r\n                    <p className=\"text-2xl font-mono text-white font-bold\">{stats.pending}</p>\r\n                    <p className=\"text-gray-400 font-mono text-sm\">Pending</p>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n\r\n              <div className=\"bg-code-gray-light border border-gray-700 rounded-lg p-4\">\r\n                <div className=\"flex items-center gap-3\">\r\n                  <Package className=\"w-8 h-8 text-blue-500\" />\r\n                  <div>\r\n                    <p className=\"text-2xl font-mono text-white font-bold\">{stats.processing}</p>\r\n                    <p className=\"text-gray-400 font-mono text-sm\">Processing</p>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n\r\n              <div className=\"bg-code-gray-light border border-gray-700 rounded-lg p-4\">\r\n                <div className=\"flex items-center gap-3\">\r\n                  <CheckCircle className=\"w-8 h-8 text-terminal-green\" />\r\n                  <div>\r\n                    <p className=\"text-2xl font-mono text-white font-bold\">{stats.completed}</p>\r\n                    <p className=\"text-gray-400 font-mono text-sm\">Completed</p>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n\r\n              <div className=\"bg-code-gray-light border border-gray-700 rounded-lg p-4\">\r\n                <div className=\"flex items-center gap-3\">\r\n                  <DollarSign className=\"w-8 h-8 text-terminal-green\" />\r\n                  <div>\r\n                    <p className=\"text-2xl font-mono text-white font-bold\">\r\n                      {formatCurrency(stats.revenue)}\r\n                    </p>\r\n                    <p className=\"text-gray-400 font-mono text-sm\">Revenue</p>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n\r\n            {/* Filters */}\r\n            <div className=\"bg-code-gray-light border border-gray-700 rounded-lg p-6 mb-6\">\r\n              <div className=\"grid grid-cols-1 md:grid-cols-3 gap-4\">\r\n                {/* Search */}\r\n                <div className=\"relative\">\r\n                  <Search className=\"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-400\" />\r\n                  <input\r\n                    type=\"text\"\r\n                    placeholder=\"Search orders...\"\r\n                    value={searchTerm}\r\n                    onChange={(e) => setSearchTerm(e.target.value)}\r\n                    className=\"w-full bg-code-gray border border-gray-600 pl-10 pr-4 py-2 rounded font-mono text-white placeholder-gray-500 focus:outline-none focus:border-electric-violet transition-colors\"\r\n                  />\r\n                </div>\r\n\r\n                {/* Status Filter */}\r\n                <div className=\"relative\">\r\n                  <Filter className=\"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-400\" />\r\n                  <select\r\n                    value={statusFilter}\r\n                    onChange={(e) => setStatusFilter(e.target.value)}\r\n                    className=\"w-full bg-code-gray border border-gray-600 pl-10 pr-4 py-2 rounded font-mono text-white focus:outline-none focus:border-electric-violet transition-colors appearance-none\"\r\n                  >\r\n                    <option value=\"\">All Status</option>\r\n                    <option value=\"pending\">Pending</option>\r\n                    <option value=\"processing\">Processing</option>\r\n                    <option value=\"completed\">Completed</option>\r\n                    <option value=\"cancelled\">Cancelled</option>\r\n                    <option value=\"refunded\">Refunded</option>\r\n                  </select>\r\n                </div>\r\n\r\n                {/* Results Count */}\r\n                <div className=\"flex items-center justify-end\">\r\n                  <span className=\"font-mono text-gray-400 text-sm\">\r\n                    {filteredOrders.length} of {orders.length} orders\r\n                  </span>\r\n                </div>\r\n              </div>\r\n            </div>\r\n\r\n            {/* Orders Table */}\r\n            <div className=\"bg-code-gray-light border border-gray-700 rounded-lg overflow-hidden\">\r\n              <div className=\"overflow-x-auto\">\r\n                <table className=\"w-full\">\r\n                  <thead className=\"bg-code-gray border-b border-gray-700\">\r\n                    <tr>\r\n                      <th className=\"text-left p-4 font-mono text-gray-300 text-sm\">Order ID</th>\r\n                      <th className=\"text-left p-4 font-mono text-gray-300 text-sm\">Customer</th>\r\n                      <th className=\"text-left p-4 font-mono text-gray-300 text-sm\">Items</th>\r\n                      <th className=\"text-left p-4 font-mono text-gray-300 text-sm\">Amount</th>\r\n                      <th className=\"text-left p-4 font-mono text-gray-300 text-sm\">Status</th>\r\n                      {/* <th className=\"text-left p-4 font-mono text-gray-300 text-sm\">Payment</th> */}\r\n                      <th className=\"text-left p-4 font-mono text-gray-300 text-sm\">Date</th>\r\n                      <th className=\"text-left p-4 font-mono text-gray-300 text-sm\">Actions</th>\r\n                    </tr>\r\n                  </thead>\r\n                  <tbody>\r\n                    {filteredOrders.map((order, index) => {\r\n                      const StatusIcon = statusIcons[order.status]\r\n                      return (\r\n                        <motion.tr\r\n                          key={order.id}\r\n                          initial={{ opacity: 0, y: 10 }}\r\n                          animate={{ opacity: 1, y: 0 }}\r\n                          transition={{ delay: index * 0.05 }}\r\n                          className=\"border-b border-gray-700/50 hover:bg-code-gray/50 transition-colors\"\r\n                        >\r\n                          {/* Order ID */}\r\n                          <td className=\"p-4\">\r\n                            <span className=\"font-mono text-white text-sm\">\r\n                              #{order.id.slice(-8)}\r\n                            </span>\r\n                          </td>\r\n\r\n                          {/* Customer */}\r\n                          <td className=\"p-4\">\r\n                            <div className=\"flex items-center gap-2\">\r\n                              <User className=\"w-4 h-4 text-gray-400\" />\r\n                              <div>\r\n                                <p className=\"font-mono text-white text-sm\">\r\n                                  {order.user_profiles?.full_name || 'Unknown'}\r\n                                </p>\r\n                                <p className=\"font-mono text-gray-400 text-xs\">\r\n                                  {order.user_profiles?.email}\r\n                                </p>\r\n                              </div>\r\n                            </div>\r\n                          </td>\r\n\r\n                          {/* Order Items */}\r\n                          <td className=\"p-4\">\r\n                            <div className=\"space-y-1\">\r\n                              {order.order_items && order.order_items.length > 0 ? (\r\n                                order.order_items.map((item) => (\r\n                                  <div key={item.id} className=\"flex items-center gap-2\">\r\n                                    <Link\r\n                                      to={`/products/${item.product_id}`}\r\n                                      className=\"flex items-center gap-1 text-electric-violet hover:text-electric-violet-light transition-colors font-mono text-xs group\"\r\n                                    >\r\n                                      <span>{item.products.title}</span>\r\n                                      <ExternalLink className=\"w-3 h-3 opacity-0 group-hover:opacity-100 transition-opacity\" />\r\n                                    </Link>\r\n                                    <span className=\"text-gray-400 text-xs\">\r\n                                      ({item.quantity}x)\r\n                                    </span>\r\n                                  </div>\r\n                                ))\r\n                              ) : (\r\n                                <span className=\"font-mono text-gray-500 text-xs\">No items</span>\r\n                              )}\r\n                            </div>\r\n                          </td>\r\n\r\n                          {/* Amount */}\r\n                          <td className=\"p-4\">\r\n                            <span className=\"font-mono text-electric-violet font-bold\">\r\n                              {formatCurrency(order.total_amount)}\r\n                            </span>\r\n                          </td>\r\n\r\n                          {/* Status */}\r\n                          <td className=\"p-4\">\r\n                            <span className={`inline-flex items-center gap-1 px-2 py-1 rounded text-xs font-mono border ${statusColors[order.status]}`}>\r\n                              <StatusIcon className=\"w-3 h-3\" />\r\n                            </span>\r\n                          </td>\r\n\r\n                          {/* Payment\r\n                          <td className=\"p-4\">\r\n                            <div>\r\n                              <p className=\"font-mono text-white text-sm\">\r\n                                {order.payment_method || 'N/A'}\r\n                              </p>\r\n                              {order.payment_id && (\r\n                                <p className=\"font-mono text-gray-400 text-xs\">\r\n                                  {order.payment_id.slice(-8)}\r\n                                </p>\r\n                              )}\r\n                            </div>\r\n                          </td> */}\r\n\r\n                          {/* Date */}\r\n                          <td className=\"p-4\">\r\n                            <div className=\"flex items-center gap-2\">\r\n                              <Calendar className=\"w-4 h-4 text-gray-400\" />\r\n                              <span className=\"font-mono text-gray-300 text-sm\">\r\n                                {new Date(order.created_at).toLocaleDateString()}\r\n                              </span>\r\n                            </div>\r\n                          </td>\r\n\r\n                          {/* Actions */}\r\n                          <td className=\"p-4\">\r\n                            <div className=\"flex items-center gap-2\">\r\n                              <button\r\n                                onClick={() => openViewModal(order)}\r\n                                className=\"flex items-center gap-1 bg-blue-500 hover:bg-blue-600 text-white px-3 py-1 rounded text-xs font-mono transition-colors\"\r\n                              >\r\n                                <Eye className=\"w-3 h-3\" />\r\n                                View\r\n                              </button>\r\n                              \r\n                              <button\r\n                                onClick={() => openEditModal(order)}\r\n                                className=\"flex items-center gap-1 bg-green-500 hover:bg-green-600 text-white px-3 py-1 rounded text-xs font-mono transition-colors\"\r\n                              >\r\n                                <Edit3 className=\"w-3 h-3\" />\r\n                                Edit\r\n                              </button>\r\n                            </div>\r\n                          </td>\r\n                        </motion.tr>\r\n                      )\r\n                    })}\r\n                  </tbody>\r\n                </table>\r\n              </div>\r\n\r\n              {filteredOrders.length === 0 && (\r\n                <div className=\"text-center py-12\">\r\n                  <ShoppingCart className=\"w-16 h-16 text-gray-600 mx-auto mb-4\" />\r\n                  <h3 className=\"text-lg font-mono text-gray-400 mb-2\">No orders found</h3>\r\n                  <p className=\"text-gray-500 font-mono text-sm\">\r\n                    {searchTerm || statusFilter ? 'Try adjusting your filters' : 'No orders have been placed yet'}\r\n                  </p>\r\n                </div>\r\n              )}\r\n            </div>\r\n          </motion.div>\r\n        </div>\r\n      </div>\r\n\r\n      {/* View Order Modal */}\r\n      {isViewModalOpen && selectedOrder && (\r\n        <div className=\"fixed inset-0 bg-black/80 backdrop-blur-sm z-50 flex items-center justify-center p-4\">\r\n          <motion.div\r\n            initial={{ opacity: 0, scale: 0.95 }}\r\n            animate={{ opacity: 1, scale: 1 }}\r\n            className=\"bg-code-gray-light border border-gray-700 rounded-lg w-full max-w-2xl max-h-[90vh] overflow-y-auto\"\r\n          >\r\n            <div className=\"p-6\">\r\n              {/* Modal Header */}\r\n              <div className=\"flex items-center justify-between mb-6\">\r\n                <h2 className=\"text-xl font-mono text-white\">\r\n                  Order Details #{selectedOrder.id.slice(-8)}\r\n                </h2>\r\n                <button\r\n                  onClick={resetForms}\r\n                  className=\"text-gray-400 hover:text-white transition-colors\"\r\n                >\r\n                  <X className=\"w-6 h-6\" />\r\n                </button>\r\n              </div>\r\n\r\n              {/* Order Info */}\r\n              <div className=\"space-y-6\">\r\n                {/* Customer & Payment */}\r\n                <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6\">\r\n                  <div className=\"bg-code-gray border border-gray-600 rounded p-4\">\r\n                    <h3 className=\"text-sm font-mono text-gray-300 mb-3\">Customer</h3>\r\n                    <div className=\"space-y-2\">\r\n                      <p className=\"font-mono text-white\">\r\n                        {selectedOrder.user_profiles?.full_name || 'Unknown Customer'}\r\n                      </p>\r\n                      <p className=\"font-mono text-gray-400 text-sm\">\r\n                        {selectedOrder.user_profiles?.email}\r\n                      </p>\r\n                    </div>\r\n                  </div>\r\n\r\n                  <div className=\"bg-code-gray border border-gray-600 rounded p-4\">\r\n                    <h3 className=\"text-sm font-mono text-gray-300 mb-3\">Payment</h3>\r\n                    <div className=\"space-y-2\">\r\n                      <p className=\"font-mono text-white\">\r\n                        {selectedOrder.payment_method || 'N/A'}\r\n                      </p>\r\n                      {selectedOrder.payment_id && (\r\n                        <p className=\"font-mono text-gray-400 text-sm\">\r\n                          ID: {selectedOrder.payment_id}\r\n                        </p>\r\n                      )}\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n\r\n                {/* Order Status & Amount */}\r\n                <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6\">\r\n                  <div className=\"bg-code-gray border border-gray-600 rounded p-4\">\r\n                    <h3 className=\"text-sm font-mono text-gray-300 mb-3\">Status</h3>\r\n                    <div className=\"flex items-center gap-2\">\r\n                      {(() => {\r\n                        const StatusIcon = statusIcons[selectedOrder.status]\r\n                        return (\r\n                          <span className={`inline-flex items-center gap-2 px-3 py-2 rounded font-mono border ${statusColors[selectedOrder.status]}`}>\r\n                            <StatusIcon className=\"w-4 h-4\" />\r\n                            {selectedOrder.status}\r\n                          </span>\r\n                        )\r\n                      })()}\r\n                    </div>\r\n                  </div>\r\n\r\n                  <div className=\"bg-code-gray border border-gray-600 rounded p-4\">\r\n                    <h3 className=\"text-sm font-mono text-gray-300 mb-3\">Total Amount</h3>\r\n                    <p className=\"text-2xl font-mono text-electric-violet font-bold\">\r\n                      {formatCurrency(selectedOrder.total_amount)}\r\n                    </p>\r\n                    {selectedOrder.notes && selectedOrder.notes.includes('Subtotal:') && (\r\n                      <div className=\"mt-3 text-xs font-mono text-gray-400\">\r\n                        {selectedOrder.notes.split(', ').map((part, index) => (\r\n                          <div key={index}>{part}</div>\r\n                        ))}\r\n                      </div>\r\n                    )}\r\n                  </div>\r\n                </div>\r\n\r\n                {/* Order Items */}\r\n                {selectedOrder.order_items && selectedOrder.order_items.length > 0 && (\r\n                  <div className=\"bg-code-gray border border-gray-600 rounded p-4\">\r\n                    <h3 className=\"text-sm font-mono text-gray-300 mb-3\">Order Items</h3>\r\n                    <div className=\"space-y-3\">\r\n                      {selectedOrder.order_items.map(item => (\r\n                        <div key={item.id} className=\"flex items-center justify-between\">\r\n                          <div className=\"flex items-center gap-3\">\r\n                            <div>\r\n                              <div className=\"flex items-center gap-2 mb-1\">\r\n                                <Link\r\n                                  to={`/products/${item.product_id}`}\r\n                                  className=\"font-mono text-electric-violet hover:text-electric-violet-light transition-colors text-sm flex items-center gap-1 group\"\r\n                                >\r\n                                  {item.products?.title}\r\n                                  <ExternalLink className=\"w-3 h-3 opacity-0 group-hover:opacity-100 transition-opacity\" />\r\n                                </Link>\r\n                              </div>\r\n                              <div className=\"flex items-center gap-2\">\r\n                                <p className=\"font-mono text-gray-400 text-xs\">\r\n                                  Item ID: #{item.id.slice(-8)}\r\n                                </p>\r\n                                <span className=\"text-gray-500\">â€¢</span>\r\n                                <p className=\"font-mono text-gray-400 text-xs\">\r\n                                  Qty: {item.quantity}\r\n                                </p>\r\n                              </div>\r\n                            </div>\r\n                          </div>\r\n                          <span className=\"font-mono text-electric-violet\">\r\n                            {formatCurrency(item.price)}\r\n                          </span>\r\n                        </div>\r\n                      ))}\r\n                    </div>\r\n                  </div>\r\n                )}\r\n\r\n                {/* Notes */}\r\n                {selectedOrder.notes && (\r\n                  <div className=\"bg-code-gray border border-gray-600 rounded p-4\">\r\n                    <h3 className=\"text-sm font-mono text-gray-300 mb-3\">Notes</h3>\r\n                    <p className=\"font-mono text-white text-sm whitespace-pre-wrap\">\r\n                      {selectedOrder.notes}\r\n                    </p>\r\n                  </div>\r\n                )}\r\n\r\n                {/* Dates */}\r\n                <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6\">\r\n                  <div className=\"bg-code-gray border border-gray-600 rounded p-4\">\r\n                    <h3 className=\"text-sm font-mono text-gray-300 mb-3\">Created</h3>\r\n                    <p className=\"font-mono text-white\">\r\n                      {new Date(selectedOrder.created_at).toLocaleString()}\r\n                    </p>\r\n                  </div>\r\n\r\n                  <div className=\"bg-code-gray border border-gray-600 rounded p-4\">\r\n                    <h3 className=\"text-sm font-mono text-gray-300 mb-3\">Last Updated</h3>\r\n                    <p className=\"font-mono text-white\">\r\n                      {new Date(selectedOrder.updated_at).toLocaleString()}\r\n                    </p>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </motion.div>\r\n        </div>\r\n      )}\r\n\r\n      {/* Edit Order Modal */}\r\n      {isEditModalOpen && editingOrder && (\r\n        <div className=\"fixed inset-0 bg-black/80 backdrop-blur-sm z-50 flex items-center justify-center p-4\">\r\n          <motion.div\r\n            initial={{ opacity: 0, scale: 0.95 }}\r\n            animate={{ opacity: 1, scale: 1 }}\r\n            className=\"bg-code-gray-light border border-gray-700 rounded-lg w-full max-w-md\"\r\n          >\r\n            <form onSubmit={handleUpdateOrder} className=\"p-6\">\r\n              {/* Form Header */}\r\n              <div className=\"flex items-center justify-between mb-6\">\r\n                <h2 className=\"text-xl font-mono text-white\">\r\n                  Edit Order #{editingOrder.id.slice(-8)}\r\n                </h2>\r\n                <button\r\n                  type=\"button\"\r\n                  onClick={resetForms}\r\n                  className=\"text-gray-400 hover:text-white transition-colors\"\r\n                >\r\n                  <X className=\"w-6 h-6\" />\r\n                </button>\r\n              </div>\r\n\r\n              {/* Form Fields */}\r\n              <div className=\"space-y-4\">\r\n                {/* Status */}\r\n                <div>\r\n                  <label className=\"block text-sm font-mono text-gray-300 mb-2\">\r\n                    Order Status\r\n                  </label>\r\n                  <select\r\n                    value={formData.status}\r\n                    onChange={(e) => setFormData(prev => ({ ...prev, status: e.target.value as Order['status'] }))}\r\n                    className=\"w-full bg-code-gray border border-gray-600 px-4 py-3 rounded font-mono text-white focus:outline-none focus:border-electric-violet transition-colors\"\r\n                  >\r\n                    <option value=\"pending\">Pending</option>\r\n                    <option value=\"processing\">Processing</option>\r\n                    <option value=\"completed\">Completed</option>\r\n                    <option value=\"cancelled\">Cancelled</option>\r\n                    <option value=\"refunded\">Refunded</option>\r\n                  </select>\r\n                </div>\r\n\r\n                {/* Notes */}\r\n                <div>\r\n                  <label className=\"block text-sm font-mono text-gray-300 mb-2\">\r\n                    Admin Notes\r\n                  </label>\r\n                  <textarea\r\n                    value={formData.notes}\r\n                    onChange={(e) => setFormData(prev => ({ ...prev, notes: e.target.value }))}\r\n                    rows={4}\r\n                    className=\"w-full bg-code-gray border border-gray-600 px-4 py-3 rounded font-mono text-white placeholder-gray-500 focus:outline-none focus:border-electric-violet transition-colors resize-none\"\r\n                    placeholder=\"Add internal notes about this order...\"\r\n                  />\r\n                </div>\r\n              </div>\r\n\r\n              {/* Form Actions */}\r\n              <div className=\"flex items-center gap-3 mt-8 pt-6 border-t border-gray-700\">\r\n                <button\r\n                  type=\"submit\"\r\n                  disabled={formLoading}\r\n                  className=\"flex items-center gap-2 bg-electric-violet hover:bg-electric-violet-light disabled:opacity-50 disabled:cursor-not-allowed text-white font-mono py-3 px-6 rounded transition-colors\"\r\n                >\r\n                  <Save className=\"w-4 h-4\" />\r\n                  {formLoading ? 'Saving...' : 'Update Order'}\r\n                </button>\r\n                \r\n                <button\r\n                  type=\"button\"\r\n                  onClick={resetForms}\r\n                  className=\"bg-gray-600 hover:bg-gray-700 text-white font-mono py-3 px-6 rounded transition-colors\"\r\n                >\r\n                  Cancel\r\n                </button>\r\n              </div>\r\n            </form>\r\n          </motion.div>\r\n        </div>\r\n      )}\r\n    </AdminLayout>\r\n  )\r\n}\r\n","/**\r\n * Utility functions for generating URL-friendly slugs\r\n */\r\n\r\n/**\r\n * Converts a string into a URL-friendly slug\r\n * @param text - The text to convert to a slug\r\n * @returns A URL-friendly slug\r\n */\r\nexport function generateSlug(text: string): string {\r\n  return text\r\n    .toLowerCase()\r\n    .trim()\r\n    .replace(/[^\\w\\s-]/g, '') // Remove special characters except spaces and hyphens\r\n    .replace(/[\\s_-]+/g, '-') // Replace spaces, underscores, and multiple hyphens with single hyphen\r\n    .replace(/^-+|-+$/g, '') // Remove leading and trailing hyphens\r\n}\r\n\r\n/**\r\n * Generates a unique slug by checking against existing slugs\r\n * @param baseName - The base name to generate slug from\r\n * @param existingSlugs - Array of existing slugs to check against\r\n * @returns A unique slug\r\n */\r\nexport function generateUniqueSlug(baseName: string, existingSlugs: string[]): string {\r\n  const baseSlug = generateSlug(baseName)\r\n  \r\n  if (!existingSlugs.includes(baseSlug)) {\r\n    return baseSlug\r\n  }\r\n  \r\n  let counter = 1\r\n  let uniqueSlug = `${baseSlug}-${counter}`\r\n  \r\n  while (existingSlugs.includes(uniqueSlug)) {\r\n    counter++\r\n    uniqueSlug = `${baseSlug}-${counter}`\r\n  }\r\n  \r\n  return uniqueSlug\r\n}\r\n","import { useState, useEffect } from 'react'\r\nimport { Helmet } from 'react-helmet-async'\r\nimport { motion } from 'framer-motion'\r\nimport { \r\n  Tag, \r\n  Search, \r\n  Edit3, \r\n  Trash2,\r\n  AlertCircle,\r\n  CheckCircle,\r\n  Save,\r\n  X,\r\n  Plus\r\n} from 'lucide-react'\r\nimport { useAdmin, type Category } from '../hooks/useAdmin'\r\nimport AdminLayout from '../components/AdminLayout'\r\nimport AdminProtectedRoute from '../components/AdminProtectedRoute'\r\nimport { generateUniqueSlug } from '../utils/slugify'\r\n\r\nexport default function AdminCategories() {\r\n  const { isAdmin, loading, getCategories, createCategory, updateCategory, deleteCategory } = useAdmin()\r\n  \r\n  const [categories, setCategories] = useState<Category[]>([])\r\n  const [filteredCategories, setFilteredCategories] = useState<Category[]>([])\r\n  const [categoriesLoading, setCategoriesLoading] = useState(true)\r\n  const [searchTerm, setSearchTerm] = useState('')\r\n  const [isFormOpen, setIsFormOpen] = useState(false)\r\n  const [editingCategory, setEditingCategory] = useState<Category | null>(null)\r\n  const [formLoading, setFormLoading] = useState(false)\r\n  const [message, setMessage] = useState('')\r\n  const [error, setError] = useState('')\r\n\r\n  // Form state\r\n  const [formData, setFormData] = useState({\r\n    name: '',\r\n    description: '',\r\n    slug: '',\r\n    is_active: true\r\n  })\r\n\r\n  // Remove the problematic redirect - AdminProtectedRoute will handle it\r\n  // The old useEffect with navigate('/') was causing premature redirects\r\n\r\n  useEffect(() => {\r\n    const fetchCategories = async () => {\r\n      if (isAdmin) {\r\n        try {\r\n          const categoriesData = await getCategories()\r\n          setCategories(categoriesData)\r\n        } catch (error) {\r\n          console.error('AdminCategories: Error fetching categories:', error)\r\n          \r\n          let errorMessage = 'Failed to load categories'\r\n          if (error instanceof Error) {\r\n            errorMessage += ': ' + error.message\r\n          } else if (error && typeof error === 'object' && 'message' in error) {\r\n            errorMessage += ': ' + (error as any).message\r\n          } else if (error && typeof error === 'object' && 'error' in error) {\r\n            errorMessage += ': ' + (error as any).error\r\n          } else {\r\n            errorMessage += ': Unknown error occurred'\r\n          }\r\n          \r\n          setError(errorMessage)\r\n        } finally {\r\n          setCategoriesLoading(false)\r\n        }\r\n      } else if (!loading) {\r\n        setCategoriesLoading(false)\r\n      }\r\n    }\r\n\r\n    // Add timeout to prevent infinite loading\r\n    const timeout = setTimeout(() => {\r\n      setCategoriesLoading(false)\r\n      if (!categories.length && isAdmin) {\r\n        setError('Loading timeout - please refresh the page')\r\n      }\r\n    }, 10000) // 10 second timeout\r\n\r\n    fetchCategories()\r\n    \r\n    return () => clearTimeout(timeout)\r\n  }, [isAdmin, loading, getCategories])\r\n\r\n  // Filter categories\r\n  useEffect(() => {\r\n    let filtered = categories\r\n\r\n    if (searchTerm) {\r\n      const term = searchTerm.toLowerCase()\r\n      filtered = filtered.filter(category => \r\n        category.name.toLowerCase().includes(term) ||\r\n        (category.description && category.description.toLowerCase().includes(term))\r\n      )\r\n    }\r\n\r\n    setFilteredCategories(filtered)\r\n  }, [categories, searchTerm])\r\n\r\n  const resetForm = () => {\r\n    setFormData({\r\n      name: '',\r\n      description: '',\r\n      slug: '',\r\n      is_active: true\r\n    })\r\n    setEditingCategory(null)\r\n    setIsFormOpen(false)\r\n    setError('')\r\n    setMessage('')\r\n  }\r\n\r\n  const openCreateForm = () => {\r\n    resetForm()\r\n    setIsFormOpen(true)\r\n  }\r\n\r\n  const openEditForm = (category: Category) => {\r\n    setFormData({\r\n      name: category.name,\r\n      description: category.description || '',\r\n      slug: category.slug || '',\r\n      is_active: category.is_active\r\n    })\r\n    setEditingCategory(category)\r\n    setIsFormOpen(true)\r\n  }\r\n\r\n  const handleSubmit = async (e: React.FormEvent) => {\r\n    e.preventDefault()\r\n    \r\n    setFormLoading(true)\r\n    setError('')\r\n\r\n    try {\r\n      if (editingCategory) {\r\n        // Update existing category\r\n        const categoryData = {\r\n          name: formData.name.trim(),\r\n          slug: formData.slug.trim(),\r\n          description: formData.description.trim() || undefined,\r\n          is_active: formData.is_active\r\n        }\r\n\r\n        const result = await updateCategory(editingCategory.id, categoryData)\r\n\r\n        if (result.error) {\r\n          setError('Failed to update category')\r\n        } else {\r\n          setMessage('Category updated successfully!')\r\n          \r\n          // Update local state\r\n          setCategories(categories.map(category => \r\n            category.id === editingCategory.id \r\n              ? { ...category, ...categoryData, description: categoryData.description || null }\r\n              : category\r\n          ))\r\n          \r\n          setTimeout(() => {\r\n            resetForm()\r\n          }, 1500)\r\n        }\r\n      } else {\r\n        // Create new category\r\n        if (!formData.name.trim()) {\r\n          setError('Category name is required')\r\n          setFormLoading(false)\r\n          return\r\n        }\r\n\r\n        const categoryData = {\r\n          name: formData.name.trim(),\r\n          slug: formData.slug || generateUniqueSlug(formData.name.trim(), categories.map(cat => cat.slug)),\r\n          description: formData.description.trim() || undefined\r\n        }\r\n        \r\n        const result = await createCategory(categoryData)\r\n\r\n        if (result.error) {\r\n          console.error('Create category error:', result.error)\r\n          setError('Failed to create category: ' + (typeof result.error === 'string' ? result.error : JSON.stringify(result.error)))\r\n        } else {\r\n          setMessage('Category created successfully!')\r\n          \r\n          // Add to local state\r\n          const newCategory: Category = {\r\n            id: result.data.id,\r\n            name: categoryData.name,\r\n            slug: categoryData.slug,\r\n            description: categoryData.description || null,\r\n            is_active: true,\r\n            created_at: new Date().toISOString(),\r\n            updated_at: new Date().toISOString()\r\n          }\r\n          \r\n          setCategories([newCategory, ...categories])\r\n          \r\n          setTimeout(() => {\r\n            resetForm()\r\n          }, 1500)\r\n        }\r\n      }\r\n    } catch (error: any) {\r\n      setError(error.message || 'An unexpected error occurred')\r\n    } finally {\r\n      setFormLoading(false)\r\n    }\r\n  }\r\n\r\n  const handleDelete = async (categoryId: string, categoryName: string) => {\r\n    if (!confirm(`Are you sure you want to delete category \"${categoryName}\"? This action cannot be undone.`)) {\r\n      return\r\n    }\r\n\r\n    try {\r\n      const result = await deleteCategory(categoryId)\r\n      if (result.error) {\r\n        setError('Failed to delete category')\r\n      } else {\r\n        setMessage('Category deleted successfully!')\r\n        \r\n        // Remove from local state\r\n        setCategories(categories.filter(c => c.id !== categoryId))\r\n      }\r\n    } catch (error) {\r\n      setError('An unexpected error occurred')\r\n    }\r\n  }\r\n\r\n  const getCategoryStats = () => {\r\n    return {\r\n      total: categories.length,\r\n      active: categories.filter(c => c.is_active).length,\r\n      inactive: categories.filter(c => !c.is_active).length\r\n    }\r\n  }\r\n\r\n  // Auto-generate slug when name changes (only for new categories)\r\n  const handleNameChange = (name: string) => {\r\n    setFormData(prev => {\r\n      const newData = { ...prev, name }\r\n      \r\n      // Auto-generate slug only for new categories (not when editing)\r\n      if (!editingCategory) {\r\n        const existingSlugs = categories.map(cat => cat.slug)\r\n        newData.slug = generateUniqueSlug(name, existingSlugs)\r\n      }\r\n      \r\n      return newData\r\n    })\r\n  }\r\n\r\n  if (categoriesLoading) {\r\n    return (\r\n      <AdminProtectedRoute>\r\n        <div className=\"min-h-screen bg-black flex items-center justify-center\">\r\n          <div className=\"animate-spin rounded-full h-8 w-8 border-b-2 border-electric-violet\"></div>\r\n        </div>\r\n      </AdminProtectedRoute>\r\n    )\r\n  }\r\n\r\n  const stats = getCategoryStats()\r\n\r\n  return (\r\n    <AdminProtectedRoute>\r\n      <AdminLayout>\r\n        <Helmet>\r\n          <title>Manage Categories - Admin - Studio Nullbyte</title>\r\n          <meta name=\"robots\" content=\"noindex, nofollow\" />\r\n        </Helmet>\r\n\r\n      <div className=\"pb-6\">\r\n        <div className=\"w-full px-4 py-6\">\r\n          <motion.div\r\n            initial={{ opacity: 0, y: 20 }}\r\n            animate={{ opacity: 1, y: 0 }}\r\n            className=\"w-full\"\r\n          >\r\n            {/* Header */}\r\n            <div className=\"mb-8\">\r\n              <div className=\"flex items-center justify-between mb-4\">\r\n                <div className=\"flex items-center gap-3\">\r\n                  <Tag className=\"w-6 h-6 text-electric-violet\" />\r\n                  <h1 className=\"text-3xl font-mono text-white\">Manage Categories</h1>\r\n                </div>\r\n                <button\r\n                  onClick={openCreateForm}\r\n                  className=\"flex items-center gap-2 bg-electric-violet hover:bg-electric-violet-dark px-4 py-2 rounded font-mono text-white transition-colors duration-200\"\r\n                >\r\n                  <Plus className=\"w-4 h-4\" />\r\n                  Create Category\r\n                </button>\r\n              </div>\r\n              <p className=\"text-gray-400 font-mono\">\r\n                Create and manage product categories\r\n              </p>\r\n            </div>\r\n\r\n            {/* Status Messages */}\r\n            {message && (\r\n              <motion.div\r\n                initial={{ opacity: 0, y: -10 }}\r\n                animate={{ opacity: 1, y: 0 }}\r\n                className=\"flex items-center gap-2 bg-terminal-green/10 border border-terminal-green/30 rounded p-3 mb-6\"\r\n              >\r\n                <CheckCircle className=\"w-4 h-4 text-terminal-green\" />\r\n                <span className=\"text-sm font-mono text-terminal-green\">{message}</span>\r\n              </motion.div>\r\n            )}\r\n\r\n            {error && (\r\n              <motion.div\r\n                initial={{ opacity: 0, y: -10 }}\r\n                animate={{ opacity: 1, y: 0 }}\r\n                className=\"flex items-center gap-2 bg-red-500/10 border border-red-500/30 rounded p-3 mb-6\"\r\n              >\r\n                <AlertCircle className=\"w-4 h-4 text-red-400\" />\r\n                <span className=\"text-sm font-mono text-red-400\">{error}</span>\r\n              </motion.div>\r\n            )}\r\n\r\n            {/* Stats Cards */}\r\n            <div className=\"grid grid-cols-1 md:grid-cols-3 gap-6 mb-6\">\r\n              <div className=\"bg-code-gray-light border border-gray-700 rounded-lg p-4\">\r\n                <div className=\"flex items-center gap-3\">\r\n                  <Tag className=\"w-8 h-8 text-electric-violet\" />\r\n                  <div>\r\n                    <p className=\"text-2xl font-mono text-white font-bold\">{stats.total}</p>\r\n                    <p className=\"text-gray-400 font-mono text-sm\">Total Categories</p>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n\r\n              <div className=\"bg-code-gray-light border border-gray-700 rounded-lg p-4\">\r\n                <div className=\"flex items-center gap-3\">\r\n                  <CheckCircle className=\"w-8 h-8 text-terminal-green\" />\r\n                  <div>\r\n                    <p className=\"text-2xl font-mono text-white font-bold\">{stats.active}</p>\r\n                    <p className=\"text-gray-400 font-mono text-sm\">Active Categories</p>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n\r\n              <div className=\"bg-code-gray-light border border-gray-700 rounded-lg p-4\">\r\n                <div className=\"flex items-center gap-3\">\r\n                  <X className=\"w-8 h-8 text-red-400\" />\r\n                  <div>\r\n                    <p className=\"text-2xl font-mono text-white font-bold\">{stats.inactive}</p>\r\n                    <p className=\"text-gray-400 font-mono text-sm\">Inactive Categories</p>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n\r\n            {/* Search and Filters */}\r\n            <div className=\"bg-code-gray-light border border-gray-700 rounded-lg p-6 mb-6\">\r\n              <div className=\"flex flex-col sm:flex-row gap-4 items-center\">\r\n                <div className=\"relative flex-1\">\r\n                  <Search className=\"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-400\" />\r\n                  <input\r\n                    type=\"text\"\r\n                    placeholder=\"Search categories...\"\r\n                    value={searchTerm}\r\n                    onChange={(e) => setSearchTerm(e.target.value)}\r\n                    className=\"w-full bg-code-gray border border-gray-600 pl-10 pr-4 py-2 rounded font-mono text-white placeholder-gray-500 focus:outline-none focus:border-electric-violet transition-colors\"\r\n                  />\r\n                </div>\r\n\r\n                {/* Results Count */}\r\n                <div className=\"flex items-center justify-end\">\r\n                  <span className=\"font-mono text-gray-400 text-sm\">\r\n                    {filteredCategories.length} of {categories.length} categories\r\n                  </span>\r\n                </div>\r\n              </div>\r\n            </div>\r\n\r\n            {/* Categories Table */}\r\n            <div className=\"bg-code-gray-light border border-gray-700 rounded-lg overflow-hidden\">\r\n              <div className=\"overflow-x-auto\">\r\n                <table className=\"w-full\">\r\n                  <thead className=\"bg-code-gray border-b border-gray-700\">\r\n                    <tr>\r\n                      <th className=\"text-left p-4 font-mono text-gray-300 text-sm\">Name</th>\r\n                      <th className=\"text-left p-4 font-mono text-gray-300 text-sm\">Slug</th>\r\n                      <th className=\"text-left p-4 font-mono text-gray-300 text-sm\">Description</th>\r\n                      <th className=\"text-left p-4 font-mono text-gray-300 text-sm\">Status</th>\r\n                      <th className=\"text-left p-4 font-mono text-gray-300 text-sm\">Created</th>\r\n                      <th className=\"text-left p-4 font-mono text-gray-300 text-sm\">Actions</th>\r\n                    </tr>\r\n                  </thead>\r\n                  <tbody>\r\n                    {filteredCategories.map((category, index) => (\r\n                      <motion.tr\r\n                        key={category.id}\r\n                        initial={{ opacity: 0, y: 20 }}\r\n                        animate={{ opacity: 1, y: 0 }}\r\n                        transition={{ delay: index * 0.05 }}\r\n                        className=\"border-b border-gray-700 hover:bg-code-gray/50 transition-colors\"\r\n                      >\r\n                        <td className=\"p-4\">\r\n                          <div className=\"flex items-center gap-3\">\r\n                            <div className=\"w-8 h-8 bg-electric-violet/20 rounded-lg flex items-center justify-center flex-shrink-0\">\r\n                              <Tag className=\"w-4 h-4 text-electric-violet\" />\r\n                            </div>\r\n                            <span className=\"font-mono text-white text-sm font-medium\">\r\n                              {category.name}\r\n                            </span>\r\n                          </div>\r\n                        </td>\r\n                        <td className=\"p-4\">\r\n                          <span className=\"font-mono text-gray-300 text-sm bg-code-gray px-2 py-1 rounded\">\r\n                            {category.slug}\r\n                          </span>\r\n                        </td>\r\n                        <td className=\"p-4 max-w-xs\">\r\n                          <p className=\"font-mono text-gray-400 text-sm truncate\" title={category.description || 'No description'}>\r\n                            {category.description || 'No description'}\r\n                          </p>\r\n                        </td>\r\n                        <td className=\"p-4\">\r\n                          <span className={`inline-flex items-center gap-1 px-2 py-1 rounded text-xs font-mono border ${\r\n                            category.is_active \r\n                              ? 'bg-terminal-green/20 text-terminal-green border-terminal-green/30' \r\n                              : 'bg-red-500/20 text-red-400 border-red-500/30'\r\n                          }`}>\r\n                            {category.is_active ? (\r\n                              <>\r\n                                <CheckCircle className=\"w-3 h-3\" />\r\n                                Active\r\n                              </>\r\n                            ) : (\r\n                              <>\r\n                                <X className=\"w-3 h-3\" />\r\n                                Inactive\r\n                              </>\r\n                            )}\r\n                          </span>\r\n                        </td>\r\n                        <td className=\"p-4\">\r\n                          <span className=\"font-mono text-gray-400 text-sm\">\r\n                            {new Date(category.created_at).toLocaleDateString()}\r\n                          </span>\r\n                        </td>\r\n                        <td className=\"p-4\">\r\n                          <div className=\"flex items-center gap-2\">\r\n                            <button\r\n                              onClick={() => openEditForm(category)}\r\n                              className=\"flex items-center gap-1 bg-blue-500 hover:bg-blue-600 text-white px-3 py-1 rounded text-xs font-mono transition-colors\"\r\n                            >\r\n                              <Edit3 className=\"w-3 h-3\" />\r\n                              Edit\r\n                            </button>\r\n                            \r\n                            <button\r\n                              onClick={() => handleDelete(category.id, category.name)}\r\n                              className=\"flex items-center gap-1 bg-red-500 hover:bg-red-600 text-white px-3 py-1 rounded text-xs font-mono transition-colors\"\r\n                            >\r\n                              <Trash2 className=\"w-3 h-3\" />\r\n                              Delete\r\n                            </button>\r\n                          </div>\r\n                        </td>\r\n                      </motion.tr>\r\n                    ))}\r\n                  </tbody>\r\n                </table>\r\n              </div>\r\n            </div>\r\n\r\n            {filteredCategories.length === 0 && (\r\n              <div className=\"text-center py-12\">\r\n                <Tag className=\"w-16 h-16 text-gray-600 mx-auto mb-4\" />\r\n                <h3 className=\"text-lg font-mono text-gray-400 mb-2\">No categories found</h3>\r\n                <p className=\"text-gray-500 font-mono text-sm\">\r\n                  {searchTerm ? 'Try adjusting your search' : 'Create your first category to get started'}\r\n                </p>\r\n              </div>\r\n            )}\r\n          </motion.div>\r\n        </div>\r\n      </div>\r\n\r\n      {/* Category Form Modal */}\r\n      {isFormOpen && (\r\n        <div className=\"fixed inset-0 bg-black/80 backdrop-blur-sm z-50 flex items-center justify-center p-4\">\r\n          <motion.div\r\n            initial={{ opacity: 0, scale: 0.95 }}\r\n            animate={{ opacity: 1, scale: 1 }}\r\n            className=\"bg-code-gray-light border border-gray-700 rounded-lg w-full max-w-md\"\r\n          >\r\n            <form onSubmit={handleSubmit} className=\"p-6\">\r\n              {/* Form Header */}\r\n              <div className=\"flex items-center justify-between mb-6\">\r\n                <h2 className=\"text-xl font-mono text-white\">\r\n                  {editingCategory ? 'Edit Category' : 'Create New Category'}\r\n                </h2>\r\n                <button\r\n                  type=\"button\"\r\n                  onClick={resetForm}\r\n                  className=\"text-gray-400 hover:text-white transition-colors\"\r\n                >\r\n                  <X className=\"w-6 h-6\" />\r\n                </button>\r\n              </div>\r\n\r\n              {/* Form Fields */}\r\n              <div className=\"space-y-4\">\r\n                {/* Name */}\r\n                <div>\r\n                  <label className=\"block text-sm font-mono text-gray-300 mb-2\">\r\n                    Category Name <span className=\"text-red-400\">*</span>\r\n                  </label>\r\n                  <input\r\n                    type=\"text\"\r\n                    value={formData.name}\r\n                    onChange={(e) => handleNameChange(e.target.value)}\r\n                    className=\"w-full bg-code-gray border border-gray-600 px-4 py-3 rounded font-mono text-white placeholder-gray-500 focus:outline-none focus:border-electric-violet transition-colors\"\r\n                    placeholder=\"Enter category name\"\r\n                    required\r\n                  />\r\n                </div>\r\n\r\n                {/* Slug */}\r\n                <div>\r\n                  <label className=\"block text-sm font-mono text-gray-300 mb-2\">\r\n                    URL Slug <span className=\"text-red-400\">*</span>\r\n                  </label>\r\n                  <input\r\n                    type=\"text\"\r\n                    value={formData.slug}\r\n                    onChange={(e) => setFormData(prev => ({ ...prev, slug: e.target.value }))}\r\n                    className=\"w-full bg-code-gray border border-gray-600 px-4 py-3 rounded font-mono text-white placeholder-gray-500 focus:outline-none focus:border-electric-violet transition-colors\"\r\n                    placeholder=\"url-friendly-slug\"\r\n                    required\r\n                  />\r\n                  <p className=\"text-gray-500 font-mono text-xs mt-1\">\r\n                    Auto-generated from name. Used in URLs (e.g., /category/web-templates)\r\n                  </p>\r\n                </div>\r\n\r\n                {/* Description */}\r\n                <div>\r\n                  <label className=\"block text-sm font-mono text-gray-300 mb-2\">\r\n                    Description\r\n                  </label>\r\n                  <textarea\r\n                    value={formData.description}\r\n                    onChange={(e) => setFormData(prev => ({ ...prev, description: e.target.value }))}\r\n                    className=\"w-full bg-code-gray border border-gray-600 px-4 py-3 rounded font-mono text-white placeholder-gray-500 focus:outline-none focus:border-electric-violet transition-colors resize-none\"\r\n                    placeholder=\"Enter category description\"\r\n                    rows={3}\r\n                  />\r\n                </div>\r\n\r\n                {/* Active Status */}\r\n                <div>\r\n                  <label className=\"flex items-center gap-2 cursor-pointer\">\r\n                    <input\r\n                      type=\"checkbox\"\r\n                      checked={formData.is_active}\r\n                      onChange={(e) => setFormData(prev => ({ ...prev, is_active: e.target.checked }))}\r\n                      className=\"w-4 h-4 text-electric-violet bg-code-gray border-gray-600 rounded focus:ring-electric-violet focus:ring-2\"\r\n                    />\r\n                    <span className=\"font-mono text-white text-sm\">Active Category</span>\r\n                  </label>\r\n                  <p className=\"text-gray-500 font-mono text-xs mt-1\">\r\n                    Inactive categories won't be shown to users\r\n                  </p>\r\n                </div>\r\n              </div>\r\n\r\n              {/* Form Actions */}\r\n              <div className=\"flex items-center gap-3 mt-8 pt-6 border-t border-gray-700\">\r\n                <button\r\n                  type=\"submit\"\r\n                  disabled={formLoading}\r\n                  className=\"flex items-center gap-2 bg-electric-violet hover:bg-electric-violet-light disabled:opacity-50 disabled:cursor-not-allowed text-white font-mono py-3 px-6 rounded transition-colors\"\r\n                >\r\n                  <Save className=\"w-4 h-4\" />\r\n                  {formLoading ? (editingCategory ? 'Updating...' : 'Creating...') : (editingCategory ? 'Update Category' : 'Create Category')}\r\n                </button>\r\n                \r\n                <button\r\n                  type=\"button\"\r\n                  onClick={resetForm}\r\n                  className=\"bg-gray-600 hover:bg-gray-700 text-white font-mono py-3 px-6 rounded transition-colors\"\r\n                >\r\n                  Cancel\r\n                </button>\r\n              </div>\r\n            </form>\r\n          </motion.div>\r\n        </div>\r\n      )}\r\n      </AdminLayout>\r\n    </AdminProtectedRoute>\r\n  )\r\n}\r\n","import { useState, useEffect } from 'react'\r\nimport { Helmet } from 'react-helmet-async'\r\nimport { motion } from 'framer-motion'\r\nimport { \r\n  Mail, \r\n  Search, \r\n  Eye,\r\n  MessageSquare,\r\n  Clock,\r\n  CheckCircle,\r\n  AlertCircle,\r\n  ExternalLink,\r\n  Calendar,\r\n  User,\r\n  Filter\r\n} from 'lucide-react'\r\nimport { useAdmin } from '../hooks/useAdmin'\r\nimport AdminLayout from '../components/AdminLayout'\r\nimport AdminProtectedRoute from '../components/AdminProtectedRoute'\r\n\r\ninterface ContactSubmission {\r\n  id: string\r\n  name: string\r\n  email: string\r\n  subject: string\r\n  message: string\r\n  submitted_at: string\r\n  status: 'new' | 'in_progress' | 'resolved'\r\n}\r\n\r\nexport default function AdminContacts() {\r\n  const { isAdmin, getContactSubmissions, updateContactSubmissionStatus } = useAdmin()\r\n  \r\n  const [contacts, setContacts] = useState<ContactSubmission[]>([])\r\n  const [filteredContacts, setFilteredContacts] = useState<ContactSubmission[]>([])\r\n  const [contactsLoading, setContactsLoading] = useState(true)\r\n  const [searchTerm, setSearchTerm] = useState('')\r\n  const [statusFilter, setStatusFilter] = useState('all')\r\n  const [selectedContact, setSelectedContact] = useState<ContactSubmission | null>(null)\r\n  const [isDetailModalOpen, setIsDetailModalOpen] = useState(false)\r\n  const [error, setError] = useState('')\r\n  const [message, setMessage] = useState('')\r\n\r\n  // Remove the problematic redirect - AdminProtectedRoute will handle it\r\n\r\n  useEffect(() => {\r\n    const fetchContacts = async () => {\r\n      if (isAdmin) {\r\n        try {\r\n          const contactsData = await getContactSubmissions()\r\n          setContacts(contactsData)\r\n        } catch (error) {\r\n          console.error('AdminContacts: Error fetching contacts:', error)\r\n          setError('Failed to load contact submissions: ' + (error instanceof Error ? error.message : String(error)))\r\n        } finally {\r\n          setContactsLoading(false)\r\n        }\r\n      } else {\r\n        setContactsLoading(false)\r\n      }\r\n    }\r\n\r\n    fetchContacts()\r\n  }, [isAdmin, getContactSubmissions])\r\n\r\n  // Filter contacts\r\n  useEffect(() => {\r\n    let filtered = contacts\r\n\r\n    if (statusFilter !== 'all') {\r\n      filtered = filtered.filter(contact => contact.status === statusFilter)\r\n    }\r\n\r\n    if (searchTerm) {\r\n      const term = searchTerm.toLowerCase()\r\n      filtered = filtered.filter(contact => \r\n        contact.name.toLowerCase().includes(term) ||\r\n        contact.email.toLowerCase().includes(term) ||\r\n        contact.subject.toLowerCase().includes(term) ||\r\n        contact.message.toLowerCase().includes(term)\r\n      )\r\n    }\r\n\r\n    setFilteredContacts(filtered)\r\n  }, [contacts, searchTerm, statusFilter])\r\n\r\n  const handleStatusChange = async (contactId: string, newStatus: 'new' | 'in_progress' | 'resolved') => {\r\n    try {\r\n      const result = await updateContactSubmissionStatus(contactId, newStatus)\r\n      \r\n      if (result.error) {\r\n        setError('Failed to update status: ' + (result.error instanceof Error ? result.error.message : String(result.error)))\r\n      } else {\r\n        setMessage('Status updated successfully!')\r\n        \r\n        // Update local state\r\n        setContacts(contacts.map(contact => \r\n          contact.id === contactId \r\n            ? { ...contact, status: newStatus }\r\n            : contact\r\n        ))\r\n        \r\n        // Update selected contact if it's the one being updated\r\n        if (selectedContact?.id === contactId) {\r\n          setSelectedContact({ ...selectedContact, status: newStatus })\r\n        }\r\n        \r\n        // Close the modal after successful status update\r\n        setTimeout(() => {\r\n          setMessage('')\r\n          closeDetailModal()\r\n        }, 1500) // Show success message briefly before closing\r\n      }\r\n    } catch (error) {\r\n      console.error('âŒ AdminContacts: Unexpected error during status change', error)\r\n      setError('An unexpected error occurred: ' + (error instanceof Error ? error.message : String(error)))\r\n    }\r\n  }\r\n\r\n  const openContactDetail = (contact: ContactSubmission) => {\r\n    setSelectedContact(contact)\r\n    setIsDetailModalOpen(true)\r\n    \r\n    // Mark as in_progress if it's new (since 'read' is not a valid enum value)\r\n    if (contact.status === 'new') {\r\n      handleStatusChange(contact.id, 'in_progress')\r\n    }\r\n  }\r\n\r\n  const closeDetailModal = () => {\r\n    setSelectedContact(null)\r\n    setIsDetailModalOpen(false)\r\n  }\r\n\r\n  const getStatusBadge = (status: string) => {\r\n    switch (status) {\r\n      case 'new':\r\n        return (\r\n          <span className=\"inline-flex items-center gap-1 px-2 py-1 rounded text-xs font-mono bg-blue-500/20 text-blue-400 border border-blue-500/30\">\r\n            <MessageSquare className=\"w-3 h-3\" />\r\n            New\r\n          </span>\r\n        )\r\n      case 'in_progress':\r\n        return (\r\n          <span className=\"inline-flex items-center gap-1 px-2 py-1 rounded text-xs font-mono bg-yellow-500/20 text-yellow-400 border border-yellow-500/30\">\r\n            <Clock className=\"w-3 h-3\" />\r\n            In Progress\r\n          </span>\r\n        )\r\n      case 'resolved':\r\n        return (\r\n          <span className=\"inline-flex items-center gap-1 px-2 py-1 rounded text-xs font-mono bg-terminal-green/20 text-terminal-green border border-terminal-green/30\">\r\n            <CheckCircle className=\"w-3 h-3\" />\r\n            Resolved\r\n          </span>\r\n        )\r\n      default:\r\n        return (\r\n          <span className=\"inline-flex items-center gap-1 px-2 py-1 rounded text-xs font-mono bg-gray-500/20 text-gray-400 border border-gray-500/30\">\r\n            {status}\r\n          </span>\r\n        )\r\n    }\r\n  }\r\n\r\n  const getContactStats = () => {\r\n    return {\r\n      total: contacts.length,\r\n      new: contacts.filter(c => c.status === 'new').length,\r\n      in_progress: contacts.filter(c => c.status === 'in_progress').length,\r\n      resolved: contacts.filter(c => c.status === 'resolved').length\r\n    }\r\n  }\r\n\r\n  if (contactsLoading) {\r\n    return (\r\n      <AdminProtectedRoute>\r\n        <div className=\"min-h-screen bg-black flex items-center justify-center\">\r\n          <div className=\"animate-spin rounded-full h-8 w-8 border-b-2 border-electric-violet\"></div>\r\n        </div>\r\n      </AdminProtectedRoute>\r\n    )\r\n  }\r\n\r\n  const stats = getContactStats()\r\n\r\n  return (\r\n    <AdminProtectedRoute>\r\n      <AdminLayout>\r\n        <Helmet>\r\n          <title>Contact Messages - Admin - Studio Nullbyte</title>\r\n          <meta name=\"robots\" content=\"noindex, nofollow\" />\r\n        </Helmet>\r\n\r\n      <div className=\"pb-6\">\r\n        <div className=\"w-full px-4 py-6\">\r\n          <motion.div\r\n            initial={{ opacity: 0, y: 20 }}\r\n            animate={{ opacity: 1, y: 0 }}\r\n            className=\"w-full\"\r\n          >\r\n            {/* Header */}\r\n            <div className=\"mb-8\">\r\n              <div className=\"flex items-center gap-3 mb-4\">\r\n                <Mail className=\"w-6 h-6 text-electric-violet\" />\r\n                <h1 className=\"text-3xl font-mono text-white\">Contact Messages</h1>\r\n              </div>\r\n              <p className=\"text-gray-400 font-mono\">\r\n                Review and respond to customer inquiries\r\n              </p>\r\n            </div>\r\n\r\n            {/* Status Messages */}\r\n            {message && (\r\n              <motion.div\r\n                initial={{ opacity: 0, y: -10 }}\r\n                animate={{ opacity: 1, y: 0 }}\r\n                className=\"flex items-center gap-2 bg-terminal-green/10 border border-terminal-green/30 rounded p-3 mb-6\"\r\n              >\r\n                <CheckCircle className=\"w-4 h-4 text-terminal-green\" />\r\n                <span className=\"text-sm font-mono text-terminal-green\">{message}</span>\r\n              </motion.div>\r\n            )}\r\n\r\n            {error && (\r\n              <motion.div\r\n                initial={{ opacity: 0, y: -10 }}\r\n                animate={{ opacity: 1, y: 0 }}\r\n                className=\"flex items-center gap-2 bg-red-500/10 border border-red-500/30 rounded p-3 mb-6\"\r\n              >\r\n                <AlertCircle className=\"w-4 h-4 text-red-400\" />\r\n                <span className=\"text-sm font-mono text-red-400\">{error}</span>\r\n              </motion.div>\r\n            )}\r\n\r\n            {/* Stats Cards */}\r\n            <div className=\"grid grid-cols-2 md:grid-cols-5 gap-4 mb-6\">\r\n              <div className=\"bg-code-gray-light border border-gray-700 rounded-lg p-4\">\r\n                <div className=\"flex items-center gap-2\">\r\n                  <Mail className=\"w-6 h-6 text-electric-violet\" />\r\n                  <div>\r\n                    <p className=\"text-xl font-mono text-white font-bold\">{stats.total}</p>\r\n                    <p className=\"text-gray-400 font-mono text-xs\">Total</p>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n\r\n              <div className=\"bg-code-gray-light border border-gray-700 rounded-lg p-4\">\r\n                <div className=\"flex items-center gap-2\">\r\n                  <MessageSquare className=\"w-6 h-6 text-blue-400\" />\r\n                  <div>\r\n                    <p className=\"text-xl font-mono text-white font-bold\">{stats.new}</p>\r\n                    <p className=\"text-gray-400 font-mono text-xs\">New</p>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n\r\n              <div className=\"bg-code-gray-light border border-gray-700 rounded-lg p-4\">\r\n                <div className=\"flex items-center gap-2\">\r\n                  <Clock className=\"w-6 h-6 text-yellow-400\" />\r\n                  <div>\r\n                    <p className=\"text-xl font-mono text-white font-bold\">{stats.in_progress}</p>\r\n                    <p className=\"text-gray-400 font-mono text-xs\">In Progress</p>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n\r\n              <div className=\"bg-code-gray-light border border-gray-700 rounded-lg p-4\">\r\n                <div className=\"flex items-center gap-2\">\r\n                  <CheckCircle className=\"w-6 h-6 text-terminal-green\" />\r\n                  <div>\r\n                    <p className=\"text-xl font-mono text-white font-bold\">{stats.resolved}</p>\r\n                    <p className=\"text-gray-400 font-mono text-xs\">Resolved</p>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n\r\n            {/* Filters */}\r\n            <div className=\"bg-code-gray-light border border-gray-700 rounded-lg p-6 mb-6\">\r\n              <div className=\"flex flex-col md:flex-row gap-4\">\r\n                {/* Search */}\r\n                <div className=\"flex-1 relative\">\r\n                  <Search className=\"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-400\" />\r\n                  <input\r\n                    type=\"text\"\r\n                    placeholder=\"Search contacts...\"\r\n                    value={searchTerm}\r\n                    onChange={(e) => setSearchTerm(e.target.value)}\r\n                    className=\"w-full bg-code-gray border border-gray-600 pl-10 pr-4 py-2 rounded font-mono text-white placeholder-gray-500 focus:outline-none focus:border-electric-violet transition-colors\"\r\n                  />\r\n                </div>\r\n\r\n                {/* Status Filter */}\r\n                <div className=\"relative\">\r\n                  <Filter className=\"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-400\" />\r\n                  <select\r\n                    value={statusFilter}\r\n                    onChange={(e) => setStatusFilter(e.target.value)}\r\n                    className=\"bg-code-gray border border-gray-600 pl-10 pr-8 py-2 rounded font-mono text-white focus:outline-none focus:border-electric-violet transition-colors appearance-none\"\r\n                  >\r\n                    <option value=\"all\">All Status</option>\r\n                    <option value=\"new\">New</option>\r\n                    <option value=\"in_progress\">In Progress</option>\r\n                    <option value=\"resolved\">Resolved</option>\r\n                  </select>\r\n                </div>\r\n              </div>\r\n            </div>\r\n\r\n            {/* Contacts List */}\r\n            <div className=\"bg-code-gray-light border border-gray-700 rounded-lg overflow-hidden\">\r\n              {filteredContacts.length > 0 ? (\r\n                <div className=\"divide-y divide-gray-700\">\r\n                  {filteredContacts.map((contact, index) => (\r\n                    <motion.div\r\n                      key={contact.id}\r\n                      initial={{ opacity: 0, y: 10 }}\r\n                      animate={{ opacity: 1, y: 0 }}\r\n                      transition={{ delay: index * 0.05 }}\r\n                      className=\"p-6 hover:bg-code-gray transition-colors cursor-pointer\"\r\n                      onClick={() => openContactDetail(contact)}\r\n                    >\r\n                      <div className=\"flex items-start justify-between mb-3\">\r\n                        <div className=\"flex items-center gap-3\">\r\n                          <div className=\"w-10 h-10 bg-electric-violet/20 rounded-lg flex items-center justify-center\">\r\n                            <User className=\"w-5 h-5 text-electric-violet\" />\r\n                          </div>\r\n                          <div>\r\n                            <h3 className=\"font-mono text-white text-lg\">{contact.name}</h3>\r\n                            <p className=\"text-gray-400 font-mono text-sm\">{contact.email}</p>\r\n                          </div>\r\n                        </div>\r\n                        <div className=\"flex items-center gap-3\">\r\n                          {getStatusBadge(contact.status)}\r\n                          <Eye className=\"w-4 h-4 text-gray-400\" />\r\n                        </div>\r\n                      </div>\r\n\r\n                      <h4 className=\"font-mono text-white text-base mb-2\">{contact.subject}</h4>\r\n                      \r\n                      <p className=\"text-gray-400 font-mono text-sm mb-3 line-clamp-2\">\r\n                        {contact.message}\r\n                      </p>\r\n\r\n                      <div className=\"flex items-center gap-4 text-xs font-mono text-gray-500\">\r\n                        <div className=\"flex items-center gap-1\">\r\n                          <Calendar className=\"w-3 h-3\" />\r\n                          {new Date(contact.submitted_at).toLocaleDateString()}\r\n                        </div>\r\n                        <div className=\"flex items-center gap-1\">\r\n                          <Clock className=\"w-3 h-3\" />\r\n                          {new Date(contact.submitted_at).toLocaleTimeString()}\r\n                        </div>\r\n                      </div>\r\n                    </motion.div>\r\n                  ))}\r\n                </div>\r\n              ) : (\r\n                <div className=\"text-center py-12\">\r\n                  <Mail className=\"w-16 h-16 text-gray-600 mx-auto mb-4\" />\r\n                  <h3 className=\"text-lg font-mono text-gray-400 mb-2\">No contact messages found</h3>\r\n                  <p className=\"text-gray-500 font-mono text-sm\">\r\n                    {searchTerm || statusFilter !== 'all' ? 'Try adjusting your filters' : 'No messages have been submitted yet'}\r\n                  </p>\r\n                </div>\r\n              )}\r\n            </div>\r\n          </motion.div>\r\n        </div>\r\n      </div>\r\n\r\n      {/* Contact Detail Modal */}\r\n      {isDetailModalOpen && selectedContact && (\r\n        <div className=\"fixed inset-0 bg-black/80 backdrop-blur-sm z-50 flex items-center justify-center p-4\">\r\n          <motion.div\r\n            initial={{ opacity: 0, scale: 0.95 }}\r\n            animate={{ opacity: 1, scale: 1 }}\r\n            className=\"bg-code-gray-light border border-gray-700 rounded-lg w-full max-w-2xl max-h-[90vh] overflow-y-auto\"\r\n          >\r\n            <div className=\"p-6\">\r\n              {/* Modal Header */}\r\n              <div className=\"flex items-center justify-between mb-6\">\r\n                <h2 className=\"text-xl font-mono text-white\">Contact Details</h2>\r\n                <button\r\n                  onClick={closeDetailModal}\r\n                  className=\"text-gray-400 hover:text-white transition-colors\"\r\n                >\r\n                  âœ•\r\n                </button>\r\n              </div>\r\n\r\n              {/* Contact Info */}\r\n              <div className=\"space-y-4 mb-6\">\r\n                <div className=\"flex items-center gap-3\">\r\n                  <User className=\"w-5 h-5 text-electric-violet\" />\r\n                  <div>\r\n                    <p className=\"text-sm font-mono text-gray-400\">Name</p>\r\n                    <p className=\"text-white font-mono\">{selectedContact.name}</p>\r\n                  </div>\r\n                </div>\r\n\r\n                <div className=\"flex items-center gap-3\">\r\n                  <Mail className=\"w-5 h-5 text-electric-violet\" />\r\n                  <div>\r\n                    <p className=\"text-sm font-mono text-gray-400\">Email</p>\r\n                    <p className=\"text-white font-mono\">{selectedContact.email}</p>\r\n                    <a \r\n                      href={`mailto:${selectedContact.email}`}\r\n                      className=\"text-electric-violet hover:text-electric-violet-light font-mono text-sm flex items-center gap-1 mt-1\"\r\n                    >\r\n                      Reply via email <ExternalLink className=\"w-3 h-3\" />\r\n                    </a>\r\n                  </div>\r\n                </div>\r\n\r\n                <div className=\"flex items-center gap-3\">\r\n                  <MessageSquare className=\"w-5 h-5 text-electric-violet\" />\r\n                  <div>\r\n                    <p className=\"text-sm font-mono text-gray-400\">Subject</p>\r\n                    <p className=\"text-white font-mono\">{selectedContact.subject}</p>\r\n                  </div>\r\n                </div>\r\n\r\n                <div className=\"flex items-center gap-3\">\r\n                  <Calendar className=\"w-5 h-5 text-electric-violet\" />\r\n                  <div>\r\n                    <p className=\"text-sm font-mono text-gray-400\">Submitted</p>\r\n                    <p className=\"text-white font-mono\">\r\n                      {new Date(selectedContact.submitted_at).toLocaleString()}\r\n                    </p>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n\r\n              {/* Message */}\r\n              <div className=\"mb-6\">\r\n                <p className=\"text-sm font-mono text-gray-400 mb-2\">Message</p>\r\n                <div className=\"bg-code-gray border border-gray-600 rounded p-4\">\r\n                  <p className=\"text-white font-mono text-sm whitespace-pre-wrap\">\r\n                    {selectedContact.message}\r\n                  </p>\r\n                </div>\r\n              </div>\r\n\r\n              {/* Status Controls */}\r\n              <div className=\"border-t border-gray-700 pt-6\">\r\n                <p className=\"text-sm font-mono text-gray-400 mb-3\">Update Status</p>\r\n                <div className=\"flex flex-wrap gap-2\">\r\n                  {(['new', 'in_progress', 'resolved'] as const).map((status) => (\r\n                    <button\r\n                      key={status}\r\n                      onClick={() => handleStatusChange(selectedContact.id, status)}\r\n                      disabled={selectedContact.status === status}\r\n                      className={`px-3 py-2 rounded font-mono text-sm transition-colors ${\r\n                        selectedContact.status === status\r\n                          ? 'bg-electric-violet text-white cursor-not-allowed'\r\n                          : 'bg-gray-600 hover:bg-gray-700 text-white'\r\n                      }`}\r\n                    >\r\n                      Mark as {status === 'in_progress' ? 'In Progress' : status.charAt(0).toUpperCase() + status.slice(1)}\r\n                    </button>\r\n                  ))}\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </motion.div>\r\n        </div>\r\n      )}\r\n      </AdminLayout>\r\n    </AdminProtectedRoute>\r\n  )\r\n}\r\n","import React from 'react'\r\nimport { motion } from 'framer-motion'\r\nimport { Shield, Eye, Lock, Database, Users, Mail, Settings, AlertTriangle, Globe, Clock, FileText } from 'lucide-react'\r\nimport SEO from '../components/SEO'\r\n\r\nconst PrivacyPolicy: React.FC = () => {\r\n  const lastUpdated = \"January 2025\"\r\n\r\n  const sections = [\r\n    {\r\n      id: 'information-collection',\r\n      title: 'Information We Collect',\r\n      icon: <Database className=\"w-5 h-5\" />,\r\n      content: [\r\n        {\r\n          subtitle: 'Account Information',\r\n          items: [\r\n            'Full name and email address (required for registration)',\r\n            'Password (encrypted and never stored in plain text)',\r\n            'Profile information (avatar, display preferences)',\r\n            'Account verification status and authentication metadata'\r\n          ]\r\n        },\r\n        {\r\n          subtitle: 'Payment Information',\r\n          items: [\r\n            'Billing address and contact information',\r\n            'Payment method details (processed securely by PayPal and Square)',\r\n            'Transaction history and order information',\r\n            'Download history and purchase records'\r\n          ]\r\n        },\r\n        {\r\n          subtitle: 'Communication Data',\r\n          items: [\r\n            'Contact form submissions (name, email, subject, message)',\r\n            'Live chat conversations through Crisp Chat',\r\n            'Email communications and support tickets',\r\n            'User feedback and product reviews'\r\n          ]\r\n        },\r\n        {\r\n          subtitle: 'Technical Information',\r\n          items: [\r\n            'IP address and geographic location',\r\n            'Device information and browser type',\r\n            'Usage analytics and site interaction data',\r\n            'Session data and authentication tokens'\r\n          ]\r\n        }\r\n      ]\r\n    },\r\n    {\r\n      id: 'information-usage',\r\n      title: 'How We Use Your Information',\r\n      icon: <Settings className=\"w-5 h-5\" />,\r\n      content: [\r\n        {\r\n          subtitle: 'Core Services',\r\n          items: [\r\n            'Account creation and authentication',\r\n            'Processing payments and delivering digital products',\r\n            'Providing customer support and responding to inquiries',\r\n            'Sending order confirmations and download links via email'\r\n          ]\r\n        },\r\n        {\r\n          subtitle: 'Platform Improvement',\r\n          items: [\r\n            'Analyzing usage patterns to improve user experience',\r\n            'Monitoring site performance and security',\r\n            'Developing new features and products',\r\n            'Preventing fraud and ensuring platform security'\r\n          ]\r\n        },\r\n        {\r\n          subtitle: 'Communications',\r\n          items: [\r\n            'Sending transactional emails (order confirmations, password resets)',\r\n            'Providing customer support through multiple channels',\r\n            'Notifying users of important account or service changes',\r\n            'Responding to contact form submissions and support requests'\r\n          ]\r\n        }\r\n      ]\r\n    },\r\n    {\r\n      id: 'data-sharing',\r\n      title: 'Information Sharing',\r\n      icon: <Users className=\"w-5 h-5\" />,\r\n      content: [\r\n        {\r\n          subtitle: 'Third-Party Services',\r\n          items: [\r\n            'Supabase (database hosting and authentication)',\r\n            'PayPal and Square (payment processing)',\r\n            'Crisp Chat (live customer support)',\r\n            'EmailJS (automated email delivery)',\r\n            'GitHub Pages (website hosting)'\r\n          ]\r\n        },\r\n        {\r\n          subtitle: 'We Never Share',\r\n          items: [\r\n            'Personal information with advertisers or marketers',\r\n            'User data with unauthorized third parties',\r\n            'Payment information (handled directly by payment processors)',\r\n            'Private communications or sensitive account details'\r\n          ]\r\n        },\r\n        {\r\n          subtitle: 'Legal Requirements',\r\n          items: [\r\n            'We may disclose information if required by law',\r\n            'To protect our rights and prevent fraud',\r\n            'To comply with legal processes or government requests',\r\n            'To protect the safety of our users and platform'\r\n          ]\r\n        }\r\n      ]\r\n    },\r\n    {\r\n      id: 'data-security',\r\n      title: 'Data Security',\r\n      icon: <Lock className=\"w-5 h-5\" />,\r\n      content: [\r\n        {\r\n          subtitle: 'Security Measures',\r\n          items: [\r\n            'HTTPS encryption for all data transmission',\r\n            'Row Level Security (RLS) policies on all database tables',\r\n            'Secure authentication through Supabase Auth',\r\n            'Regular security audits and monitoring'\r\n          ]\r\n        },\r\n        {\r\n          subtitle: 'Payment Security',\r\n          items: [\r\n            'PCI-compliant payment processing through PayPal and Square',\r\n            'No storage of credit card information on our servers',\r\n            'Tokenized payment methods for enhanced security',\r\n            'Secure transaction logging and monitoring'\r\n          ]\r\n        },\r\n        {\r\n          subtitle: 'Access Controls',\r\n          items: [\r\n            'Role-based access control for admin functions',\r\n            'User-specific data access restrictions',\r\n            'Regular security updates and patches',\r\n            'Secure session management and token handling'\r\n          ]\r\n        }\r\n      ]\r\n    },\r\n    {\r\n      id: 'user-rights',\r\n      title: 'Your Rights',\r\n      icon: <Shield className=\"w-5 h-5\" />,\r\n      content: [\r\n        {\r\n          subtitle: 'Account Control',\r\n          items: [\r\n            'Access and update your profile information',\r\n            'Change your password and security settings',\r\n            'Download your purchase history and data',\r\n            'Delete your account and associated data'\r\n          ]\r\n        },\r\n        {\r\n          subtitle: 'Data Rights',\r\n          items: [\r\n            'Request a copy of your personal data',\r\n            'Correct inaccurate or incomplete information',\r\n            'Request deletion of your personal data',\r\n            'Restrict or object to data processing'\r\n          ]\r\n        },\r\n        {\r\n          subtitle: 'Communication Preferences',\r\n          items: [\r\n            'Opt out of non-essential communications',\r\n            'Control email notification preferences',\r\n            'Manage live chat availability',\r\n            'Update contact information and preferences'\r\n          ]\r\n        }\r\n      ]\r\n    },\r\n    {\r\n      id: 'cookies',\r\n      title: 'Cookies & Tracking',\r\n      icon: <Eye className=\"w-5 h-5\" />,\r\n      content: [\r\n        {\r\n          subtitle: 'Essential Cookies',\r\n          items: [\r\n            'Authentication and session management',\r\n            'Shopping cart and checkout functionality',\r\n            'Security and fraud prevention',\r\n            'Site preferences and user settings'\r\n          ]\r\n        },\r\n        {\r\n          subtitle: 'Analytics',\r\n          items: [\r\n            'Usage analytics to improve site performance',\r\n            'Error tracking and debugging information',\r\n            'Feature usage and user interaction data',\r\n            'Site optimization and A/B testing'\r\n          ]\r\n        },\r\n        {\r\n          subtitle: 'Third-Party Cookies',\r\n          items: [\r\n            'Payment processor cookies (PayPal, Square)',\r\n            'Live chat functionality (Crisp Chat)',\r\n            'External service integrations',\r\n            'Social media and sharing features'\r\n          ]\r\n        }\r\n      ]\r\n    },\r\n    {\r\n      id: 'international',\r\n      title: 'International Users',\r\n      icon: <Globe className=\"w-5 h-5\" />,\r\n      content: [\r\n        {\r\n          subtitle: 'Data Transfers',\r\n          items: [\r\n            'Data is processed in the United States',\r\n            'We comply with international data protection laws',\r\n            'Adequate safeguards are in place for data transfers',\r\n            'Users consent to international data processing'\r\n          ]\r\n        },\r\n        {\r\n          subtitle: 'Regional Compliance',\r\n          items: [\r\n            'GDPR compliance for European users',\r\n            'CCPA compliance for California residents',\r\n            'Adherence to local data protection regulations',\r\n            'Regular compliance audits and updates'\r\n          ]\r\n        }\r\n      ]\r\n    },\r\n    {\r\n      id: 'data-retention',\r\n      title: 'Data Retention',\r\n      icon: <Clock className=\"w-5 h-5\" />,\r\n      content: [\r\n        {\r\n          subtitle: 'Retention Periods',\r\n          items: [\r\n            'Account data: Retained while account is active',\r\n            'Transaction records: 7 years for tax and legal purposes',\r\n            'Support communications: 3 years for service improvement',\r\n            'Analytics data: Anonymized and retained for 2 years'\r\n          ]\r\n        },\r\n        {\r\n          subtitle: 'Data Deletion',\r\n          items: [\r\n            'Users can request immediate account deletion',\r\n            'Automated deletion of expired session data',\r\n            'Secure deletion of payment information',\r\n            'Retention of minimal data for legal compliance'\r\n          ]\r\n        }\r\n      ]\r\n    },\r\n    {\r\n      id: 'children',\r\n      title: 'Children\\'s Privacy',\r\n      icon: <AlertTriangle className=\"w-5 h-5\" />,\r\n      content: [\r\n        {\r\n          subtitle: 'Age Requirements',\r\n          items: [\r\n            'Studio Nullbyte is not intended for children under 13',\r\n            'We do not knowingly collect data from children',\r\n            'Users must be 18 or older to make purchases',\r\n            'Parents can request deletion of child data'\r\n          ]\r\n        }\r\n      ]\r\n    },\r\n    {\r\n      id: 'changes',\r\n      title: 'Policy Changes',\r\n      icon: <FileText className=\"w-5 h-5\" />,\r\n      content: [\r\n        {\r\n          subtitle: 'Updates',\r\n          items: [\r\n            'We may update this policy to reflect changes in our practices',\r\n            'Users will be notified of significant changes',\r\n            'Continued use constitutes acceptance of updates',\r\n            'Previous versions are available upon request'\r\n          ]\r\n        }\r\n      ]\r\n    }\r\n  ]\r\n\r\n  return (\r\n    <>\r\n      <SEO \r\n        title=\"Privacy Policy - Studio Nullbyte\"\r\n        description=\"Privacy policy for Studio Nullbyte. Learn how we collect, use, and protect your personal information.\"\r\n        canonical=\"https://studio-nullbyte.github.io/privacy-policy\"\r\n        noIndex={true}\r\n      />\r\n\r\n      <div className=\"min-h-screen bg-black pt-20 pb-12\">\r\n        <div className=\"container mx-auto px-4\">\r\n          {/* Header */}\r\n          <motion.div\r\n            initial={{ opacity: 0, y: 20 }}\r\n            animate={{ opacity: 1, y: 0 }}\r\n            transition={{ duration: 0.5 }}\r\n            className=\"text-center mb-12\"\r\n          >\r\n            <div className=\"flex items-center justify-center gap-3 mb-4\">\r\n              <Shield className=\"w-8 h-8 text-electric-violet\" />\r\n              <h1 className=\"text-4xl md:text-5xl font-mono text-white\">\r\n                Privacy Policy\r\n              </h1>\r\n            </div>\r\n            <p className=\"text-xl text-gray-400 font-mono max-w-3xl mx-auto\">\r\n              Your privacy is important to us. This policy explains how Studio Nullbyte collects, \r\n              uses, and protects your personal information.\r\n            </p>\r\n            <div className=\"mt-6 text-sm text-gray-500 font-mono\">\r\n              Last Updated: {lastUpdated}\r\n            </div>\r\n          </motion.div>\r\n\r\n          {/* Introduction */}\r\n          <motion.div\r\n            initial={{ opacity: 0, y: 20 }}\r\n            animate={{ opacity: 1, y: 0 }}\r\n            transition={{ duration: 0.5, delay: 0.1 }}\r\n            className=\"mb-12\"\r\n          >\r\n            <div className=\"bg-code-gray-light border border-gray-700 rounded-lg p-6\">\r\n              <h2 className=\"text-2xl font-mono text-white mb-4\">Introduction</h2>\r\n              <p className=\"text-gray-400 font-mono leading-relaxed mb-4\">\r\n                Studio Nullbyte (\"we,\" \"our,\" or \"us\") is committed to protecting your privacy. \r\n                This Privacy Policy explains how we collect, use, disclose, and safeguard your \r\n                information when you use our website and services.\r\n              </p>\r\n              <p className=\"text-gray-400 font-mono leading-relaxed\">\r\n                By using Studio Nullbyte, you consent to the practices described in this Privacy Policy. \r\n                If you do not agree with this policy, please do not use our services.\r\n              </p>\r\n            </div>\r\n          </motion.div>\r\n\r\n          {/* Contact Information */}\r\n          <motion.div\r\n            initial={{ opacity: 0, y: 20 }}\r\n            animate={{ opacity: 1, y: 0 }}\r\n            transition={{ duration: 0.5, delay: 0.2 }}\r\n            className=\"mb-12\"\r\n          >\r\n            <div className=\"bg-code-gray-light border border-gray-700 rounded-lg p-6\">\r\n              <h2 className=\"text-2xl font-mono text-white mb-4\">Contact Information</h2>\r\n              <div className=\"space-y-3\">\r\n                <div className=\"flex items-center gap-3\">\r\n                  <Mail className=\"w-5 h-5 text-electric-violet\" />\r\n                  <span className=\"text-gray-400 font-mono\">studionullbyte@gmail.com</span>\r\n                </div>\r\n                <div className=\"flex items-center gap-3\">\r\n                  <Globe className=\"w-5 h-5 text-electric-violet\" />\r\n                  <span className=\"text-gray-400 font-mono\">https://studio-nullbyte.github.io</span>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </motion.div>\r\n\r\n          {/* Privacy Policy Sections */}\r\n          <div className=\"space-y-8\">\r\n            {sections.map((section, index) => (\r\n              <motion.div\r\n                key={section.id}\r\n                initial={{ opacity: 0, y: 20 }}\r\n                animate={{ opacity: 1, y: 0 }}\r\n                transition={{ duration: 0.5, delay: 0.3 + index * 0.1 }}\r\n                className=\"bg-code-gray-light border border-gray-700 rounded-lg p-6\"\r\n              >\r\n                <div className=\"flex items-center gap-3 mb-6\">\r\n                  <div className=\"text-electric-violet\">\r\n                    {section.icon}\r\n                  </div>\r\n                  <h2 className=\"text-2xl font-mono text-white\">\r\n                    {section.title}\r\n                  </h2>\r\n                </div>\r\n\r\n                <div className=\"space-y-6\">\r\n                  {section.content.map((subsection, subIndex) => (\r\n                    <div key={subIndex}>\r\n                      <h3 className=\"text-lg font-mono text-electric-violet mb-3\">\r\n                        {subsection.subtitle}\r\n                      </h3>\r\n                      <ul className=\"space-y-2\">\r\n                        {subsection.items.map((item, itemIndex) => (\r\n                          <li key={itemIndex} className=\"flex items-start gap-3\">\r\n                            <span className=\"text-electric-violet mt-2\">â€¢</span>\r\n                            <span className=\"text-gray-400 font-mono leading-relaxed\">\r\n                              {item}\r\n                            </span>\r\n                          </li>\r\n                        ))}\r\n                      </ul>\r\n                    </div>\r\n                  ))}\r\n                </div>\r\n              </motion.div>\r\n            ))}\r\n          </div>\r\n\r\n          {/* Data Subject Rights */}\r\n          <motion.div\r\n            initial={{ opacity: 0, y: 20 }}\r\n            animate={{ opacity: 1, y: 0 }}\r\n            transition={{ duration: 0.5, delay: 0.8 }}\r\n            className=\"mt-12\"\r\n          >\r\n            <div className=\"bg-electric-violet/10 border border-electric-violet/30 rounded-lg p-6\">\r\n              <h2 className=\"text-2xl font-mono text-white mb-4\">Exercise Your Rights</h2>\r\n              <p className=\"text-gray-400 font-mono leading-relaxed mb-4\">\r\n                To exercise any of your privacy rights or if you have questions about this policy, \r\n                please contact us at:\r\n              </p>\r\n              <div className=\"flex items-center gap-3 mb-4\">\r\n                <Mail className=\"w-5 h-5 text-electric-violet\" />\r\n                <a \r\n                  href=\"mailto:studionullbyte@gmail.com\" \r\n                  className=\"text-electric-violet font-mono hover:text-electric-violet-light transition-colors\"\r\n                >\r\n                  studionullbyte@gmail.com\r\n                </a>\r\n              </div>\r\n              <p className=\"text-gray-400 font-mono text-sm\">\r\n                We will respond to your request within 30 days of receipt.\r\n              </p>\r\n            </div>\r\n          </motion.div>\r\n\r\n          {/* Effective Date */}\r\n          <motion.div\r\n            initial={{ opacity: 0, y: 20 }}\r\n            animate={{ opacity: 1, y: 0 }}\r\n            transition={{ duration: 0.5, delay: 0.9 }}\r\n            className=\"mt-12 text-center\"\r\n          >\r\n            <div className=\"bg-code-gray-light border border-gray-700 rounded-lg p-6\">\r\n              <div className=\"flex items-center justify-center gap-3 mb-3\">\r\n                <Clock className=\"w-5 h-5 text-electric-violet\" />\r\n                <h3 className=\"text-lg font-mono text-white\">Effective Date</h3>\r\n              </div>\r\n              <p className=\"text-gray-400 font-mono\">\r\n                This Privacy Policy is effective as of {lastUpdated} and will remain in effect \r\n                except with respect to any changes in its provisions in the future.\r\n              </p>\r\n            </div>\r\n          </motion.div>\r\n        </div>\r\n      </div>\r\n    </>\r\n  )\r\n}\r\n\r\nexport default PrivacyPolicy\r\n","import React from 'react'\r\nimport { motion } from 'framer-motion'\r\nimport { FileText, Scale, AlertTriangle, Shield, CreditCard, Download, User, Mail, Clock, Globe } from 'lucide-react'\r\nimport SEO from '../components/SEO'\r\n\r\nconst TermsOfService: React.FC = () => {\r\n  const lastUpdated = \"January 2025\"\r\n\r\n  const sections = [\r\n    {\r\n      id: 'acceptance',\r\n      title: 'Acceptance of Terms',\r\n      icon: <FileText className=\"w-5 h-5\" />,\r\n      content: [\r\n        {\r\n          subtitle: 'Agreement',\r\n          items: [\r\n            'By accessing or using Studio Nullbyte, you agree to be bound by these Terms of Service',\r\n            'These terms apply to all users, including browsers, vendors, customers, and contributors',\r\n            'If you do not agree to these terms, you may not access or use our services',\r\n            'We reserve the right to refuse service to anyone for any reason at any time'\r\n          ]\r\n        },\r\n        {\r\n          subtitle: 'Modifications',\r\n          items: [\r\n            'We may modify these terms at any time without prior notice',\r\n            'Updated terms will be posted on this page with a new \"Last Updated\" date',\r\n            'Your continued use of the service constitutes acceptance of modified terms',\r\n            'It is your responsibility to review these terms periodically'\r\n          ]\r\n        }\r\n      ]\r\n    },\r\n    {\r\n      id: 'services',\r\n      title: 'Services Description',\r\n      icon: <Download className=\"w-5 h-5\" />,\r\n      content: [\r\n        {\r\n          subtitle: 'Digital Products',\r\n          items: [\r\n            'Studio Nullbyte offers digital templates, tools, and resources for developers',\r\n            'Products include web templates, Notion templates, AI prompts, and UI components',\r\n            'All products are delivered digitally via email and download links',\r\n            'Products are licensed for use, not sold - you receive usage rights only'\r\n          ]\r\n        },\r\n        {\r\n          subtitle: 'Service Availability',\r\n          items: [\r\n            'We strive to maintain 99.9% uptime but cannot guarantee uninterrupted service',\r\n            'Services may be temporarily unavailable for maintenance or updates',\r\n            'We reserve the right to modify or discontinue services at any time',\r\n            'No compensation will be provided for service interruptions'\r\n          ]\r\n        }\r\n      ]\r\n    },\r\n    {\r\n      id: 'accounts',\r\n      title: 'User Accounts',\r\n      icon: <User className=\"w-5 h-5\" />,\r\n      content: [\r\n        {\r\n          subtitle: 'Account Registration',\r\n          items: [\r\n            'You must provide accurate and complete information when creating an account',\r\n            'You are responsible for maintaining the confidentiality of your account credentials',\r\n            'You must notify us immediately of any unauthorized use of your account',\r\n            'You are responsible for all activities that occur under your account'\r\n          ]\r\n        },\r\n        {\r\n          subtitle: 'Account Restrictions',\r\n          items: [\r\n            'You must be at least 18 years old to create an account',\r\n            'One account per person - multiple accounts are not permitted',\r\n            'Accounts may not be transferred or sold to other parties',\r\n            'We may suspend or terminate accounts that violate these terms'\r\n          ]\r\n        }\r\n      ]\r\n    },\r\n    {\r\n      id: 'purchases',\r\n      title: 'Purchases & Payments',\r\n      icon: <CreditCard className=\"w-5 h-5\" />,\r\n      content: [\r\n        {\r\n          subtitle: 'Payment Processing',\r\n          items: [\r\n            'Payments are processed securely through PayPal and Square',\r\n            'All prices are in USD and subject to applicable taxes',\r\n            'Payment must be received before product delivery',\r\n            'We do not store credit card information on our servers'\r\n          ]\r\n        },\r\n        {\r\n          subtitle: 'Digital Delivery',\r\n          items: [\r\n            'Products are delivered instantly via email after successful payment',\r\n            'Download links are valid for 30 days from purchase date',\r\n            'You may re-download products from your account dashboard',\r\n            'Technical support is provided for download and access issues'\r\n          ]\r\n        },\r\n        {\r\n          subtitle: 'Refunds',\r\n          items: [\r\n            'Digital products are non-refundable due to their instant delivery nature',\r\n            'Refunds may be considered for technical issues preventing product access',\r\n            'Refund requests must be submitted within 7 days of purchase',\r\n            'Refunds, if approved, will be processed within 5-10 business days'\r\n          ]\r\n        }\r\n      ]\r\n    },\r\n    {\r\n      id: 'licenses',\r\n      title: 'Product Licenses',\r\n      icon: <Scale className=\"w-5 h-5\" />,\r\n      content: [\r\n        {\r\n          subtitle: 'Usage Rights',\r\n          items: [\r\n            'You receive a non-exclusive, non-transferable license to use purchased products',\r\n            'Products may be used for personal and commercial projects',\r\n            'You may modify and customize products to suit your needs',\r\n            'Usage rights are perpetual - no recurring fees or expiration'\r\n          ]\r\n        },\r\n        {\r\n          subtitle: 'Restrictions',\r\n          items: [\r\n            'You may not redistribute, resell, or sublicense the products',\r\n            'You may not claim ownership of the original product designs',\r\n            'You may not use products to compete directly with Studio Nullbyte',\r\n            'Products may not be used for illegal or harmful purposes'\r\n          ]\r\n        }\r\n      ]\r\n    },\r\n    {\r\n      id: 'conduct',\r\n      title: 'User Conduct',\r\n      icon: <Shield className=\"w-5 h-5\" />,\r\n      content: [\r\n        {\r\n          subtitle: 'Prohibited Activities',\r\n          items: [\r\n            'Attempting to gain unauthorized access to our systems',\r\n            'Uploading malicious code or attempting to harm our infrastructure',\r\n            'Harassing, abusing, or threatening other users or staff',\r\n            'Violating any applicable laws or regulations'\r\n          ]\r\n        },\r\n        {\r\n          subtitle: 'Content Guidelines',\r\n          items: [\r\n            'User-generated content must be appropriate and legal',\r\n            'No spam, promotional content, or irrelevant material',\r\n            'Respect intellectual property rights of others',\r\n            'Report any inappropriate content or behavior to our support team'\r\n          ]\r\n        }\r\n      ]\r\n    },\r\n    {\r\n      id: 'intellectual-property',\r\n      title: 'Intellectual Property',\r\n      icon: <Globe className=\"w-5 h-5\" />,\r\n      content: [\r\n        {\r\n          subtitle: 'Our Rights',\r\n          items: [\r\n            'Studio Nullbyte owns all rights to the website, branding, and original content',\r\n            'Product designs and templates are protected by intellectual property laws',\r\n            'Our trademarks and logos may not be used without permission',\r\n            'We retain all rights not explicitly granted to users'\r\n          ]\r\n        },\r\n        {\r\n          subtitle: 'User Content',\r\n          items: [\r\n            'You retain ownership of content you create using our products',\r\n            'You grant us a license to use your feedback and suggestions',\r\n            'User reviews and testimonials may be used for promotional purposes',\r\n            'We respect the intellectual property rights of third parties'\r\n          ]\r\n        }\r\n      ]\r\n    },\r\n    {\r\n      id: 'disclaimers',\r\n      title: 'Disclaimers & Limitations',\r\n      icon: <AlertTriangle className=\"w-5 h-5\" />,\r\n      content: [\r\n        {\r\n          subtitle: 'Service Disclaimers',\r\n          items: [\r\n            'Services are provided \"as is\" without warranties of any kind',\r\n            'We do not guarantee that products will meet your specific requirements',\r\n            'We are not responsible for third-party integrations or compatibility',\r\n            'Results may vary based on individual implementation and usage'\r\n          ]\r\n        },\r\n        {\r\n          subtitle: 'Limitation of Liability',\r\n          items: [\r\n            'Our liability is limited to the amount you paid for the specific product',\r\n            'We are not liable for indirect, incidental, or consequential damages',\r\n            'We are not responsible for lost profits, data, or business interruption',\r\n            'Some jurisdictions do not allow liability limitations - local laws may apply'\r\n          ]\r\n        }\r\n      ]\r\n    },\r\n    {\r\n      id: 'termination',\r\n      title: 'Termination',\r\n      icon: <Clock className=\"w-5 h-5\" />,\r\n      content: [\r\n        {\r\n          subtitle: 'Account Termination',\r\n          items: [\r\n            'You may terminate your account at any time by contacting support',\r\n            'We may terminate accounts for violations of these terms',\r\n            'Termination does not affect your license to use previously purchased products',\r\n            'We may retain certain information as required by law or for legitimate business purposes'\r\n          ]\r\n        },\r\n        {\r\n          subtitle: 'Effect of Termination',\r\n          items: [\r\n            'Access to your account and download history will be removed',\r\n            'Previously purchased products remain licensed for use',\r\n            'Outstanding payment obligations survive termination',\r\n            'Provisions that should survive termination will remain in effect'\r\n          ]\r\n        }\r\n      ]\r\n    },\r\n    {\r\n      id: 'governing-law',\r\n      title: 'Governing Law',\r\n      icon: <Scale className=\"w-5 h-5\" />,\r\n      content: [\r\n        {\r\n          subtitle: 'Legal Framework',\r\n          items: [\r\n            'These terms are governed by the laws of the United States',\r\n            'Any disputes will be resolved in courts of competent jurisdiction',\r\n            'If any provision is found invalid, the remaining terms remain in effect',\r\n            'These terms constitute the entire agreement between you and Studio Nullbyte'\r\n          ]\r\n        }\r\n      ]\r\n    }\r\n  ]\r\n\r\n  return (\r\n    <>\r\n      <SEO \r\n        title=\"Terms of Service - Studio Nullbyte\"\r\n        description=\"Terms of Service for Studio Nullbyte. Learn about our service terms, user responsibilities, and product licenses.\"\r\n        canonical=\"https://studio-nullbyte.github.io/terms-of-service\"\r\n        noIndex={true}\r\n      />\r\n\r\n      <div className=\"min-h-screen bg-black pt-20 pb-12\">\r\n        <div className=\"container mx-auto px-4\">\r\n          {/* Header */}\r\n          <motion.div\r\n            initial={{ opacity: 0, y: 20 }}\r\n            animate={{ opacity: 1, y: 0 }}\r\n            transition={{ duration: 0.5 }}\r\n            className=\"text-center mb-12\"\r\n          >\r\n            <div className=\"flex items-center justify-center gap-3 mb-4\">\r\n              <Scale className=\"w-8 h-8 text-electric-violet\" />\r\n              <h1 className=\"text-4xl md:text-5xl font-mono text-white\">\r\n                Terms of Service\r\n              </h1>\r\n            </div>\r\n            <p className=\"text-xl text-gray-400 font-mono max-w-3xl mx-auto\">\r\n              Please read these terms carefully before using Studio Nullbyte's services and products.\r\n            </p>\r\n            <div className=\"mt-6 text-sm text-gray-500 font-mono\">\r\n              Last Updated: {lastUpdated}\r\n            </div>\r\n          </motion.div>\r\n\r\n          {/* Introduction */}\r\n          <motion.div\r\n            initial={{ opacity: 0, y: 20 }}\r\n            animate={{ opacity: 1, y: 0 }}\r\n            transition={{ duration: 0.5, delay: 0.1 }}\r\n            className=\"mb-12\"\r\n          >\r\n            <div className=\"bg-code-gray-light border border-gray-700 rounded-lg p-6\">\r\n              <h2 className=\"text-2xl font-mono text-white mb-4\">Introduction</h2>\r\n              <p className=\"text-gray-400 font-mono leading-relaxed mb-4\">\r\n                Welcome to Studio Nullbyte! These Terms of Service (\"Terms\") govern your use of our \r\n                website and services. By accessing or using our platform, you agree to be bound by \r\n                these Terms and our Privacy Policy.\r\n              </p>\r\n              <p className=\"text-gray-400 font-mono leading-relaxed\">\r\n                Studio Nullbyte provides digital templates, tools, and resources for developers. \r\n                These Terms explain your rights and responsibilities when using our services.\r\n              </p>\r\n            </div>\r\n          </motion.div>\r\n\r\n          {/* Terms Sections */}\r\n          <div className=\"space-y-8\">\r\n            {sections.map((section, index) => (\r\n              <motion.div\r\n                key={section.id}\r\n                initial={{ opacity: 0, y: 20 }}\r\n                animate={{ opacity: 1, y: 0 }}\r\n                transition={{ duration: 0.5, delay: 0.2 + index * 0.1 }}\r\n                className=\"bg-code-gray-light border border-gray-700 rounded-lg p-6\"\r\n              >\r\n                <div className=\"flex items-center gap-3 mb-6\">\r\n                  <div className=\"text-electric-violet\">\r\n                    {section.icon}\r\n                  </div>\r\n                  <h2 className=\"text-2xl font-mono text-white\">\r\n                    {section.title}\r\n                  </h2>\r\n                </div>\r\n\r\n                <div className=\"space-y-6\">\r\n                  {section.content.map((subsection, subIndex) => (\r\n                    <div key={subIndex}>\r\n                      <h3 className=\"text-lg font-mono text-electric-violet mb-3\">\r\n                        {subsection.subtitle}\r\n                      </h3>\r\n                      <ul className=\"space-y-2\">\r\n                        {subsection.items.map((item, itemIndex) => (\r\n                          <li key={itemIndex} className=\"flex items-start gap-3\">\r\n                            <span className=\"text-electric-violet mt-2\">â€¢</span>\r\n                            <span className=\"text-gray-400 font-mono leading-relaxed\">\r\n                              {item}\r\n                            </span>\r\n                          </li>\r\n                        ))}\r\n                      </ul>\r\n                    </div>\r\n                  ))}\r\n                </div>\r\n              </motion.div>\r\n            ))}\r\n          </div>\r\n\r\n          {/* Contact Information */}\r\n          <motion.div\r\n            initial={{ opacity: 0, y: 20 }}\r\n            animate={{ opacity: 1, y: 0 }}\r\n            transition={{ duration: 0.5, delay: 0.8 }}\r\n            className=\"mt-12\"\r\n          >\r\n            <div className=\"bg-electric-violet/10 border border-electric-violet/30 rounded-lg p-6\">\r\n              <h2 className=\"text-2xl font-mono text-white mb-4\">Questions About These Terms?</h2>\r\n              <p className=\"text-gray-400 font-mono leading-relaxed mb-4\">\r\n                If you have any questions about these Terms of Service, please contact us at:\r\n              </p>\r\n              <div className=\"flex items-center gap-3 mb-4\">\r\n                <Mail className=\"w-5 h-5 text-electric-violet\" />\r\n                <a \r\n                  href=\"mailto:studionullbyte@gmail.com\" \r\n                  className=\"text-electric-violet font-mono hover:text-electric-violet-light transition-colors\"\r\n                >\r\n                  studionullbyte@gmail.com\r\n                </a>\r\n              </div>\r\n              <p className=\"text-gray-400 font-mono text-sm\">\r\n                We will respond to your inquiry within 48 hours.\r\n              </p>\r\n            </div>\r\n          </motion.div>\r\n\r\n          {/* Effective Date */}\r\n          <motion.div\r\n            initial={{ opacity: 0, y: 20 }}\r\n            animate={{ opacity: 1, y: 0 }}\r\n            transition={{ duration: 0.5, delay: 0.9 }}\r\n            className=\"mt-12 text-center\"\r\n          >\r\n            <div className=\"bg-code-gray-light border border-gray-700 rounded-lg p-6\">\r\n              <div className=\"flex items-center justify-center gap-3 mb-3\">\r\n                <Clock className=\"w-5 h-5 text-electric-violet\" />\r\n                <h3 className=\"text-lg font-mono text-white\">Effective Date</h3>\r\n              </div>\r\n              <p className=\"text-gray-400 font-mono\">\r\n                These Terms of Service are effective as of {lastUpdated} and will remain in effect \r\n                until modified or terminated.\r\n              </p>\r\n            </div>\r\n          </motion.div>\r\n        </div>\r\n      </div>\r\n    </>\r\n  )\r\n}\r\n\r\nexport default TermsOfService\r\n","import { useEffect } from 'react'\r\nimport { useLocation } from 'react-router-dom'\r\n\r\nexport const useScrollToTop = () => {\r\n  const location = useLocation()\r\n\r\n  useEffect(() => {\r\n    window.scrollTo(0, 0)\r\n  }, [location])\r\n}\r\n","import React, { useEffect, useState } from 'react'\r\nimport { AlertTriangle, Info } from 'lucide-react'\r\n\r\ninterface AccessibilityIssue {\r\n  type: 'error' | 'warning' | 'info'\r\n  message: string\r\n  element?: string\r\n  fix?: string\r\n}\r\n\r\nconst AccessibilityChecker: React.FC = () => {\r\n  const [issues, setIssues] = useState<AccessibilityIssue[]>([])\r\n  const [isVisible, setIsVisible] = useState(false)\r\n\r\n  useEffect(() => {\r\n    // Only run in development\r\n    if (process.env.NODE_ENV === 'development') {\r\n      checkAccessibility()\r\n    }\r\n  }, [])\r\n\r\n  const checkAccessibility = () => {\r\n    const foundIssues: AccessibilityIssue[] = []\r\n\r\n    // Check for missing alt text on images\r\n    const images = document.querySelectorAll('img')\r\n    images.forEach((img, index) => {\r\n      if (!img.alt && !img.getAttribute('aria-hidden')) {\r\n        foundIssues.push({\r\n          type: 'error',\r\n          message: `Image missing alt text`,\r\n          element: `img[${index}]`,\r\n          fix: 'Add descriptive alt text or aria-hidden=\"true\" for decorative images'\r\n        })\r\n      }\r\n    })\r\n\r\n    // Check for buttons without accessible names\r\n    const buttons = document.querySelectorAll('button')\r\n    buttons.forEach((button, index) => {\r\n      const hasText = button.textContent?.trim()\r\n      const hasAriaLabel = button.getAttribute('aria-label')\r\n      const hasAriaLabelledBy = button.getAttribute('aria-labelledby')\r\n      \r\n      if (!hasText && !hasAriaLabel && !hasAriaLabelledBy) {\r\n        foundIssues.push({\r\n          type: 'error',\r\n          message: `Button without accessible name`,\r\n          element: `button[${index}]`,\r\n          fix: 'Add visible text, aria-label, or aria-labelledby attribute'\r\n        })\r\n      }\r\n    })\r\n\r\n    // Check for links without accessible names\r\n    const links = document.querySelectorAll('a')\r\n    links.forEach((link, index) => {\r\n      const hasText = link.textContent?.trim()\r\n      const hasAriaLabel = link.getAttribute('aria-label')\r\n      \r\n      if (!hasText && !hasAriaLabel) {\r\n        foundIssues.push({\r\n          type: 'error',\r\n          message: `Link without accessible name`,\r\n          element: `a[${index}]`,\r\n          fix: 'Add descriptive link text or aria-label'\r\n        })\r\n      }\r\n    })\r\n\r\n    // Check for form inputs without labels\r\n    const inputs = document.querySelectorAll('input, textarea, select')\r\n    inputs.forEach((input, index) => {\r\n      const hasLabel = document.querySelector(`label[for=\"${input.id}\"]`)\r\n      const hasAriaLabel = input.getAttribute('aria-label')\r\n      const hasAriaLabelledBy = input.getAttribute('aria-labelledby')\r\n      \r\n      if (!hasLabel && !hasAriaLabel && !hasAriaLabelledBy) {\r\n        foundIssues.push({\r\n          type: 'warning',\r\n          message: `Form input without proper label`,\r\n          element: `${input.tagName.toLowerCase()}[${index}]`,\r\n          fix: 'Associate with a label element or add aria-label'\r\n        })\r\n      }\r\n    })\r\n\r\n    // Check for headings structure\r\n    const headings = document.querySelectorAll('h1, h2, h3, h4, h5, h6')\r\n    let previousLevel = 0\r\n    headings.forEach((heading, index) => {\r\n      const level = parseInt(heading.tagName.charAt(1))\r\n      if (level - previousLevel > 1) {\r\n        foundIssues.push({\r\n          type: 'warning',\r\n          message: `Heading level skipped (h${previousLevel} to h${level})`,\r\n          element: `${heading.tagName.toLowerCase()}[${index}]`,\r\n          fix: 'Use consecutive heading levels for proper structure'\r\n        })\r\n      }\r\n      previousLevel = level\r\n    })\r\n\r\n    // Check color contrast (simplified check)\r\n    const lowContrastElements = document.querySelectorAll('.text-gray-400, .text-gray-500')\r\n    if (lowContrastElements.length > 0) {\r\n      foundIssues.push({\r\n        type: 'info',\r\n        message: `${lowContrastElements.length} elements may have low color contrast`,\r\n        fix: 'Verify color contrast meets WCAG AA standards (4.5:1 for normal text)'\r\n      })\r\n    }\r\n\r\n    setIssues(foundIssues)\r\n  }\r\n\r\n  if (process.env.NODE_ENV !== 'development' || issues.length === 0) {\r\n    return null\r\n  }\r\n\r\n  return (\r\n    <div className={`fixed bottom-4 right-4 z-50 transition-transform ${isVisible ? 'translate-x-0' : 'translate-x-full'}`}>\r\n      <div className=\"bg-code-gray border border-gray-700 rounded-lg shadow-xl max-w-md\">\r\n        <div className=\"p-4 border-b border-gray-700 flex items-center justify-between\">\r\n          <h3 className=\"font-mono font-bold text-sm\">Accessibility Issues</h3>\r\n          <button\r\n            onClick={() => setIsVisible(!isVisible)}\r\n            className=\"text-gray-400 hover:text-white\"\r\n            aria-label={isVisible ? 'Hide accessibility issues' : 'Show accessibility issues'}\r\n          >\r\n            {isVisible ? 'âˆ’' : '+'}\r\n          </button>\r\n        </div>\r\n        \r\n        {isVisible && (\r\n          <div className=\"p-4 max-h-80 overflow-y-auto\">\r\n            {issues.map((issue, index) => (\r\n              <div key={index} className=\"mb-3 last:mb-0\">\r\n                <div className=\"flex items-start gap-2\">\r\n                  {issue.type === 'error' && <AlertTriangle className=\"w-4 h-4 text-red-400 mt-0.5 flex-shrink-0\" />}\r\n                  {issue.type === 'warning' && <AlertTriangle className=\"w-4 h-4 text-yellow-400 mt-0.5 flex-shrink-0\" />}\r\n                  {issue.type === 'info' && <Info className=\"w-4 h-4 text-blue-400 mt-0.5 flex-shrink-0\" />}\r\n                  \r\n                  <div className=\"flex-1\">\r\n                    <p className=\"text-sm font-medium text-white\">{issue.message}</p>\r\n                    {issue.element && (\r\n                      <p className=\"text-xs text-gray-400 mt-1\">Element: {issue.element}</p>\r\n                    )}\r\n                    {issue.fix && (\r\n                      <p className=\"text-xs text-gray-300 mt-1\">Fix: {issue.fix}</p>\r\n                    )}\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            ))}\r\n            \r\n            <div className=\"mt-4 pt-3 border-t border-gray-700\">\r\n              <button\r\n                onClick={checkAccessibility}\r\n                className=\"text-xs text-electric-violet hover:text-electric-violet-light\"\r\n              >\r\n                Re-check Issues\r\n              </button>\r\n            </div>\r\n          </div>\r\n        )}\r\n      </div>\r\n      \r\n      {!isVisible && (\r\n        <button\r\n          onClick={() => setIsVisible(true)}\r\n          className=\"bg-electric-violet text-black p-2 rounded-full font-bold text-xs\"\r\n          aria-label={`${issues.length} accessibility issues found`}\r\n        >\r\n          A11y: {issues.length}\r\n        </button>\r\n      )}\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default AccessibilityChecker\r\n","import React from 'react'\r\nimport { Routes, Route, useLocation } from 'react-router-dom'\r\nimport { motion, AnimatePresence } from 'framer-motion'\r\nimport { AuthProvider } from './contexts/AuthContext'\r\nimport { CartProvider } from './contexts/CartContext'\r\nimport { ToastProvider } from './contexts/ToastContext'\r\nimport { ProtectedRoute } from './components/ProtectedRoute'\r\nimport Header from './components/Header'\r\nimport Footer from './components/Footer'\r\nimport CrispChat from './components/CrispChat'\r\nimport Home from './pages/Home'\r\nimport Products from './pages/Products'\r\nimport Product from './pages/Product'\r\nimport Checkout from './pages/Checkout'\r\nimport OrderConfirmation from './pages/OrderConfirmation'\r\nimport Success from './pages/Success'\r\nimport Cancel from './pages/Cancel'\r\nimport About from './pages/About'\r\nimport Contact from './pages/Contact'\r\nimport Auth from './pages/Auth'\r\nimport ResetPassword from './pages/ResetPassword'\r\nimport UserSettings from './pages/UserSettings'\r\nimport AdminDashboard from './pages/AdminDashboard'\r\nimport AdminProducts from './pages/AdminProducts'\r\nimport AdminUsers from './pages/AdminUsers'\r\nimport AdminOrders from './pages/AdminOrders'\r\nimport AdminCategories from './pages/AdminCategories'\r\nimport AdminContacts from './pages/AdminContacts'\r\nimport PrivacyPolicy from './pages/PrivacyPolicy'\r\nimport TermsOfService from './pages/TermsOfService'\r\nimport { useScrollToTop } from './hooks/useScrollToTop'\r\nimport AccessibilityChecker from './components/AccessibilityChecker'\r\n\r\nconst App: React.FC = () => {\r\n  const location = useLocation()\r\n\r\n  useScrollToTop()\r\n\r\n  const pageTransition = {\r\n    initial: { opacity: 0, y: 20 },\r\n    animate: { opacity: 1, y: 0 },\r\n    exit: { opacity: 0, y: -20 }\r\n  }\r\n\r\n  return (\r\n    <AuthProvider>\r\n      <CartProvider>\r\n        <ToastProvider>\r\n          <div className=\"min-h-screen bg-black text-white\">\r\n            <Header />\r\n            <AnimatePresence mode=\"wait\">\r\n          <motion.main\r\n            key={location.pathname}\r\n            initial=\"initial\"\r\n            animate=\"animate\"\r\n            exit=\"exit\"\r\n            variants={pageTransition}\r\n            transition={{ duration: 0.3 }}\r\n            className=\"flex-1\"\r\n          >\r\n            <Routes>\r\n              <Route path=\"/\" element={<Home />} />\r\n              <Route path=\"/products\" element={<Products />} />\r\n              <Route path=\"/product/:id\" element={<Product />} />\r\n              <Route path=\"/checkout\" element={<Checkout />} />\r\n              <Route path=\"/order-confirmation\" element={<OrderConfirmation />} />\r\n              <Route path=\"/success\" element={<Success />} />\r\n              <Route path=\"/cancel\" element={<Cancel />} />\r\n              <Route path=\"/about\" element={<About />} />\r\n              <Route path=\"/contact\" element={<Contact />} />\r\n              <Route path=\"/privacy-policy\" element={<PrivacyPolicy />} />\r\n              <Route path=\"/terms-of-service\" element={<TermsOfService />} />\r\n              \r\n              {/* Authentication Routes */}\r\n              <Route \r\n                path=\"/auth\" \r\n                element={\r\n                  <ProtectedRoute requireAuth={false}>\r\n                    <Auth />\r\n                  </ProtectedRoute>\r\n                } \r\n              />\r\n              <Route path=\"/reset-password\" element={<ResetPassword />} />\r\n              \r\n              {/* Protected Routes */}\r\n              <Route \r\n                path=\"/settings\" \r\n                element={\r\n                  <ProtectedRoute>\r\n                    <UserSettings />\r\n                  </ProtectedRoute>\r\n                } \r\n              />\r\n              \r\n              {/* Admin Routes */}\r\n              <Route \r\n                path=\"/admin\" \r\n                element={\r\n                  <ProtectedRoute requireAdmin={true}>\r\n                    <AdminDashboard />\r\n                  </ProtectedRoute>\r\n                } \r\n              />\r\n              <Route \r\n                path=\"/admin/products\" \r\n                element={\r\n                  <ProtectedRoute requireAdmin={true}>\r\n                    <AdminProducts />\r\n                  </ProtectedRoute>\r\n                } \r\n              />\r\n              <Route \r\n                path=\"/admin/users\" \r\n                element={\r\n                  <ProtectedRoute requireAdmin={true}>\r\n                    <AdminUsers />\r\n                  </ProtectedRoute>\r\n                } \r\n              />\r\n              <Route \r\n                path=\"/admin/orders\" \r\n                element={\r\n                  <ProtectedRoute requireAdmin={true}>\r\n                    <AdminOrders />\r\n                  </ProtectedRoute>\r\n                } \r\n              />\r\n              <Route \r\n                path=\"/admin/categories\" \r\n                element={\r\n                  <ProtectedRoute requireAdmin={true}>\r\n                    <AdminCategories />\r\n                  </ProtectedRoute>\r\n                } \r\n              />\r\n              <Route \r\n                path=\"/admin/contacts\" \r\n                element={\r\n                  <ProtectedRoute requireAdmin={true}>\r\n                    <AdminContacts />\r\n                  </ProtectedRoute>\r\n                } \r\n              />\r\n            </Routes>\r\n          </motion.main>\r\n        </AnimatePresence>\r\n        <Footer />\r\n        \r\n        {/* Live Chat Widget */}\r\n        <CrispChat />\r\n        \r\n        {/* Accessibility Checker (Development Only) */}\r\n        <AccessibilityChecker />\r\n      </div>\r\n        </ToastProvider>\r\n      </CartProvider>\r\n    </AuthProvider>\r\n  )\r\n}\r\n\r\nexport default App\r\n","/**\r\n * Environment validation and security utilities\r\n * Validates environment variables and configuration for security\r\n */\r\n\r\nimport { logger } from './logger';\r\n\r\ninterface ValidationResult {\r\n  isValid: boolean;\r\n  errors: string[];\r\n  warnings: string[];\r\n}\r\n\r\n/**\r\n * Validate environment variables for security\r\n */\r\nexport function validateEnvironment(): ValidationResult {\r\n  const errors: string[] = [];\r\n  const warnings: string[] = [];\r\n\r\n  // Check for required environment variables\r\n  const requiredEnvVars = [\r\n    'VITE_SUPABASE_URL',\r\n    'VITE_SUPABASE_ANON_KEY'\r\n  ];\r\n\r\n  for (const envVar of requiredEnvVars) {\r\n    const value = import.meta.env[envVar];\r\n    if (!value) {\r\n      errors.push(`Missing required environment variable: ${envVar}`);\r\n    } else if (value.includes('localhost') || value.includes('127.0.0.1')) {\r\n      warnings.push(`Environment variable ${envVar} contains localhost - ensure this is intended for development`);\r\n    }\r\n  }\r\n\r\n  // Check for secure configuration\r\n  const supabaseUrl = import.meta.env.VITE_SUPABASE_URL;\r\n  if (supabaseUrl) {\r\n    if (!supabaseUrl.startsWith('https://')) {\r\n      errors.push('VITE_SUPABASE_URL must use HTTPS in production');\r\n    }\r\n    \r\n    if (supabaseUrl.includes('localhost') && import.meta.env.PROD) {\r\n      errors.push('VITE_SUPABASE_URL cannot use localhost in production');\r\n    }\r\n  }\r\n\r\n  // Check for potentially exposed secrets\r\n  const envKeys = Object.keys(import.meta.env);\r\n  const suspiciousKeys = envKeys.filter(key => \r\n    key.includes('SECRET') || \r\n    key.includes('PRIVATE') || \r\n    key.includes('PASSWORD') ||\r\n    key.includes('TOKEN')\r\n  );\r\n\r\n  for (const key of suspiciousKeys) {\r\n    if (key.startsWith('VITE_')) {\r\n      errors.push(`Potentially sensitive environment variable exposed to client: ${key}`);\r\n    }\r\n  }\r\n\r\n  // Check for development-only variables in production\r\n  if (import.meta.env.PROD) {\r\n    const devOnlyVars = envKeys.filter(key => \r\n      key.includes('DEV') || \r\n      key.includes('DEBUG') || \r\n      key.includes('TEST')\r\n    );\r\n    \r\n    for (const key of devOnlyVars) {\r\n      if (import.meta.env[key]) {\r\n        warnings.push(`Development variable ${key} is set in production`);\r\n      }\r\n    }\r\n  }\r\n\r\n  return {\r\n    isValid: errors.length === 0,\r\n    errors,\r\n    warnings\r\n  };\r\n}\r\n\r\n/**\r\n * Validate that sensitive configuration is properly secured\r\n */\r\nexport function validateSecureConfiguration(): ValidationResult {\r\n  const errors: string[] = [];\r\n  const warnings: string[] = [];\r\n\r\n  // Check for hardcoded credentials in common places\r\n  // This would be expanded to check actual code/config files\r\n  // For now, we'll just validate environment structure\r\n  \r\n  // Check for insecure defaults\r\n  const supabaseUrl = import.meta.env.VITE_SUPABASE_URL;\r\n  if (supabaseUrl && supabaseUrl.includes('localhost') && import.meta.env.PROD) {\r\n    errors.push('Using localhost Supabase URL in production');\r\n  }\r\n\r\n  // Check for proper HTTPS usage\r\n  if (import.meta.env.PROD && window.location.protocol !== 'https:') {\r\n    errors.push('Application not served over HTTPS in production');\r\n  }\r\n\r\n  // Check for secure headers (CSP, etc.) - these would be validated server-side\r\n  // For now, we'll just check if they're present in the HTML\r\n  const hasCSP = document.querySelector('meta[http-equiv=\"Content-Security-Policy\"]');\r\n  if (!hasCSP) {\r\n    warnings.push('Content Security Policy header not detected');\r\n  }\r\n\r\n  return {\r\n    isValid: errors.length === 0,\r\n    errors,\r\n    warnings\r\n  };\r\n}\r\n\r\n/**\r\n * Log security validation results\r\n */\r\nexport function logSecurityValidation(): void {\r\n  const envValidation = validateEnvironment();\r\n  const configValidation = validateSecureConfiguration();\r\n\r\n  if (!envValidation.isValid) {\r\n    logger.error('Environment validation failed', {\r\n      errors: envValidation.errors,\r\n      warnings: envValidation.warnings\r\n    });\r\n  }\r\n\r\n  if (!configValidation.isValid) {\r\n    logger.error('Security configuration validation failed', {\r\n      errors: configValidation.errors,\r\n      warnings: configValidation.warnings\r\n    });\r\n  }\r\n\r\n  if (envValidation.warnings.length > 0) {\r\n    logger.warn('Environment validation warnings', {\r\n      warnings: envValidation.warnings\r\n    });\r\n  }\r\n\r\n  if (configValidation.warnings.length > 0) {\r\n    logger.warn('Security configuration warnings', {\r\n      warnings: configValidation.warnings\r\n    });\r\n  }\r\n}\r\n\r\n/**\r\n * Initialize security validation on app startup\r\n */\r\nexport function initializeSecurityValidation(): void {\r\n  // Run validation on app startup\r\n  logSecurityValidation();\r\n\r\n  // Set up periodic validation in development\r\n  if (import.meta.env.DEV) {\r\n    // Check every 5 minutes in development\r\n    setInterval(() => {\r\n      logSecurityValidation();\r\n    }, 5 * 60 * 1000);\r\n  }\r\n}\r\n\r\n/**\r\n * Check if running in a secure context\r\n */\r\nexport function isSecureContext(): boolean {\r\n  // Check if we're in a secure context (HTTPS, localhost, or file://)\r\n  return window.isSecureContext || false;\r\n}\r\n\r\n/**\r\n * Validate that required security features are available\r\n */\r\nexport function validateSecurityFeatures(): ValidationResult {\r\n  const errors: string[] = [];\r\n  const warnings: string[] = [];\r\n\r\n  // Check for secure context\r\n  if (!isSecureContext()) {\r\n    errors.push('Application not running in secure context (HTTPS required)');\r\n  }\r\n\r\n  // Check for required web APIs\r\n  if (!window.crypto || !window.crypto.subtle) {\r\n    errors.push('Web Crypto API not available');\r\n  }\r\n\r\n  if (!window.sessionStorage || !window.localStorage) {\r\n    errors.push('Web Storage API not available');\r\n  }\r\n\r\n  // Check for CSP support\r\n  if (!document.querySelector('meta[http-equiv=\"Content-Security-Policy\"]')) {\r\n    warnings.push('Content Security Policy not detected');\r\n  }\r\n\r\n  return {\r\n    isValid: errors.length === 0,\r\n    errors,\r\n    warnings\r\n  };\r\n}\r\n\r\n/**\r\n * Get security configuration summary\r\n */\r\nexport function getSecuritySummary(): {\r\n  environment: ValidationResult;\r\n  configuration: ValidationResult;\r\n  features: ValidationResult;\r\n  secureContext: boolean;\r\n} {\r\n  return {\r\n    environment: validateEnvironment(),\r\n    configuration: validateSecureConfiguration(),\r\n    features: validateSecurityFeatures(),\r\n    secureContext: isSecureContext()\r\n  };\r\n}\r\n","import React from 'react'\r\nimport ReactDOM from 'react-dom/client'\r\nimport { BrowserRouter } from 'react-router-dom'\r\nimport { HelmetProvider } from 'react-helmet-async'\r\nimport App from './App'\r\nimport './index.css'\r\nimport { initializeSecurityValidation } from './utils/security'\r\n\r\n// Initialize security validation on app startup\r\ninitializeSecurityValidation()\r\n\r\nReactDOM.createRoot(document.getElementById('root') as HTMLElement).render(\r\n  <React.StrictMode>\r\n    <HelmetProvider>\r\n      <BrowserRouter>\r\n        <App />\r\n      </BrowserRouter>\r\n    </HelmetProvider>\r\n  </React.StrictMode>\r\n)\r\n"],"names":["f","require$$0","k","l","m","n","p","q","c","a","g","b","d","e","h","reactJsxRuntime_production_min","jsxRuntimeModule","client","hasElementType","hasMap","hasSet","hasArrayBuffer","equal","length","i","keys","it","reactFastCompare","error","invariant","condition","format","args","argIndex","browser","shallowequal","objA","objB","compare","compareContext","ret","keysA","keysB","bHasOwnProperty","idx","key","valueA","valueB","TAG_NAMES","TAG_NAMES2","SEO_PRIORITY_TAGS","VALID_TAG_NAMES","REACT_TAG_MAP","HTML_TAG_MAP","carry","value","HELMET_ATTRIBUTE","HELMET_PROPS","getInnermostProperty","propsList","property","props","getTitleFromPropsList","innermostTitle","innermostTemplate","innermostDefaultTitle","getOnChangeClientState","getAttributesFromPropsList","tagType","tagAttrs","current","getBaseTagFromPropsList","primaryAttributes","innermostBaseTag","tag","lowerCaseAttributeKey","warn","msg","getTagsFromPropsList","tagName","approvedSeenTags","approvedTags","instanceTags","instanceSeenTags","primaryAttributeKey","keys2","attributeKey","tagUnion","getAnyTrueFromPropsList","checkedTag","index","reducePropsToState","flattenArray","possibleArray","checkIfPropsMatch","toMatch","prioritizer","elementsList","propsToMatch","acc","elementAttrs","without","obj","SELF_CLOSING_TAGS","encodeSpecialCharacters","str","encode","generateElementAttributesAsString","attributes","attr","generateTitleAsString","type","title","attributeString","flattenedTitle","generateTagsAsString","tags","t","attributeHtml","attribute","string","tagContent","isSelfClosing","convertElementAttributesToReactProps","initProps","mapped","generateTitleAsReactComponent","_type","React","generateTagsAsReactComponent","mappedTag","mappedAttribute","content","getMethodsForTag","getPriorityMethods","metaTags","linkTags","scriptTags","meta","link","script","mapStateOnServer","baseTag","bodyAttributes","htmlAttributes","noscriptTags","styleTags","titleAttributes","prioritizeSeoTags","priorityMethods","server_default","instances","isDocument","HelmetData","context","canUseDOM","__publicField","serverState","instance","defaultValue","Context","React2","HelmetProvider","_a","Component","updateTags","headElement","tagNodes","oldTags","newTags","indexToDelete","newElement","existingTag","updateAttributes","elementTag","helmetAttributeString","helmetAttributes","attributesToRemove","attributeKeys","indexToSave","updateTitle","commitTagChanges","newState","cb","onChangeClientState","tagUpdates","addedTags","removedTags","_helmetCallback","handleStateChangeOnClient","client_default","HelmetDispatcher","Component2","nextProps","shallowEqual","helmetInstances","setHelmet","state","Helmet","Component3","fastCompare","child","nestedChildren","arrayTypeChildren","newChildProps","newProps","newFlattenedProps","arrayChildName","name","nestedChild","children","React3","childProps","helmetData","data","logger","message","noop","supabaseUrl","supabaseAnonKey","supabase","createClient","getFeaturedProducts","limit","err","submitContactForm","formData","useAuth","user","setUser","useState","session","setSession","loading","setLoading","profile","setProfile","isAdmin","fetchProfile","useCallback","userId","refreshProfile","profileData","useEffect","subscription","_event","email","password","result","userData","updates","AuthContext","createContext","AuthProvider","auth","useAuthContext","useContext","CartContext","useCart","CartProvider","items","setItems","savedCart","addToCart","product","prevItems","item","removeFromCart","productId","quantity","total","jsx","ToastContext","useToast","ToastProvider","toasts","setToasts","showToast","toastData","id","toast","prev","removeToast","getIcon","Check","AlertCircle","Info","getStyles","jsxs","AnimatePresence","motion","X","ProtectedRoute","requireAuth","requireAdmin","location","useLocation","Navigate","accessibility","container","focusableElements","firstFocusable","lastFocusable","handleTabKey","previousElement","priority","announcer","element","callback","handleEscape","fieldName","animatedValue","staticValue","useKeyboardNavigation","onEscape","CartModal","isOpen","onClose","navigate","useNavigate","updateQuantity","clearCart","getTotalPrice","handleRemoveItem","handleClearCart","handleCheckout","Fragment","ShoppingBag","Minus","Plus","Trash2","Logo","className","size","sizeClasses","Header","isMenuOpen","setIsMenuOpen","isUserMenuOpen","setIsUserMenuOpen","isCartOpen","setIsCartOpen","scrolled","setScrolled","signOut","getTotalItems","handleSignOut","handleScroll","handleClickOutside","event","navItems","Link","Shield","ShoppingCart","User","Settings","LogOut","Menu","Footer","Github","Mail","CrispChat","crispWebsiteId","configureCrispTheme","existingScript","SEO","description","keywords","image","url","structuredData","noIndex","canonical","fullTitle","fullUrl","Home","featuredProducts","setFeaturedProducts","setError","features","Code","Palette","Zap","Users","stats","ArrowRight","stat","feature","Loader2","target","tagIndex","Download","Contact","Products","selectedCategory","setSelectedCategory","searchTerm","setSearchTerm","products","setProducts","categories","setCategories","productsData","productsError","categoriesData","categoriesError","handleViewDetails","filteredProducts","matchesSearch","matchesCategory","categoriesWithCounts","category","Search","Filter","Product","useParams","isInCart","setProduct","isAddingToCart","setIsAddingToCart","handleAddToCart","handleBuyNow","ArrowLeft","Heart","Share2","_b","STRIPE_PUBLISHABLE_KEY","stripePromise","loadStripe","StripeCheckout","onSuccess","onError","disabled","isProcessing","setIsProcessing","stripe","validItems","CreditCard","Lock","StripePayment","PAYPAL_CLIENT_ID","PAYPAL_RETURN_URL","PAYPAL_CANCEL_URL","PAYPAL_OPTIONS","PAYPAL_STYLES","PayPalPayment","amount","customerInfo","paypalError","setPaypalError","PayPalButtonComponent","isPending","isRejected","usePayPalScriptReducer","createOrder","orderData","orderId","onApprove","resolve","onCancel","onErrorHandler","PayPalButtons","PayPalScriptProvider","SQUARE_APPLICATION_ID","SQUARE_LOCATION_ID","SQUARE_ENVIRONMENT","SQUARE_WEB_SDK_CONFIG","SQUARE_CARD_STYLES","SquarePayment","squareError","setSquareError","isSquareLoaded","setIsSquareLoaded","card","setCard","payments","setPayments","cardContainerRef","useRef","loadSquareSDK","initializeSquare","paymentsInstance","cardInstance","handlePayment","tokenResult","paymentRequest","paymentId","errorMessages","paymentMethods","Checkout","selectedPayment","setSelectedPayment","setCustomerInfo","handleInputChange","field","isFormValid","tax","order","orderError","orderItems","itemsError","handlePaymentSuccess","handlePaymentError","Phone","MapPin","method","_c","OrderConfirmation","orderDetails","formatCurrency","CheckCircle","Package","Calendar","EmailJSResponseStatus","_status","_text","createWebStorage","store","buildOptions","options","init","origin","opts","sendPost","headers","response","responseStatus","validateParams","publicKey","serviceID","templateID","validateTemplateParams","templateParams","isHeadless","navigator","headlessError","validateBlockListParams","list","watchVariable","isBlockListDisabled","getValue","isBlockedValueInParams","params","blockedEmailError","validateLimitRateParams","throttle","getLeftTime","storage","lastTime","isLimitRateHit","defaultID","limitRateError","send","blockHeadless","storageProvider","blockList","limitRate","validateForm","form","findHTMLForm","sendForm","currentForm","emailjs","EMAILJS_SERVICE_ID","EMAILJS_TEMPLATE_ID","EMAILJS_PUBLIC_KEY","EmailService","contactData","testData","emailService","useOrderProcessing","processOrder","createOrderRecord","sendOrderEmails","orderNumber","sum","productIds","downloadLink","emailError","Success","searchParams","useSearchParams","sessionId","orderProcessed","setOrderProcessed","emailSent","setEmailSent","handleOrderProcessing","timer","handleResendEmail","RefreshCw","Cancel","XCircle","About","values","Target","team","Coffee","member","setFormData","submitting","setSubmitting","submitStatus","setSubmitStatus","errorMessage","setErrorMessage","handleSubmit","handleChange","contactInfo","MessageCircle","Clock","faqs","Send","info","faq","AuthForm","mode","onSubmit","onModeChange","showPassword","setShowPassword","showConfirmPassword","setShowConfirmPassword","errors","setErrors","setMessage","newErrors","emailRegex","getTitle","getButtonText","EyeOff","Eye","Auth","signIn","signUp","resetPassword","setMode","modeParam","isLoading","setIsLoading","forceShowContent","setForceShowContent","timeout","redirectTo","newParams","handleAuthSubmit","getPageTitle","getPageDescription","ResetPassword","updatePassword","setPassword","confirmPassword","setConfirmPassword","success","setSuccess","accessToken","refreshToken","validatePasswords","emergencySignOut","UserSettings","updateProfile","activeTab","setActiveTab","setProfileData","passwordData","setPasswordData","showCurrentPassword","setShowCurrentPassword","showNewPassword","setShowNewPassword","handleProfileUpdate","handlePasswordUpdate","tabs","SettingsIcon","tab","Icon","Save","debugAdminState","testSupabaseConnection","supabaseKey","sessionError","checkSupabaseStatus","projectId","useAdmin","authLoading","setIsAdmin","ADMIN_CACHE_KEY","ADMIN_CACHE_EXPIRY","emergencyTimeout","cachedStatus","cachedExpiry","expiryTime","cacheAdminStatus","adminStatus","handleAuthStateChange","healthError","usersResult","productsResult","ordersResult","revenueResult","pendingOrdersResult","contactsResult","totalRevenue","lastError","retry","profiles","firstName","lastName","ordersData","ordersError","userIds","userProfilesMap","userProfiles","userError","profileError","orderItemsMap","orderIds","enrichedOrders","submissionId","status","categoryId","file","fileExt","filePath","uploadError","imageUrl","AdminSidebar","isMobileMenuOpen","setIsMobileMenuOpen","isDesktop","setIsDesktop","checkIsDesktop","navigationItems","LayoutDashboard","Tag","isActiveRoute","href","toggleMobileMenu","closeMobileMenu","isActive","ChevronRight","AdminLayout","AdminDashboard","getAdminStats","setStats","statsLoading","setStatsLoading","adminStats","statCards","DollarSign","Activity","BarChart3","AdminProtectedRoute","adminLoading","handleSessionExpired","createLoadingManager","timeoutMs","timeoutId","startTimeout","clearTimeoutFn","useLoadingWithTimeout","initialLoading","manager","newLoading","AdminProducts","getProducts","getCategories","createProduct","updateProduct","deleteProduct","uploadProductImage","setFilteredProducts","productsLoading","setProductsLoading","showActiveOnly","setShowActiveOnly","isFormOpen","setIsFormOpen","editingProduct","setEditingProduct","formLoading","setFormLoading","imageUploadMode","setImageUploadMode","imagePreview","setImagePreview","currentImageFile","setCurrentImageFile","filtered","resetForm","openCreateForm","openEditForm","uploadedUrl","handleImageUpload","productData","updatedProducts","handleDelete","productTitle","handleImageFileSelect","maxSize","reader","handleImageUrlChange","clearImage","Star","Edit3","AdminUsers","getUsers","updateUser","deleteUser","users","setUsers","filteredUsers","setFilteredUsers","usersLoading","setUsersLoading","roleFilter","setRoleFilter","statusFilter","setStatusFilter","editingUser","setEditingUser","usersData","term","userEmail","u","getUserDisplayName","getUserStats","Crown","ShieldCheck","UserIcon","statusColors","statusIcons","AdminOrders","getOrders","updateOrder","orders","setOrders","filteredOrders","setFilteredOrders","ordersLoading","setOrdersLoading","isViewModalOpen","setIsViewModalOpen","isEditModalOpen","setIsEditModalOpen","selectedOrder","setSelectedOrder","editingOrder","setEditingOrder","fetchOrders","_d","resetForms","openViewModal","openEditModal","handleUpdateOrder","getOrderStats","o","StatusIcon","ExternalLink","part","generateSlug","text","generateUniqueSlug","baseName","existingSlugs","baseSlug","counter","uniqueSlug","AdminCategories","createCategory","updateCategory","deleteCategory","filteredCategories","setFilteredCategories","categoriesLoading","setCategoriesLoading","editingCategory","setEditingCategory","fetchCategories","categoryData","cat","newCategory","categoryName","getCategoryStats","handleNameChange","newData","AdminContacts","getContactSubmissions","updateContactSubmissionStatus","contacts","setContacts","filteredContacts","setFilteredContacts","contactsLoading","setContactsLoading","selectedContact","setSelectedContact","isDetailModalOpen","setIsDetailModalOpen","contactsData","contact","handleStatusChange","contactId","newStatus","closeDetailModal","openContactDetail","getStatusBadge","MessageSquare","getContactStats","PrivacyPolicy","lastUpdated","sections","Database","Globe","AlertTriangle","FileText","section","subsection","subIndex","itemIndex","TermsOfService","Scale","useScrollToTop","AccessibilityChecker","App","pageTransition","Routes","Route","validateEnvironment","warnings","requiredEnvVars","envVar","envKeys","suspiciousKeys","devOnlyVars","validateSecureConfiguration","logSecurityValidation","envValidation","configValidation","initializeSecurityValidation","ReactDOM","BrowserRouter"],"mappings":"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U,CAAA,EACjC,QAAS,CACP,CACE,SAAU,uBACV,MAAO,CACL,iDACA,yCACA,qCACA,qCACA,gCACF,CACF,EACA,CACE,SAAU,iBACV,MAAO,CACL,qDACA,4CACA,+DACA,qDACF,CACF,EACA,CACE,SAAU,qBACV,MAAO,CACL,iDACA,0CACA,wDACA,iDACF,CACF,CACF,CACF,EACA,CACE,GAAI,gBACJ,MAAO,gBACP,KAAMhH,EAAAA,IAACuK,GAAK,CAAA,UAAU,SAAU,CAAA,EAChC,QAAS,CACP,CACE,SAAU,oBACV,MAAO,CACL,6CACA,2DACA,8CACA,wCACF,CACF,EACA,CACE,SAAU,mBACV,MAAO,CACL,6DACA,uDACA,kDACA,2CACF,CACF,EACA,CACE,SAAU,kBACV,MAAO,CACL,gDACA,yCACA,uCACA,8CACF,CACF,CACF,CACF,EACA,CACE,GAAI,cACJ,MAAO,cACP,KAAMvK,EAAAA,IAACiF,GAAO,CAAA,UAAU,SAAU,CAAA,EAClC,QAAS,CACP,CACE,SAAU,kBACV,MAAO,CACL,6CACA,6CACA,0CACA,yCACF,CACF,EACA,CACE,SAAU,cACV,MAAO,CACL,uCACA,+CACA,yCACA,uCACF,CACF,EACA,CACE,SAAU,4BACV,MAAO,CACL,0CACA,yCACA,gCACA,4CACF,CACF,CACF,CACF,EACA,CACE,GAAI,UACJ,MAAO,qBACP,KAAMjF,EAAAA,IAACwW,GAAI,CAAA,UAAU,SAAU,CAAA,EAC/B,QAAS,CACP,CACE,SAAU,oBACV,MAAO,CACL,wCACA,2CACA,gCACA,oCACF,CACF,EACA,CACE,SAAU,YACV,MAAO,CACL,8CACA,2CACA,0CACA,mCACF,CACF,EACA,CACE,SAAU,sBACV,MAAO,CACL,6CACA,uCACA,gCACA,mCACF,CACF,CACF,CACF,EACA,CACE,GAAI,gBACJ,MAAO,sBACP,KAAMxW,EAAAA,IAACkoB,GAAM,CAAA,UAAU,SAAU,CAAA,EACjC,QAAS,CACP,CACE,SAAU,iBACV,MAAO,CACL,yCACA,oDACA,sDACA,gDACF,CACF,EACA,CAC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E,GAAI,YACJ,MAAO,uBACP,KAAMnF,EAAAA,IAACsK,GAAW,CAAA,UAAU,SAAU,CAAA,EACtC,QAAS,CACP,CACE,SAAU,qBACV,MAAO,CACL,4DACA,wDACA,mDACA,wDACF,CACF,EACA,CACE,SAAU,mBACV,MAAO,CACL,sEACA,0DACA,2DACA,8DACF,CACF,EACA,CACE,SAAU,UACV,MAAO,CACL,2EACA,2EACA,8DACA,mEACF,CACF,CACF,CACF,EACA,CACE,GAAI,WACJ,MAAO,mBACP,KAAMtK,EAAAA,IAAC0oB,GAAM,CAAA,UAAU,SAAU,CAAA,EACjC,QAAS,CACP,CACE,SAAU,eACV,MAAO,CACL,kFACA,4DACA,2DACA,8DACF,CACF,EACA,CACE,SAAU,eACV,MAAO,CACL,+DACA,8DACA,oEACA,0DACF,CACF,CACF,CACF,EACA,CACE,GAAI,UACJ,MAAO,eACP,KAAM1oB,EAAAA,IAACiF,GAAO,CAAA,UAAU,SAAU,CAAA,EAClC,QAAS,CACP,CACE,SAAU,wBACV,MAAO,CACL,wDACA,oEACA,0DACA,8CACF,CACF,EACA,CACE,SAAU,qBACV,MAAO,CACL,uDACA,uDACA,iDACA,kEACF,CACF,CACF,CACF,EACA,CACE,GAAI,wBACJ,MAAO,wBACP,KAAMjF,EAAAA,IAACkoB,GAAM,CAAA,UAAU,SAAU,CAAA,EACjC,QAAS,CACP,CACE,SAAU,aACV,MAAO,CACL,iFACA,4EACA,8DACA,sDACF,CACF,EACA,CACE,SAAU,eACV,MAAO,CACL,gEACA,8DACA,qEACA,8DACF,CACF,CACF,CACF,EACA,CACE,GAAI,cACJ,MAAO,4BACP,KAAMloB,EAAAA,IAACmoB,GAAc,CAAA,UAAU,SAAU,CAAA,EACzC,QAAS,CACP,CACE,SAAU,sBACV,MAAO,CACL,+DACA,yEACA,uEACA,+DACF,CACF,EACA,CACE,SAAU,0BACV,MAAO,CACL,2EACA,uEACA,0EACA,8EACF,CACF,CACF,CACF,EACA,CACE,GAAI,cACJ,MAAO,cACP,KAAMnoB,EAAAA,IAACmV,GAAM,CAAA,UA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","x_google_ignoreList":[0,1,2,3,4,5,6,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50]}