var Ov=Object.defineProperty;var Lv=(e,t,r)=>t in e?Ov(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;var zt=(e,t,r)=>(Lv(e,typeof t!="symbol"?t+"":t,r),r);function Dv(e,t){for(var r=0;r<t.length;r++){const n=t[r];if(typeof n!="string"&&!Array.isArray(n)){for(const s in n)if(s!=="default"&&!(s in e)){const o=Object.getOwnPropertyDescriptor(n,s);o&&Object.defineProperty(e,s,o.get?o:{enumerable:!0,get:()=>n[s]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))n(s);new MutationObserver(s=>{for(const o of s)if(o.type==="childList")for(const a of o.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&n(a)}).observe(document,{childList:!0,subtree:!0});function r(s){const o={};return s.integrity&&(o.integrity=s.integrity),s.referrerPolicy&&(o.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?o.credentials="include":s.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function n(s){if(s.ep)return;s.ep=!0;const o=r(s);fetch(s.href,o)}})();var Pt=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function $a(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function Mv(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var r=function n(){return this instanceof n?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};r.prototype=t.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(e).forEach(function(n){var s=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(r,n,s.get?s:{enumerable:!0,get:function(){return e[n]}})}),r}var Mp={exports:{}},Va={},Up={exports:{}},X={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ki=Symbol.for("react.element"),Uv=Symbol.for("react.portal"),Fv=Symbol.for("react.fragment"),$v=Symbol.for("react.strict_mode"),Vv=Symbol.for("react.profiler"),Bv=Symbol.for("react.provider"),zv=Symbol.for("react.context"),qv=Symbol.for("react.forward_ref"),Wv=Symbol.for("react.suspense"),Hv=Symbol.for("react.memo"),Kv=Symbol.for("react.lazy"),Th=Symbol.iterator;function Gv(e){return e===null||typeof e!="object"?null:(e=Th&&e[Th]||e["@@iterator"],typeof e=="function"?e:null)}var Fp={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},$p=Object.assign,Vp={};function Ts(e,t,r){this.props=e,this.context=t,this.refs=Vp,this.updater=r||Fp}Ts.prototype.isReactComponent={};Ts.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Ts.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function Bp(){}Bp.prototype=Ts.prototype;function Ju(e,t,r){this.props=e,this.context=t,this.refs=Vp,this.updater=r||Fp}var Qu=Ju.prototype=new Bp;Qu.constructor=Ju;$p(Qu,Ts.prototype);Qu.isPureReactComponent=!0;var Ah=Array.isArray,zp=Object.prototype.hasOwnProperty,Zu={current:null},qp={key:!0,ref:!0,__self:!0,__source:!0};function Wp(e,t,r){var n,s={},o=null,a=null;if(t!=null)for(n in t.ref!==void 0&&(a=t.ref),t.key!==void 0&&(o=""+t.key),t)zp.call(t,n)&&!qp.hasOwnProperty(n)&&(s[n]=t[n]);var l=arguments.length-2;if(l===1)s.children=r;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];s.children=c}if(e&&e.defaultProps)for(n in l=e.defaultProps,l)s[n]===void 0&&(s[n]=l[n]);return{$$typeof:Ki,type:e,key:o,ref:a,props:s,_owner:Zu.current}}function Yv(e,t){return{$$typeof:Ki,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function Xu(e){return typeof e=="object"&&e!==null&&e.$$typeof===Ki}function Jv(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var Ih=/\/+/g;function jl(e,t){return typeof e=="object"&&e!==null&&e.key!=null?Jv(""+e.key):t.toString(36)}function Mo(e,t,r,n,s){var o=typeof e;(o==="undefined"||o==="boolean")&&(e=null);var a=!1;if(e===null)a=!0;else switch(o){case"string":case"number":a=!0;break;case"object":switch(e.$$typeof){case Ki:case Uv:a=!0}}if(a)return a=e,s=s(a),e=n===""?"."+jl(a,0):n,Ah(s)?(r="",e!=null&&(r=e.replace(Ih,"$&/")+"/"),Mo(s,t,r,"",function(u){return u})):s!=null&&(Xu(s)&&(s=Yv(s,r+(!s.key||a&&a.key===s.key?"":(""+s.key).replace(Ih,"$&/")+"/")+e)),t.push(s)),1;if(a=0,n=n===""?".":n+":",Ah(e))for(var l=0;l<e.length;l++){o=e[l];var c=n+jl(o,l);a+=Mo(o,t,r,c,s)}else if(c=Gv(e),typeof c=="function")for(e=c.call(e),l=0;!(o=e.next()).done;)o=o.value,c=n+jl(o,l++),a+=Mo(o,t,r,c,s);else if(o==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return a}function co(e,t,r){if(e==null)return e;var n=[],s=0;return Mo(e,n,"","",function(o){return t.call(r,o,s++)}),n}function Qv(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Je={current:null},Uo={transition:null},Zv={ReactCurrentDispatcher:Je,ReactCurrentBatchConfig:Uo,ReactCurrentOwner:Zu};function Hp(){throw Error("act(...) is not supported in production builds of React.")}X.Children={map:co,forEach:function(e,t,r){co(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return co(e,function(){t++}),t},toArray:function(e){return co(e,function(t){return t})||[]},only:function(e){if(!Xu(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};X.Component=Ts;X.Fragment=Fv;X.Profiler=Vv;X.PureComponent=Ju;X.StrictMode=$v;X.Suspense=Wv;X.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Zv;X.act=Hp;X.cloneElement=function(e,t,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var n=$p({},e.props),s=e.key,o=e.ref,a=e._owner;if(t!=null){if(t.ref!==void 0&&(o=t.ref,a=Zu.current),t.key!==void 0&&(s=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)zp.call(t,c)&&!qp.hasOwnProperty(c)&&(n[c]=t[c]===void 0&&l!==void 0?l[c]:t[c])}var c=arguments.length-2;if(c===1)n.children=r;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];n.children=l}return{$$typeof:Ki,type:e.type,key:s,ref:o,props:n,_owner:a}};X.createContext=function(e){return e={$$typeof:zv,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:Bv,_context:e},e.Consumer=e};X.createElement=Wp;X.createFactory=function(e){var t=Wp.bind(null,e);return t.type=e,t};X.createRef=function(){return{current:null}};X.forwardRef=function(e){return{$$typeof:qv,render:e}};X.isValidElement=Xu;X.lazy=function(e){return{$$typeof:Kv,_payload:{_status:-1,_result:e},_init:Qv}};X.memo=function(e,t){return{$$typeof:Hv,type:e,compare:t===void 0?null:t}};X.startTransition=function(e){var t=Uo.transition;Uo.transition={};try{e()}finally{Uo.transition=t}};X.unstable_act=Hp;X.useCallback=function(e,t){return Je.current.useCallback(e,t)};X.useContext=function(e){return Je.current.useContext(e)};X.useDebugValue=function(){};X.useDeferredValue=function(e){return Je.current.useDeferredValue(e)};X.useEffect=function(e,t){return Je.current.useEffect(e,t)};X.useId=function(){return Je.current.useId()};X.useImperativeHandle=function(e,t,r){return Je.current.useImperativeHandle(e,t,r)};X.useInsertionEffect=function(e,t){return Je.current.useInsertionEffect(e,t)};X.useLayoutEffect=function(e,t){return Je.current.useLayoutEffect(e,t)};X.useMemo=function(e,t){return Je.current.useMemo(e,t)};X.useReducer=function(e,t,r){return Je.current.useReducer(e,t,r)};X.useRef=function(e){return Je.current.useRef(e)};X.useState=function(e){return Je.current.useState(e)};X.useSyncExternalStore=function(e,t,r){return Je.current.useSyncExternalStore(e,t,r)};X.useTransition=function(){return Je.current.useTransition()};X.version="18.3.1";Up.exports=X;var x=Up.exports;const Ve=$a(x),Xv=Dv({__proto__:null,default:Ve},[x]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ew=x,tw=Symbol.for("react.element"),rw=Symbol.for("react.fragment"),nw=Object.prototype.hasOwnProperty,sw=ew.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,iw={key:!0,ref:!0,__self:!0,__source:!0};function Kp(e,t,r){var n,s={},o=null,a=null;r!==void 0&&(o=""+r),t.key!==void 0&&(o=""+t.key),t.ref!==void 0&&(a=t.ref);for(n in t)nw.call(t,n)&&!iw.hasOwnProperty(n)&&(s[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps,t)s[n]===void 0&&(s[n]=t[n]);return{$$typeof:tw,type:e,key:o,ref:a,props:s,_owner:sw.current}}Va.Fragment=rw;Va.jsx=Kp;Va.jsxs=Kp;Mp.exports=Va;var i=Mp.exports,Sc={},Gp={exports:{}},gt={},Yp={exports:{}},Jp={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(C,A){var I=C.length;C.push(A);e:for(;0<I;){var S=I-1>>>1,F=C[S];if(0<s(F,A))C[S]=A,C[I]=F,I=S;else break e}}function r(C){return C.length===0?null:C[0]}function n(C){if(C.length===0)return null;var A=C[0],I=C.pop();if(I!==A){C[0]=I;e:for(var S=0,F=C.length,se=F>>>1;S<se;){var B=2*(S+1)-1,ee=C[B],re=B+1,Se=C[re];if(0>s(ee,I))re<F&&0>s(Se,ee)?(C[S]=Se,C[re]=I,S=re):(C[S]=ee,C[B]=I,S=B);else if(re<F&&0>s(Se,I))C[S]=Se,C[re]=I,S=re;else break e}}return A}function s(C,A){var I=C.sortIndex-A.sortIndex;return I!==0?I:C.id-A.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;e.unstable_now=function(){return o.now()}}else{var a=Date,l=a.now();e.unstable_now=function(){return a.now()-l}}var c=[],u=[],d=1,h=null,f=3,p=!1,v=!1,b=!1,w=typeof setTimeout=="function"?setTimeout:null,g=typeof clearTimeout=="function"?clearTimeout:null,y=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function m(C){for(var A=r(u);A!==null;){if(A.callback===null)n(u);else if(A.startTime<=C)n(u),A.sortIndex=A.expirationTime,t(c,A);else break;A=r(u)}}function j(C){if(b=!1,m(C),!v)if(r(c)!==null)v=!0,M(N);else{var A=r(u);A!==null&&q(j,A.startTime-C)}}function N(C,A){v=!1,b&&(b=!1,g(T),T=-1),p=!0;var I=f;try{for(m(A),h=r(c);h!==null&&(!(h.expirationTime>A)||C&&!D());){var S=h.callback;if(typeof S=="function"){h.callback=null,f=h.priorityLevel;var F=S(h.expirationTime<=A);A=e.unstable_now(),typeof F=="function"?h.callback=F:h===r(c)&&n(c),m(A)}else n(c);h=r(c)}if(h!==null)var se=!0;else{var B=r(u);B!==null&&q(j,B.startTime-A),se=!1}return se}finally{h=null,f=I,p=!1}}var E=!1,P=null,T=-1,$=5,V=-1;function D(){return!(e.unstable_now()-V<$)}function z(){if(P!==null){var C=e.unstable_now();V=C;var A=!0;try{A=P(!0,C)}finally{A?k():(E=!1,P=null)}}else E=!1}var k;if(typeof y=="function")k=function(){y(z)};else if(typeof MessageChannel<"u"){var _=new MessageChannel,R=_.port2;_.port1.onmessage=z,k=function(){R.postMessage(null)}}else k=function(){w(z,0)};function M(C){P=C,E||(E=!0,k())}function q(C,A){T=w(function(){C(e.unstable_now())},A)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(C){C.callback=null},e.unstable_continueExecution=function(){v||p||(v=!0,M(N))},e.unstable_forceFrameRate=function(C){0>C||125<C?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):$=0<C?Math.floor(1e3/C):5},e.unstable_getCurrentPriorityLevel=function(){return f},e.unstable_getFirstCallbackNode=function(){return r(c)},e.unstable_next=function(C){switch(f){case 1:case 2:case 3:var A=3;break;default:A=f}var I=f;f=A;try{return C()}finally{f=I}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(C,A){switch(C){case 1:case 2:case 3:case 4:case 5:break;default:C=3}var I=f;f=C;try{return A()}finally{f=I}},e.unstable_scheduleCallback=function(C,A,I){var S=e.unstable_now();switch(typeof I=="object"&&I!==null?(I=I.delay,I=typeof I=="number"&&0<I?S+I:S):I=S,C){case 1:var F=-1;break;case 2:F=250;break;case 5:F=1073741823;break;case 4:F=1e4;break;default:F=5e3}return F=I+F,C={id:d++,callback:A,priorityLevel:C,startTime:I,expirationTime:F,sortIndex:-1},I>S?(C.sortIndex=I,t(u,C),r(c)===null&&C===r(u)&&(b?(g(T),T=-1):b=!0,q(j,I-S))):(C.sortIndex=F,t(c,C),v||p||(v=!0,M(N))),C},e.unstable_shouldYield=D,e.unstable_wrapCallback=function(C){var A=f;return function(){var I=f;f=A;try{return C.apply(this,arguments)}finally{f=I}}}})(Jp);Yp.exports=Jp;var ow=Yp.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var aw=x,mt=ow;function L(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Qp=new Set,ji={};function Cn(e,t){gs(e,t),gs(e+"Capture",t)}function gs(e,t){for(ji[e]=t,e=0;e<t.length;e++)Qp.add(t[e])}var cr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),_c=Object.prototype.hasOwnProperty,lw=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Rh={},Oh={};function cw(e){return _c.call(Oh,e)?!0:_c.call(Rh,e)?!1:lw.test(e)?Oh[e]=!0:(Rh[e]=!0,!1)}function uw(e,t,r,n){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function dw(e,t,r,n){if(t===null||typeof t>"u"||uw(e,t,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Qe(e,t,r,n,s,o,a){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=n,this.attributeNamespace=s,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=o,this.removeEmptyString=a}var Re={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Re[e]=new Qe(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Re[t]=new Qe(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Re[e]=new Qe(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Re[e]=new Qe(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Re[e]=new Qe(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Re[e]=new Qe(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Re[e]=new Qe(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Re[e]=new Qe(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Re[e]=new Qe(e,5,!1,e.toLowerCase(),null,!1,!1)});var ed=/[\-:]([a-z])/g;function td(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(ed,td);Re[t]=new Qe(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(ed,td);Re[t]=new Qe(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(ed,td);Re[t]=new Qe(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Re[e]=new Qe(e,1,!1,e.toLowerCase(),null,!1,!1)});Re.xlinkHref=new Qe("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Re[e]=new Qe(e,1,!1,e.toLowerCase(),null,!0,!0)});function rd(e,t,r,n){var s=Re.hasOwnProperty(t)?Re[t]:null;(s!==null?s.type!==0:n||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(dw(t,r,s,n)&&(r=null),n||s===null?cw(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):s.mustUseProperty?e[s.propertyName]=r===null?s.type===3?!1:"":r:(t=s.attributeName,n=s.attributeNamespace,r===null?e.removeAttribute(t):(s=s.type,r=s===3||s===4&&r===!0?"":""+r,n?e.setAttributeNS(n,t,r):e.setAttribute(t,r))))}var mr=aw.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,uo=Symbol.for("react.element"),qn=Symbol.for("react.portal"),Wn=Symbol.for("react.fragment"),nd=Symbol.for("react.strict_mode"),kc=Symbol.for("react.profiler"),Zp=Symbol.for("react.provider"),Xp=Symbol.for("react.context"),sd=Symbol.for("react.forward_ref"),Pc=Symbol.for("react.suspense"),Cc=Symbol.for("react.suspense_list"),id=Symbol.for("react.memo"),jr=Symbol.for("react.lazy"),eg=Symbol.for("react.offscreen"),Lh=Symbol.iterator;function Fs(e){return e===null||typeof e!="object"?null:(e=Lh&&e[Lh]||e["@@iterator"],typeof e=="function"?e:null)}var pe=Object.assign,Nl;function ei(e){if(Nl===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);Nl=t&&t[1]||""}return`
`+Nl+e}var Sl=!1;function _l(e,t){if(!e||Sl)return"";Sl=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var n=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){n=u}e.call(t.prototype)}else{try{throw Error()}catch(u){n=u}e()}}catch(u){if(u&&n&&typeof u.stack=="string"){for(var s=u.stack.split(`
`),o=n.stack.split(`
`),a=s.length-1,l=o.length-1;1<=a&&0<=l&&s[a]!==o[l];)l--;for(;1<=a&&0<=l;a--,l--)if(s[a]!==o[l]){if(a!==1||l!==1)do if(a--,l--,0>l||s[a]!==o[l]){var c=`
`+s[a].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=a&&0<=l);break}}}finally{Sl=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?ei(e):""}function hw(e){switch(e.tag){case 5:return ei(e.type);case 16:return ei("Lazy");case 13:return ei("Suspense");case 19:return ei("SuspenseList");case 0:case 2:case 15:return e=_l(e.type,!1),e;case 11:return e=_l(e.type.render,!1),e;case 1:return e=_l(e.type,!0),e;default:return""}}function Ec(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Wn:return"Fragment";case qn:return"Portal";case kc:return"Profiler";case nd:return"StrictMode";case Pc:return"Suspense";case Cc:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case Xp:return(e.displayName||"Context")+".Consumer";case Zp:return(e._context.displayName||"Context")+".Provider";case sd:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case id:return t=e.displayName||null,t!==null?t:Ec(e.type)||"Memo";case jr:t=e._payload,e=e._init;try{return Ec(e(t))}catch{}}return null}function fw(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Ec(t);case 8:return t===nd?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Gr(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function tg(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function mw(e){var t=tg(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var s=r.get,o=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(a){n=""+a,o.call(this,a)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(a){n=""+a},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function ho(e){e._valueTracker||(e._valueTracker=mw(e))}function rg(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=tg(e)?e.checked?"true":"false":e.value),e=n,e!==r?(t.setValue(e),!0):!1}function ta(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Tc(e,t){var r=t.checked;return pe({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function Dh(e,t){var r=t.defaultValue==null?"":t.defaultValue,n=t.checked!=null?t.checked:t.defaultChecked;r=Gr(t.value!=null?t.value:r),e._wrapperState={initialChecked:n,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function ng(e,t){t=t.checked,t!=null&&rd(e,"checked",t,!1)}function Ac(e,t){ng(e,t);var r=Gr(t.value),n=t.type;if(r!=null)n==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(n==="submit"||n==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Ic(e,t.type,r):t.hasOwnProperty("defaultValue")&&Ic(e,t.type,Gr(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function Mh(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!(n!=="submit"&&n!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function Ic(e,t,r){(t!=="number"||ta(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var ti=Array.isArray;function os(e,t,r,n){if(e=e.options,t){t={};for(var s=0;s<r.length;s++)t["$"+r[s]]=!0;for(r=0;r<e.length;r++)s=t.hasOwnProperty("$"+e[r].value),e[r].selected!==s&&(e[r].selected=s),s&&n&&(e[r].defaultSelected=!0)}else{for(r=""+Gr(r),t=null,s=0;s<e.length;s++){if(e[s].value===r){e[s].selected=!0,n&&(e[s].defaultSelected=!0);return}t!==null||e[s].disabled||(t=e[s])}t!==null&&(t.selected=!0)}}function Rc(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(L(91));return pe({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Uh(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(L(92));if(ti(r)){if(1<r.length)throw Error(L(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:Gr(r)}}function sg(e,t){var r=Gr(t.value),n=Gr(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),n!=null&&(e.defaultValue=""+n)}function Fh(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function ig(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Oc(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?ig(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var fo,og=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,n,s){MSApp.execUnsafeLocalFunction(function(){return e(t,r,n,s)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(fo=fo||document.createElement("div"),fo.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=fo.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Ni(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var ai={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},pw=["Webkit","ms","Moz","O"];Object.keys(ai).forEach(function(e){pw.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),ai[t]=ai[e]})});function ag(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||ai.hasOwnProperty(e)&&ai[e]?(""+t).trim():t+"px"}function lg(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var n=r.indexOf("--")===0,s=ag(r,t[r],n);r==="float"&&(r="cssFloat"),n?e.setProperty(r,s):e[r]=s}}var gw=pe({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Lc(e,t){if(t){if(gw[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(L(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(L(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(L(61))}if(t.style!=null&&typeof t.style!="object")throw Error(L(62))}}function Dc(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Mc=null;function od(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Uc=null,as=null,ls=null;function $h(e){if(e=Ji(e)){if(typeof Uc!="function")throw Error(L(280));var t=e.stateNode;t&&(t=Ha(t),Uc(e.stateNode,e.type,t))}}function cg(e){as?ls?ls.push(e):ls=[e]:as=e}function ug(){if(as){var e=as,t=ls;if(ls=as=null,$h(e),t)for(e=0;e<t.length;e++)$h(t[e])}}function dg(e,t){return e(t)}function hg(){}var kl=!1;function fg(e,t,r){if(kl)return e(t,r);kl=!0;try{return dg(e,t,r)}finally{kl=!1,(as!==null||ls!==null)&&(hg(),ug())}}function Si(e,t){var r=e.stateNode;if(r===null)return null;var n=Ha(r);if(n===null)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(L(231,t,typeof r));return r}var Fc=!1;if(cr)try{var $s={};Object.defineProperty($s,"passive",{get:function(){Fc=!0}}),window.addEventListener("test",$s,$s),window.removeEventListener("test",$s,$s)}catch{Fc=!1}function yw(e,t,r,n,s,o,a,l,c){var u=Array.prototype.slice.call(arguments,3);try{t.apply(r,u)}catch(d){this.onError(d)}}var li=!1,ra=null,na=!1,$c=null,xw={onError:function(e){li=!0,ra=e}};function vw(e,t,r,n,s,o,a,l,c){li=!1,ra=null,yw.apply(xw,arguments)}function ww(e,t,r,n,s,o,a,l,c){if(vw.apply(this,arguments),li){if(li){var u=ra;li=!1,ra=null}else throw Error(L(198));na||(na=!0,$c=u)}}function En(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function mg(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Vh(e){if(En(e)!==e)throw Error(L(188))}function bw(e){var t=e.alternate;if(!t){if(t=En(e),t===null)throw Error(L(188));return t!==e?null:e}for(var r=e,n=t;;){var s=r.return;if(s===null)break;var o=s.alternate;if(o===null){if(n=s.return,n!==null){r=n;continue}break}if(s.child===o.child){for(o=s.child;o;){if(o===r)return Vh(s),e;if(o===n)return Vh(s),t;o=o.sibling}throw Error(L(188))}if(r.return!==n.return)r=s,n=o;else{for(var a=!1,l=s.child;l;){if(l===r){a=!0,r=s,n=o;break}if(l===n){a=!0,n=s,r=o;break}l=l.sibling}if(!a){for(l=o.child;l;){if(l===r){a=!0,r=o,n=s;break}if(l===n){a=!0,n=o,r=s;break}l=l.sibling}if(!a)throw Error(L(189))}}if(r.alternate!==n)throw Error(L(190))}if(r.tag!==3)throw Error(L(188));return r.stateNode.current===r?e:t}function pg(e){return e=bw(e),e!==null?gg(e):null}function gg(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=gg(e);if(t!==null)return t;e=e.sibling}return null}var yg=mt.unstable_scheduleCallback,Bh=mt.unstable_cancelCallback,jw=mt.unstable_shouldYield,Nw=mt.unstable_requestPaint,ve=mt.unstable_now,Sw=mt.unstable_getCurrentPriorityLevel,ad=mt.unstable_ImmediatePriority,xg=mt.unstable_UserBlockingPriority,sa=mt.unstable_NormalPriority,_w=mt.unstable_LowPriority,vg=mt.unstable_IdlePriority,Ba=null,Kt=null;function kw(e){if(Kt&&typeof Kt.onCommitFiberRoot=="function")try{Kt.onCommitFiberRoot(Ba,e,void 0,(e.current.flags&128)===128)}catch{}}var Ut=Math.clz32?Math.clz32:Ew,Pw=Math.log,Cw=Math.LN2;function Ew(e){return e>>>=0,e===0?32:31-(Pw(e)/Cw|0)|0}var mo=64,po=4194304;function ri(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ia(e,t){var r=e.pendingLanes;if(r===0)return 0;var n=0,s=e.suspendedLanes,o=e.pingedLanes,a=r&268435455;if(a!==0){var l=a&~s;l!==0?n=ri(l):(o&=a,o!==0&&(n=ri(o)))}else a=r&~s,a!==0?n=ri(a):o!==0&&(n=ri(o));if(n===0)return 0;if(t!==0&&t!==n&&!(t&s)&&(s=n&-n,o=t&-t,s>=o||s===16&&(o&4194240)!==0))return t;if(n&4&&(n|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=n;0<t;)r=31-Ut(t),s=1<<r,n|=e[r],t&=~s;return n}function Tw(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Aw(e,t){for(var r=e.suspendedLanes,n=e.pingedLanes,s=e.expirationTimes,o=e.pendingLanes;0<o;){var a=31-Ut(o),l=1<<a,c=s[a];c===-1?(!(l&r)||l&n)&&(s[a]=Tw(l,t)):c<=t&&(e.expiredLanes|=l),o&=~l}}function Vc(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function wg(){var e=mo;return mo<<=1,!(mo&4194240)&&(mo=64),e}function Pl(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function Gi(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Ut(t),e[t]=r}function Iw(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var n=e.eventTimes;for(e=e.expirationTimes;0<r;){var s=31-Ut(r),o=1<<s;t[s]=0,n[s]=-1,e[s]=-1,r&=~o}}function ld(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var n=31-Ut(r),s=1<<n;s&t|e[n]&t&&(e[n]|=t),r&=~s}}var ne=0;function bg(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var jg,cd,Ng,Sg,_g,Bc=!1,go=[],Rr=null,Or=null,Lr=null,_i=new Map,ki=new Map,kr=[],Rw="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function zh(e,t){switch(e){case"focusin":case"focusout":Rr=null;break;case"dragenter":case"dragleave":Or=null;break;case"mouseover":case"mouseout":Lr=null;break;case"pointerover":case"pointerout":_i.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":ki.delete(t.pointerId)}}function Vs(e,t,r,n,s,o){return e===null||e.nativeEvent!==o?(e={blockedOn:t,domEventName:r,eventSystemFlags:n,nativeEvent:o,targetContainers:[s]},t!==null&&(t=Ji(t),t!==null&&cd(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,s!==null&&t.indexOf(s)===-1&&t.push(s),e)}function Ow(e,t,r,n,s){switch(t){case"focusin":return Rr=Vs(Rr,e,t,r,n,s),!0;case"dragenter":return Or=Vs(Or,e,t,r,n,s),!0;case"mouseover":return Lr=Vs(Lr,e,t,r,n,s),!0;case"pointerover":var o=s.pointerId;return _i.set(o,Vs(_i.get(o)||null,e,t,r,n,s)),!0;case"gotpointercapture":return o=s.pointerId,ki.set(o,Vs(ki.get(o)||null,e,t,r,n,s)),!0}return!1}function kg(e){var t=pn(e.target);if(t!==null){var r=En(t);if(r!==null){if(t=r.tag,t===13){if(t=mg(r),t!==null){e.blockedOn=t,_g(e.priority,function(){Ng(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Fo(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=zc(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var n=new r.constructor(r.type,r);Mc=n,r.target.dispatchEvent(n),Mc=null}else return t=Ji(r),t!==null&&cd(t),e.blockedOn=r,!1;t.shift()}return!0}function qh(e,t,r){Fo(e)&&r.delete(t)}function Lw(){Bc=!1,Rr!==null&&Fo(Rr)&&(Rr=null),Or!==null&&Fo(Or)&&(Or=null),Lr!==null&&Fo(Lr)&&(Lr=null),_i.forEach(qh),ki.forEach(qh)}function Bs(e,t){e.blockedOn===t&&(e.blockedOn=null,Bc||(Bc=!0,mt.unstable_scheduleCallback(mt.unstable_NormalPriority,Lw)))}function Pi(e){function t(s){return Bs(s,e)}if(0<go.length){Bs(go[0],e);for(var r=1;r<go.length;r++){var n=go[r];n.blockedOn===e&&(n.blockedOn=null)}}for(Rr!==null&&Bs(Rr,e),Or!==null&&Bs(Or,e),Lr!==null&&Bs(Lr,e),_i.forEach(t),ki.forEach(t),r=0;r<kr.length;r++)n=kr[r],n.blockedOn===e&&(n.blockedOn=null);for(;0<kr.length&&(r=kr[0],r.blockedOn===null);)kg(r),r.blockedOn===null&&kr.shift()}var cs=mr.ReactCurrentBatchConfig,oa=!0;function Dw(e,t,r,n){var s=ne,o=cs.transition;cs.transition=null;try{ne=1,ud(e,t,r,n)}finally{ne=s,cs.transition=o}}function Mw(e,t,r,n){var s=ne,o=cs.transition;cs.transition=null;try{ne=4,ud(e,t,r,n)}finally{ne=s,cs.transition=o}}function ud(e,t,r,n){if(oa){var s=zc(e,t,r,n);if(s===null)Ml(e,t,n,aa,r),zh(e,n);else if(Ow(s,e,t,r,n))n.stopPropagation();else if(zh(e,n),t&4&&-1<Rw.indexOf(e)){for(;s!==null;){var o=Ji(s);if(o!==null&&jg(o),o=zc(e,t,r,n),o===null&&Ml(e,t,n,aa,r),o===s)break;s=o}s!==null&&n.stopPropagation()}else Ml(e,t,n,null,r)}}var aa=null;function zc(e,t,r,n){if(aa=null,e=od(n),e=pn(e),e!==null)if(t=En(e),t===null)e=null;else if(r=t.tag,r===13){if(e=mg(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return aa=e,null}function Pg(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Sw()){case ad:return 1;case xg:return 4;case sa:case _w:return 16;case vg:return 536870912;default:return 16}default:return 16}}var Er=null,dd=null,$o=null;function Cg(){if($o)return $o;var e,t=dd,r=t.length,n,s="value"in Er?Er.value:Er.textContent,o=s.length;for(e=0;e<r&&t[e]===s[e];e++);var a=r-e;for(n=1;n<=a&&t[r-n]===s[o-n];n++);return $o=s.slice(e,1<n?1-n:void 0)}function Vo(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function yo(){return!0}function Wh(){return!1}function yt(e){function t(r,n,s,o,a){this._reactName=r,this._targetInst=s,this.type=n,this.nativeEvent=o,this.target=a,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(r=e[l],this[l]=r?r(o):o[l]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?yo:Wh,this.isPropagationStopped=Wh,this}return pe(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=yo)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=yo)},persist:function(){},isPersistent:yo}),t}var As={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},hd=yt(As),Yi=pe({},As,{view:0,detail:0}),Uw=yt(Yi),Cl,El,zs,za=pe({},Yi,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:fd,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==zs&&(zs&&e.type==="mousemove"?(Cl=e.screenX-zs.screenX,El=e.screenY-zs.screenY):El=Cl=0,zs=e),Cl)},movementY:function(e){return"movementY"in e?e.movementY:El}}),Hh=yt(za),Fw=pe({},za,{dataTransfer:0}),$w=yt(Fw),Vw=pe({},Yi,{relatedTarget:0}),Tl=yt(Vw),Bw=pe({},As,{animationName:0,elapsedTime:0,pseudoElement:0}),zw=yt(Bw),qw=pe({},As,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Ww=yt(qw),Hw=pe({},As,{data:0}),Kh=yt(Hw),Kw={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Gw={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Yw={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Jw(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=Yw[e])?!!t[e]:!1}function fd(){return Jw}var Qw=pe({},Yi,{key:function(e){if(e.key){var t=Kw[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Vo(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Gw[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:fd,charCode:function(e){return e.type==="keypress"?Vo(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Vo(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Zw=yt(Qw),Xw=pe({},za,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Gh=yt(Xw),eb=pe({},Yi,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:fd}),tb=yt(eb),rb=pe({},As,{propertyName:0,elapsedTime:0,pseudoElement:0}),nb=yt(rb),sb=pe({},za,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),ib=yt(sb),ob=[9,13,27,32],md=cr&&"CompositionEvent"in window,ci=null;cr&&"documentMode"in document&&(ci=document.documentMode);var ab=cr&&"TextEvent"in window&&!ci,Eg=cr&&(!md||ci&&8<ci&&11>=ci),Yh=String.fromCharCode(32),Jh=!1;function Tg(e,t){switch(e){case"keyup":return ob.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ag(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Hn=!1;function lb(e,t){switch(e){case"compositionend":return Ag(t);case"keypress":return t.which!==32?null:(Jh=!0,Yh);case"textInput":return e=t.data,e===Yh&&Jh?null:e;default:return null}}function cb(e,t){if(Hn)return e==="compositionend"||!md&&Tg(e,t)?(e=Cg(),$o=dd=Er=null,Hn=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Eg&&t.locale!=="ko"?null:t.data;default:return null}}var ub={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Qh(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!ub[e.type]:t==="textarea"}function Ig(e,t,r,n){cg(n),t=la(t,"onChange"),0<t.length&&(r=new hd("onChange","change",null,r,n),e.push({event:r,listeners:t}))}var ui=null,Ci=null;function db(e){zg(e,0)}function qa(e){var t=Yn(e);if(rg(t))return e}function hb(e,t){if(e==="change")return t}var Rg=!1;if(cr){var Al;if(cr){var Il="oninput"in document;if(!Il){var Zh=document.createElement("div");Zh.setAttribute("oninput","return;"),Il=typeof Zh.oninput=="function"}Al=Il}else Al=!1;Rg=Al&&(!document.documentMode||9<document.documentMode)}function Xh(){ui&&(ui.detachEvent("onpropertychange",Og),Ci=ui=null)}function Og(e){if(e.propertyName==="value"&&qa(Ci)){var t=[];Ig(t,Ci,e,od(e)),fg(db,t)}}function fb(e,t,r){e==="focusin"?(Xh(),ui=t,Ci=r,ui.attachEvent("onpropertychange",Og)):e==="focusout"&&Xh()}function mb(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return qa(Ci)}function pb(e,t){if(e==="click")return qa(t)}function gb(e,t){if(e==="input"||e==="change")return qa(t)}function yb(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Bt=typeof Object.is=="function"?Object.is:yb;function Ei(e,t){if(Bt(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var s=r[n];if(!_c.call(t,s)||!Bt(e[s],t[s]))return!1}return!0}function ef(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function tf(e,t){var r=ef(e);e=0;for(var n;r;){if(r.nodeType===3){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=ef(r)}}function Lg(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Lg(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Dg(){for(var e=window,t=ta();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=ta(e.document)}return t}function pd(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function xb(e){var t=Dg(),r=e.focusedElem,n=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&Lg(r.ownerDocument.documentElement,r)){if(n!==null&&pd(r)){if(t=n.start,e=n.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var s=r.textContent.length,o=Math.min(n.start,s);n=n.end===void 0?o:Math.min(n.end,s),!e.extend&&o>n&&(s=n,n=o,o=s),s=tf(r,o);var a=tf(r,n);s&&a&&(e.rangeCount!==1||e.anchorNode!==s.node||e.anchorOffset!==s.offset||e.focusNode!==a.node||e.focusOffset!==a.offset)&&(t=t.createRange(),t.setStart(s.node,s.offset),e.removeAllRanges(),o>n?(e.addRange(t),e.extend(a.node,a.offset)):(t.setEnd(a.node,a.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var vb=cr&&"documentMode"in document&&11>=document.documentMode,Kn=null,qc=null,di=null,Wc=!1;function rf(e,t,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;Wc||Kn==null||Kn!==ta(n)||(n=Kn,"selectionStart"in n&&pd(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),di&&Ei(di,n)||(di=n,n=la(qc,"onSelect"),0<n.length&&(t=new hd("onSelect","select",null,t,r),e.push({event:t,listeners:n}),t.target=Kn)))}function xo(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var Gn={animationend:xo("Animation","AnimationEnd"),animationiteration:xo("Animation","AnimationIteration"),animationstart:xo("Animation","AnimationStart"),transitionend:xo("Transition","TransitionEnd")},Rl={},Mg={};cr&&(Mg=document.createElement("div").style,"AnimationEvent"in window||(delete Gn.animationend.animation,delete Gn.animationiteration.animation,delete Gn.animationstart.animation),"TransitionEvent"in window||delete Gn.transitionend.transition);function Wa(e){if(Rl[e])return Rl[e];if(!Gn[e])return e;var t=Gn[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in Mg)return Rl[e]=t[r];return e}var Ug=Wa("animationend"),Fg=Wa("animationiteration"),$g=Wa("animationstart"),Vg=Wa("transitionend"),Bg=new Map,nf="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Zr(e,t){Bg.set(e,t),Cn(t,[e])}for(var Ol=0;Ol<nf.length;Ol++){var Ll=nf[Ol],wb=Ll.toLowerCase(),bb=Ll[0].toUpperCase()+Ll.slice(1);Zr(wb,"on"+bb)}Zr(Ug,"onAnimationEnd");Zr(Fg,"onAnimationIteration");Zr($g,"onAnimationStart");Zr("dblclick","onDoubleClick");Zr("focusin","onFocus");Zr("focusout","onBlur");Zr(Vg,"onTransitionEnd");gs("onMouseEnter",["mouseout","mouseover"]);gs("onMouseLeave",["mouseout","mouseover"]);gs("onPointerEnter",["pointerout","pointerover"]);gs("onPointerLeave",["pointerout","pointerover"]);Cn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Cn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Cn("onBeforeInput",["compositionend","keypress","textInput","paste"]);Cn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Cn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Cn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ni="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),jb=new Set("cancel close invalid load scroll toggle".split(" ").concat(ni));function sf(e,t,r){var n=e.type||"unknown-event";e.currentTarget=r,ww(n,t,void 0,e),e.currentTarget=null}function zg(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var n=e[r],s=n.event;n=n.listeners;e:{var o=void 0;if(t)for(var a=n.length-1;0<=a;a--){var l=n[a],c=l.instance,u=l.currentTarget;if(l=l.listener,c!==o&&s.isPropagationStopped())break e;sf(s,l,u),o=c}else for(a=0;a<n.length;a++){if(l=n[a],c=l.instance,u=l.currentTarget,l=l.listener,c!==o&&s.isPropagationStopped())break e;sf(s,l,u),o=c}}}if(na)throw e=$c,na=!1,$c=null,e}function le(e,t){var r=t[Jc];r===void 0&&(r=t[Jc]=new Set);var n=e+"__bubble";r.has(n)||(qg(t,e,2,!1),r.add(n))}function Dl(e,t,r){var n=0;t&&(n|=4),qg(r,e,n,t)}var vo="_reactListening"+Math.random().toString(36).slice(2);function Ti(e){if(!e[vo]){e[vo]=!0,Qp.forEach(function(r){r!=="selectionchange"&&(jb.has(r)||Dl(r,!1,e),Dl(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[vo]||(t[vo]=!0,Dl("selectionchange",!1,t))}}function qg(e,t,r,n){switch(Pg(t)){case 1:var s=Dw;break;case 4:s=Mw;break;default:s=ud}r=s.bind(null,t,r,e),s=void 0,!Fc||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(s=!0),n?s!==void 0?e.addEventListener(t,r,{capture:!0,passive:s}):e.addEventListener(t,r,!0):s!==void 0?e.addEventListener(t,r,{passive:s}):e.addEventListener(t,r,!1)}function Ml(e,t,r,n,s){var o=n;if(!(t&1)&&!(t&2)&&n!==null)e:for(;;){if(n===null)return;var a=n.tag;if(a===3||a===4){var l=n.stateNode.containerInfo;if(l===s||l.nodeType===8&&l.parentNode===s)break;if(a===4)for(a=n.return;a!==null;){var c=a.tag;if((c===3||c===4)&&(c=a.stateNode.containerInfo,c===s||c.nodeType===8&&c.parentNode===s))return;a=a.return}for(;l!==null;){if(a=pn(l),a===null)return;if(c=a.tag,c===5||c===6){n=o=a;continue e}l=l.parentNode}}n=n.return}fg(function(){var u=o,d=od(r),h=[];e:{var f=Bg.get(e);if(f!==void 0){var p=hd,v=e;switch(e){case"keypress":if(Vo(r)===0)break e;case"keydown":case"keyup":p=Zw;break;case"focusin":v="focus",p=Tl;break;case"focusout":v="blur",p=Tl;break;case"beforeblur":case"afterblur":p=Tl;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=Hh;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=$w;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=tb;break;case Ug:case Fg:case $g:p=zw;break;case Vg:p=nb;break;case"scroll":p=Uw;break;case"wheel":p=ib;break;case"copy":case"cut":case"paste":p=Ww;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=Gh}var b=(t&4)!==0,w=!b&&e==="scroll",g=b?f!==null?f+"Capture":null:f;b=[];for(var y=u,m;y!==null;){m=y;var j=m.stateNode;if(m.tag===5&&j!==null&&(m=j,g!==null&&(j=Si(y,g),j!=null&&b.push(Ai(y,j,m)))),w)break;y=y.return}0<b.length&&(f=new p(f,v,null,r,d),h.push({event:f,listeners:b}))}}if(!(t&7)){e:{if(f=e==="mouseover"||e==="pointerover",p=e==="mouseout"||e==="pointerout",f&&r!==Mc&&(v=r.relatedTarget||r.fromElement)&&(pn(v)||v[ur]))break e;if((p||f)&&(f=d.window===d?d:(f=d.ownerDocument)?f.defaultView||f.parentWindow:window,p?(v=r.relatedTarget||r.toElement,p=u,v=v?pn(v):null,v!==null&&(w=En(v),v!==w||v.tag!==5&&v.tag!==6)&&(v=null)):(p=null,v=u),p!==v)){if(b=Hh,j="onMouseLeave",g="onMouseEnter",y="mouse",(e==="pointerout"||e==="pointerover")&&(b=Gh,j="onPointerLeave",g="onPointerEnter",y="pointer"),w=p==null?f:Yn(p),m=v==null?f:Yn(v),f=new b(j,y+"leave",p,r,d),f.target=w,f.relatedTarget=m,j=null,pn(d)===u&&(b=new b(g,y+"enter",v,r,d),b.target=m,b.relatedTarget=w,j=b),w=j,p&&v)t:{for(b=p,g=v,y=0,m=b;m;m=On(m))y++;for(m=0,j=g;j;j=On(j))m++;for(;0<y-m;)b=On(b),y--;for(;0<m-y;)g=On(g),m--;for(;y--;){if(b===g||g!==null&&b===g.alternate)break t;b=On(b),g=On(g)}b=null}else b=null;p!==null&&of(h,f,p,b,!1),v!==null&&w!==null&&of(h,w,v,b,!0)}}e:{if(f=u?Yn(u):window,p=f.nodeName&&f.nodeName.toLowerCase(),p==="select"||p==="input"&&f.type==="file")var N=hb;else if(Qh(f))if(Rg)N=gb;else{N=mb;var E=fb}else(p=f.nodeName)&&p.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(N=pb);if(N&&(N=N(e,u))){Ig(h,N,r,d);break e}E&&E(e,f,u),e==="focusout"&&(E=f._wrapperState)&&E.controlled&&f.type==="number"&&Ic(f,"number",f.value)}switch(E=u?Yn(u):window,e){case"focusin":(Qh(E)||E.contentEditable==="true")&&(Kn=E,qc=u,di=null);break;case"focusout":di=qc=Kn=null;break;case"mousedown":Wc=!0;break;case"contextmenu":case"mouseup":case"dragend":Wc=!1,rf(h,r,d);break;case"selectionchange":if(vb)break;case"keydown":case"keyup":rf(h,r,d)}var P;if(md)e:{switch(e){case"compositionstart":var T="onCompositionStart";break e;case"compositionend":T="onCompositionEnd";break e;case"compositionupdate":T="onCompositionUpdate";break e}T=void 0}else Hn?Tg(e,r)&&(T="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(T="onCompositionStart");T&&(Eg&&r.locale!=="ko"&&(Hn||T!=="onCompositionStart"?T==="onCompositionEnd"&&Hn&&(P=Cg()):(Er=d,dd="value"in Er?Er.value:Er.textContent,Hn=!0)),E=la(u,T),0<E.length&&(T=new Kh(T,e,null,r,d),h.push({event:T,listeners:E}),P?T.data=P:(P=Ag(r),P!==null&&(T.data=P)))),(P=ab?lb(e,r):cb(e,r))&&(u=la(u,"onBeforeInput"),0<u.length&&(d=new Kh("onBeforeInput","beforeinput",null,r,d),h.push({event:d,listeners:u}),d.data=P))}zg(h,t)})}function Ai(e,t,r){return{instance:e,listener:t,currentTarget:r}}function la(e,t){for(var r=t+"Capture",n=[];e!==null;){var s=e,o=s.stateNode;s.tag===5&&o!==null&&(s=o,o=Si(e,r),o!=null&&n.unshift(Ai(e,o,s)),o=Si(e,t),o!=null&&n.push(Ai(e,o,s))),e=e.return}return n}function On(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function of(e,t,r,n,s){for(var o=t._reactName,a=[];r!==null&&r!==n;){var l=r,c=l.alternate,u=l.stateNode;if(c!==null&&c===n)break;l.tag===5&&u!==null&&(l=u,s?(c=Si(r,o),c!=null&&a.unshift(Ai(r,c,l))):s||(c=Si(r,o),c!=null&&a.push(Ai(r,c,l)))),r=r.return}a.length!==0&&e.push({event:t,listeners:a})}var Nb=/\r\n?/g,Sb=/\u0000|\uFFFD/g;function af(e){return(typeof e=="string"?e:""+e).replace(Nb,`
`).replace(Sb,"")}function wo(e,t,r){if(t=af(t),af(e)!==t&&r)throw Error(L(425))}function ca(){}var Hc=null,Kc=null;function Gc(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Yc=typeof setTimeout=="function"?setTimeout:void 0,_b=typeof clearTimeout=="function"?clearTimeout:void 0,lf=typeof Promise=="function"?Promise:void 0,kb=typeof queueMicrotask=="function"?queueMicrotask:typeof lf<"u"?function(e){return lf.resolve(null).then(e).catch(Pb)}:Yc;function Pb(e){setTimeout(function(){throw e})}function Ul(e,t){var r=t,n=0;do{var s=r.nextSibling;if(e.removeChild(r),s&&s.nodeType===8)if(r=s.data,r==="/$"){if(n===0){e.removeChild(s),Pi(t);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=s}while(r);Pi(t)}function Dr(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function cf(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var Is=Math.random().toString(36).slice(2),Ht="__reactFiber$"+Is,Ii="__reactProps$"+Is,ur="__reactContainer$"+Is,Jc="__reactEvents$"+Is,Cb="__reactListeners$"+Is,Eb="__reactHandles$"+Is;function pn(e){var t=e[Ht];if(t)return t;for(var r=e.parentNode;r;){if(t=r[ur]||r[Ht]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=cf(e);e!==null;){if(r=e[Ht])return r;e=cf(e)}return t}e=r,r=e.parentNode}return null}function Ji(e){return e=e[Ht]||e[ur],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Yn(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(L(33))}function Ha(e){return e[Ii]||null}var Qc=[],Jn=-1;function Xr(e){return{current:e}}function ce(e){0>Jn||(e.current=Qc[Jn],Qc[Jn]=null,Jn--)}function oe(e,t){Jn++,Qc[Jn]=e.current,e.current=t}var Yr={},ze=Xr(Yr),st=Xr(!1),jn=Yr;function ys(e,t){var r=e.type.contextTypes;if(!r)return Yr;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var s={},o;for(o in r)s[o]=t[o];return n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function it(e){return e=e.childContextTypes,e!=null}function ua(){ce(st),ce(ze)}function uf(e,t,r){if(ze.current!==Yr)throw Error(L(168));oe(ze,t),oe(st,r)}function Wg(e,t,r){var n=e.stateNode;if(t=t.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var s in n)if(!(s in t))throw Error(L(108,fw(e)||"Unknown",s));return pe({},r,n)}function da(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Yr,jn=ze.current,oe(ze,e),oe(st,st.current),!0}function df(e,t,r){var n=e.stateNode;if(!n)throw Error(L(169));r?(e=Wg(e,t,jn),n.__reactInternalMemoizedMergedChildContext=e,ce(st),ce(ze),oe(ze,e)):ce(st),oe(st,r)}var rr=null,Ka=!1,Fl=!1;function Hg(e){rr===null?rr=[e]:rr.push(e)}function Tb(e){Ka=!0,Hg(e)}function en(){if(!Fl&&rr!==null){Fl=!0;var e=0,t=ne;try{var r=rr;for(ne=1;e<r.length;e++){var n=r[e];do n=n(!0);while(n!==null)}rr=null,Ka=!1}catch(s){throw rr!==null&&(rr=rr.slice(e+1)),yg(ad,en),s}finally{ne=t,Fl=!1}}return null}var Qn=[],Zn=0,ha=null,fa=0,jt=[],Nt=0,Nn=null,nr=1,sr="";function ln(e,t){Qn[Zn++]=fa,Qn[Zn++]=ha,ha=e,fa=t}function Kg(e,t,r){jt[Nt++]=nr,jt[Nt++]=sr,jt[Nt++]=Nn,Nn=e;var n=nr;e=sr;var s=32-Ut(n)-1;n&=~(1<<s),r+=1;var o=32-Ut(t)+s;if(30<o){var a=s-s%5;o=(n&(1<<a)-1).toString(32),n>>=a,s-=a,nr=1<<32-Ut(t)+s|r<<s|n,sr=o+e}else nr=1<<o|r<<s|n,sr=e}function gd(e){e.return!==null&&(ln(e,1),Kg(e,1,0))}function yd(e){for(;e===ha;)ha=Qn[--Zn],Qn[Zn]=null,fa=Qn[--Zn],Qn[Zn]=null;for(;e===Nn;)Nn=jt[--Nt],jt[Nt]=null,sr=jt[--Nt],jt[Nt]=null,nr=jt[--Nt],jt[Nt]=null}var ft=null,ht=null,ue=!1,Dt=null;function Gg(e,t){var r=St(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function hf(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,ft=e,ht=Dr(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,ft=e,ht=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=Nn!==null?{id:nr,overflow:sr}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=St(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,ft=e,ht=null,!0):!1;default:return!1}}function Zc(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Xc(e){if(ue){var t=ht;if(t){var r=t;if(!hf(e,t)){if(Zc(e))throw Error(L(418));t=Dr(r.nextSibling);var n=ft;t&&hf(e,t)?Gg(n,r):(e.flags=e.flags&-4097|2,ue=!1,ft=e)}}else{if(Zc(e))throw Error(L(418));e.flags=e.flags&-4097|2,ue=!1,ft=e}}}function ff(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;ft=e}function bo(e){if(e!==ft)return!1;if(!ue)return ff(e),ue=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Gc(e.type,e.memoizedProps)),t&&(t=ht)){if(Zc(e))throw Yg(),Error(L(418));for(;t;)Gg(e,t),t=Dr(t.nextSibling)}if(ff(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(L(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){ht=Dr(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}ht=null}}else ht=ft?Dr(e.stateNode.nextSibling):null;return!0}function Yg(){for(var e=ht;e;)e=Dr(e.nextSibling)}function xs(){ht=ft=null,ue=!1}function xd(e){Dt===null?Dt=[e]:Dt.push(e)}var Ab=mr.ReactCurrentBatchConfig;function qs(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(L(309));var n=r.stateNode}if(!n)throw Error(L(147,e));var s=n,o=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===o?t.ref:(t=function(a){var l=s.refs;a===null?delete l[o]:l[o]=a},t._stringRef=o,t)}if(typeof e!="string")throw Error(L(284));if(!r._owner)throw Error(L(290,e))}return e}function jo(e,t){throw e=Object.prototype.toString.call(t),Error(L(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function mf(e){var t=e._init;return t(e._payload)}function Jg(e){function t(g,y){if(e){var m=g.deletions;m===null?(g.deletions=[y],g.flags|=16):m.push(y)}}function r(g,y){if(!e)return null;for(;y!==null;)t(g,y),y=y.sibling;return null}function n(g,y){for(g=new Map;y!==null;)y.key!==null?g.set(y.key,y):g.set(y.index,y),y=y.sibling;return g}function s(g,y){return g=$r(g,y),g.index=0,g.sibling=null,g}function o(g,y,m){return g.index=m,e?(m=g.alternate,m!==null?(m=m.index,m<y?(g.flags|=2,y):m):(g.flags|=2,y)):(g.flags|=1048576,y)}function a(g){return e&&g.alternate===null&&(g.flags|=2),g}function l(g,y,m,j){return y===null||y.tag!==6?(y=Hl(m,g.mode,j),y.return=g,y):(y=s(y,m),y.return=g,y)}function c(g,y,m,j){var N=m.type;return N===Wn?d(g,y,m.props.children,j,m.key):y!==null&&(y.elementType===N||typeof N=="object"&&N!==null&&N.$$typeof===jr&&mf(N)===y.type)?(j=s(y,m.props),j.ref=qs(g,y,m),j.return=g,j):(j=Go(m.type,m.key,m.props,null,g.mode,j),j.ref=qs(g,y,m),j.return=g,j)}function u(g,y,m,j){return y===null||y.tag!==4||y.stateNode.containerInfo!==m.containerInfo||y.stateNode.implementation!==m.implementation?(y=Kl(m,g.mode,j),y.return=g,y):(y=s(y,m.children||[]),y.return=g,y)}function d(g,y,m,j,N){return y===null||y.tag!==7?(y=bn(m,g.mode,j,N),y.return=g,y):(y=s(y,m),y.return=g,y)}function h(g,y,m){if(typeof y=="string"&&y!==""||typeof y=="number")return y=Hl(""+y,g.mode,m),y.return=g,y;if(typeof y=="object"&&y!==null){switch(y.$$typeof){case uo:return m=Go(y.type,y.key,y.props,null,g.mode,m),m.ref=qs(g,null,y),m.return=g,m;case qn:return y=Kl(y,g.mode,m),y.return=g,y;case jr:var j=y._init;return h(g,j(y._payload),m)}if(ti(y)||Fs(y))return y=bn(y,g.mode,m,null),y.return=g,y;jo(g,y)}return null}function f(g,y,m,j){var N=y!==null?y.key:null;if(typeof m=="string"&&m!==""||typeof m=="number")return N!==null?null:l(g,y,""+m,j);if(typeof m=="object"&&m!==null){switch(m.$$typeof){case uo:return m.key===N?c(g,y,m,j):null;case qn:return m.key===N?u(g,y,m,j):null;case jr:return N=m._init,f(g,y,N(m._payload),j)}if(ti(m)||Fs(m))return N!==null?null:d(g,y,m,j,null);jo(g,m)}return null}function p(g,y,m,j,N){if(typeof j=="string"&&j!==""||typeof j=="number")return g=g.get(m)||null,l(y,g,""+j,N);if(typeof j=="object"&&j!==null){switch(j.$$typeof){case uo:return g=g.get(j.key===null?m:j.key)||null,c(y,g,j,N);case qn:return g=g.get(j.key===null?m:j.key)||null,u(y,g,j,N);case jr:var E=j._init;return p(g,y,m,E(j._payload),N)}if(ti(j)||Fs(j))return g=g.get(m)||null,d(y,g,j,N,null);jo(y,j)}return null}function v(g,y,m,j){for(var N=null,E=null,P=y,T=y=0,$=null;P!==null&&T<m.length;T++){P.index>T?($=P,P=null):$=P.sibling;var V=f(g,P,m[T],j);if(V===null){P===null&&(P=$);break}e&&P&&V.alternate===null&&t(g,P),y=o(V,y,T),E===null?N=V:E.sibling=V,E=V,P=$}if(T===m.length)return r(g,P),ue&&ln(g,T),N;if(P===null){for(;T<m.length;T++)P=h(g,m[T],j),P!==null&&(y=o(P,y,T),E===null?N=P:E.sibling=P,E=P);return ue&&ln(g,T),N}for(P=n(g,P);T<m.length;T++)$=p(P,g,T,m[T],j),$!==null&&(e&&$.alternate!==null&&P.delete($.key===null?T:$.key),y=o($,y,T),E===null?N=$:E.sibling=$,E=$);return e&&P.forEach(function(D){return t(g,D)}),ue&&ln(g,T),N}function b(g,y,m,j){var N=Fs(m);if(typeof N!="function")throw Error(L(150));if(m=N.call(m),m==null)throw Error(L(151));for(var E=N=null,P=y,T=y=0,$=null,V=m.next();P!==null&&!V.done;T++,V=m.next()){P.index>T?($=P,P=null):$=P.sibling;var D=f(g,P,V.value,j);if(D===null){P===null&&(P=$);break}e&&P&&D.alternate===null&&t(g,P),y=o(D,y,T),E===null?N=D:E.sibling=D,E=D,P=$}if(V.done)return r(g,P),ue&&ln(g,T),N;if(P===null){for(;!V.done;T++,V=m.next())V=h(g,V.value,j),V!==null&&(y=o(V,y,T),E===null?N=V:E.sibling=V,E=V);return ue&&ln(g,T),N}for(P=n(g,P);!V.done;T++,V=m.next())V=p(P,g,T,V.value,j),V!==null&&(e&&V.alternate!==null&&P.delete(V.key===null?T:V.key),y=o(V,y,T),E===null?N=V:E.sibling=V,E=V);return e&&P.forEach(function(z){return t(g,z)}),ue&&ln(g,T),N}function w(g,y,m,j){if(typeof m=="object"&&m!==null&&m.type===Wn&&m.key===null&&(m=m.props.children),typeof m=="object"&&m!==null){switch(m.$$typeof){case uo:e:{for(var N=m.key,E=y;E!==null;){if(E.key===N){if(N=m.type,N===Wn){if(E.tag===7){r(g,E.sibling),y=s(E,m.props.children),y.return=g,g=y;break e}}else if(E.elementType===N||typeof N=="object"&&N!==null&&N.$$typeof===jr&&mf(N)===E.type){r(g,E.sibling),y=s(E,m.props),y.ref=qs(g,E,m),y.return=g,g=y;break e}r(g,E);break}else t(g,E);E=E.sibling}m.type===Wn?(y=bn(m.props.children,g.mode,j,m.key),y.return=g,g=y):(j=Go(m.type,m.key,m.props,null,g.mode,j),j.ref=qs(g,y,m),j.return=g,g=j)}return a(g);case qn:e:{for(E=m.key;y!==null;){if(y.key===E)if(y.tag===4&&y.stateNode.containerInfo===m.containerInfo&&y.stateNode.implementation===m.implementation){r(g,y.sibling),y=s(y,m.children||[]),y.return=g,g=y;break e}else{r(g,y);break}else t(g,y);y=y.sibling}y=Kl(m,g.mode,j),y.return=g,g=y}return a(g);case jr:return E=m._init,w(g,y,E(m._payload),j)}if(ti(m))return v(g,y,m,j);if(Fs(m))return b(g,y,m,j);jo(g,m)}return typeof m=="string"&&m!==""||typeof m=="number"?(m=""+m,y!==null&&y.tag===6?(r(g,y.sibling),y=s(y,m),y.return=g,g=y):(r(g,y),y=Hl(m,g.mode,j),y.return=g,g=y),a(g)):r(g,y)}return w}var vs=Jg(!0),Qg=Jg(!1),ma=Xr(null),pa=null,Xn=null,vd=null;function wd(){vd=Xn=pa=null}function bd(e){var t=ma.current;ce(ma),e._currentValue=t}function eu(e,t,r){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,n!==null&&(n.childLanes|=t)):n!==null&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===r)break;e=e.return}}function us(e,t){pa=e,vd=Xn=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(nt=!0),e.firstContext=null)}function Ct(e){var t=e._currentValue;if(vd!==e)if(e={context:e,memoizedValue:t,next:null},Xn===null){if(pa===null)throw Error(L(308));Xn=e,pa.dependencies={lanes:0,firstContext:e}}else Xn=Xn.next=e;return t}var gn=null;function jd(e){gn===null?gn=[e]:gn.push(e)}function Zg(e,t,r,n){var s=t.interleaved;return s===null?(r.next=r,jd(t)):(r.next=s.next,s.next=r),t.interleaved=r,dr(e,n)}function dr(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var Nr=!1;function Nd(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Xg(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function or(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Mr(e,t,r){var n=e.updateQueue;if(n===null)return null;if(n=n.shared,te&2){var s=n.pending;return s===null?t.next=t:(t.next=s.next,s.next=t),n.pending=t,dr(e,r)}return s=n.interleaved,s===null?(t.next=t,jd(n)):(t.next=s.next,s.next=t),n.interleaved=t,dr(e,r)}function Bo(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,ld(e,r)}}function pf(e,t){var r=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var s=null,o=null;if(r=r.firstBaseUpdate,r!==null){do{var a={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};o===null?s=o=a:o=o.next=a,r=r.next}while(r!==null);o===null?s=o=t:o=o.next=t}else s=o=t;r={baseState:n.baseState,firstBaseUpdate:s,lastBaseUpdate:o,shared:n.shared,effects:n.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function ga(e,t,r,n){var s=e.updateQueue;Nr=!1;var o=s.firstBaseUpdate,a=s.lastBaseUpdate,l=s.shared.pending;if(l!==null){s.shared.pending=null;var c=l,u=c.next;c.next=null,a===null?o=u:a.next=u,a=c;var d=e.alternate;d!==null&&(d=d.updateQueue,l=d.lastBaseUpdate,l!==a&&(l===null?d.firstBaseUpdate=u:l.next=u,d.lastBaseUpdate=c))}if(o!==null){var h=s.baseState;a=0,d=u=c=null,l=o;do{var f=l.lane,p=l.eventTime;if((n&f)===f){d!==null&&(d=d.next={eventTime:p,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var v=e,b=l;switch(f=t,p=r,b.tag){case 1:if(v=b.payload,typeof v=="function"){h=v.call(p,h,f);break e}h=v;break e;case 3:v.flags=v.flags&-65537|128;case 0:if(v=b.payload,f=typeof v=="function"?v.call(p,h,f):v,f==null)break e;h=pe({},h,f);break e;case 2:Nr=!0}}l.callback!==null&&l.lane!==0&&(e.flags|=64,f=s.effects,f===null?s.effects=[l]:f.push(l))}else p={eventTime:p,lane:f,tag:l.tag,payload:l.payload,callback:l.callback,next:null},d===null?(u=d=p,c=h):d=d.next=p,a|=f;if(l=l.next,l===null){if(l=s.shared.pending,l===null)break;f=l,l=f.next,f.next=null,s.lastBaseUpdate=f,s.shared.pending=null}}while(1);if(d===null&&(c=h),s.baseState=c,s.firstBaseUpdate=u,s.lastBaseUpdate=d,t=s.shared.interleaved,t!==null){s=t;do a|=s.lane,s=s.next;while(s!==t)}else o===null&&(s.shared.lanes=0);_n|=a,e.lanes=a,e.memoizedState=h}}function gf(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var n=e[t],s=n.callback;if(s!==null){if(n.callback=null,n=r,typeof s!="function")throw Error(L(191,s));s.call(n)}}}var Qi={},Gt=Xr(Qi),Ri=Xr(Qi),Oi=Xr(Qi);function yn(e){if(e===Qi)throw Error(L(174));return e}function Sd(e,t){switch(oe(Oi,t),oe(Ri,e),oe(Gt,Qi),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Oc(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Oc(t,e)}ce(Gt),oe(Gt,t)}function ws(){ce(Gt),ce(Ri),ce(Oi)}function ey(e){yn(Oi.current);var t=yn(Gt.current),r=Oc(t,e.type);t!==r&&(oe(Ri,e),oe(Gt,r))}function _d(e){Ri.current===e&&(ce(Gt),ce(Ri))}var de=Xr(0);function ya(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var $l=[];function kd(){for(var e=0;e<$l.length;e++)$l[e]._workInProgressVersionPrimary=null;$l.length=0}var zo=mr.ReactCurrentDispatcher,Vl=mr.ReactCurrentBatchConfig,Sn=0,me=null,_e=null,Ce=null,xa=!1,hi=!1,Li=0,Ib=0;function Le(){throw Error(L(321))}function Pd(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!Bt(e[r],t[r]))return!1;return!0}function Cd(e,t,r,n,s,o){if(Sn=o,me=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,zo.current=e===null||e.memoizedState===null?Db:Mb,e=r(n,s),hi){o=0;do{if(hi=!1,Li=0,25<=o)throw Error(L(301));o+=1,Ce=_e=null,t.updateQueue=null,zo.current=Ub,e=r(n,s)}while(hi)}if(zo.current=va,t=_e!==null&&_e.next!==null,Sn=0,Ce=_e=me=null,xa=!1,t)throw Error(L(300));return e}function Ed(){var e=Li!==0;return Li=0,e}function Wt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ce===null?me.memoizedState=Ce=e:Ce=Ce.next=e,Ce}function Et(){if(_e===null){var e=me.alternate;e=e!==null?e.memoizedState:null}else e=_e.next;var t=Ce===null?me.memoizedState:Ce.next;if(t!==null)Ce=t,_e=e;else{if(e===null)throw Error(L(310));_e=e,e={memoizedState:_e.memoizedState,baseState:_e.baseState,baseQueue:_e.baseQueue,queue:_e.queue,next:null},Ce===null?me.memoizedState=Ce=e:Ce=Ce.next=e}return Ce}function Di(e,t){return typeof t=="function"?t(e):t}function Bl(e){var t=Et(),r=t.queue;if(r===null)throw Error(L(311));r.lastRenderedReducer=e;var n=_e,s=n.baseQueue,o=r.pending;if(o!==null){if(s!==null){var a=s.next;s.next=o.next,o.next=a}n.baseQueue=s=o,r.pending=null}if(s!==null){o=s.next,n=n.baseState;var l=a=null,c=null,u=o;do{var d=u.lane;if((Sn&d)===d)c!==null&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),n=u.hasEagerState?u.eagerState:e(n,u.action);else{var h={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};c===null?(l=c=h,a=n):c=c.next=h,me.lanes|=d,_n|=d}u=u.next}while(u!==null&&u!==o);c===null?a=n:c.next=l,Bt(n,t.memoizedState)||(nt=!0),t.memoizedState=n,t.baseState=a,t.baseQueue=c,r.lastRenderedState=n}if(e=r.interleaved,e!==null){s=e;do o=s.lane,me.lanes|=o,_n|=o,s=s.next;while(s!==e)}else s===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function zl(e){var t=Et(),r=t.queue;if(r===null)throw Error(L(311));r.lastRenderedReducer=e;var n=r.dispatch,s=r.pending,o=t.memoizedState;if(s!==null){r.pending=null;var a=s=s.next;do o=e(o,a.action),a=a.next;while(a!==s);Bt(o,t.memoizedState)||(nt=!0),t.memoizedState=o,t.baseQueue===null&&(t.baseState=o),r.lastRenderedState=o}return[o,n]}function ty(){}function ry(e,t){var r=me,n=Et(),s=t(),o=!Bt(n.memoizedState,s);if(o&&(n.memoizedState=s,nt=!0),n=n.queue,Td(iy.bind(null,r,n,e),[e]),n.getSnapshot!==t||o||Ce!==null&&Ce.memoizedState.tag&1){if(r.flags|=2048,Mi(9,sy.bind(null,r,n,s,t),void 0,null),Ee===null)throw Error(L(349));Sn&30||ny(r,t,s)}return s}function ny(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=me.updateQueue,t===null?(t={lastEffect:null,stores:null},me.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function sy(e,t,r,n){t.value=r,t.getSnapshot=n,oy(t)&&ay(e)}function iy(e,t,r){return r(function(){oy(t)&&ay(e)})}function oy(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!Bt(e,r)}catch{return!0}}function ay(e){var t=dr(e,1);t!==null&&Ft(t,e,1,-1)}function yf(e){var t=Wt();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Di,lastRenderedState:e},t.queue=e,e=e.dispatch=Lb.bind(null,me,e),[t.memoizedState,e]}function Mi(e,t,r,n){return e={tag:e,create:t,destroy:r,deps:n,next:null},t=me.updateQueue,t===null?(t={lastEffect:null,stores:null},me.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e)),e}function ly(){return Et().memoizedState}function qo(e,t,r,n){var s=Wt();me.flags|=e,s.memoizedState=Mi(1|t,r,void 0,n===void 0?null:n)}function Ga(e,t,r,n){var s=Et();n=n===void 0?null:n;var o=void 0;if(_e!==null){var a=_e.memoizedState;if(o=a.destroy,n!==null&&Pd(n,a.deps)){s.memoizedState=Mi(t,r,o,n);return}}me.flags|=e,s.memoizedState=Mi(1|t,r,o,n)}function xf(e,t){return qo(8390656,8,e,t)}function Td(e,t){return Ga(2048,8,e,t)}function cy(e,t){return Ga(4,2,e,t)}function uy(e,t){return Ga(4,4,e,t)}function dy(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function hy(e,t,r){return r=r!=null?r.concat([e]):null,Ga(4,4,dy.bind(null,t,e),r)}function Ad(){}function fy(e,t){var r=Et();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&Pd(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function my(e,t){var r=Et();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&Pd(t,n[1])?n[0]:(e=e(),r.memoizedState=[e,t],e)}function py(e,t,r){return Sn&21?(Bt(r,t)||(r=wg(),me.lanes|=r,_n|=r,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,nt=!0),e.memoizedState=r)}function Rb(e,t){var r=ne;ne=r!==0&&4>r?r:4,e(!0);var n=Vl.transition;Vl.transition={};try{e(!1),t()}finally{ne=r,Vl.transition=n}}function gy(){return Et().memoizedState}function Ob(e,t,r){var n=Fr(e);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},yy(e))xy(t,r);else if(r=Zg(e,t,r,n),r!==null){var s=Ge();Ft(r,e,n,s),vy(r,t,n)}}function Lb(e,t,r){var n=Fr(e),s={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(yy(e))xy(t,s);else{var o=e.alternate;if(e.lanes===0&&(o===null||o.lanes===0)&&(o=t.lastRenderedReducer,o!==null))try{var a=t.lastRenderedState,l=o(a,r);if(s.hasEagerState=!0,s.eagerState=l,Bt(l,a)){var c=t.interleaved;c===null?(s.next=s,jd(t)):(s.next=c.next,c.next=s),t.interleaved=s;return}}catch{}finally{}r=Zg(e,t,s,n),r!==null&&(s=Ge(),Ft(r,e,n,s),vy(r,t,n))}}function yy(e){var t=e.alternate;return e===me||t!==null&&t===me}function xy(e,t){hi=xa=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function vy(e,t,r){if(r&4194240){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,ld(e,r)}}var va={readContext:Ct,useCallback:Le,useContext:Le,useEffect:Le,useImperativeHandle:Le,useInsertionEffect:Le,useLayoutEffect:Le,useMemo:Le,useReducer:Le,useRef:Le,useState:Le,useDebugValue:Le,useDeferredValue:Le,useTransition:Le,useMutableSource:Le,useSyncExternalStore:Le,useId:Le,unstable_isNewReconciler:!1},Db={readContext:Ct,useCallback:function(e,t){return Wt().memoizedState=[e,t===void 0?null:t],e},useContext:Ct,useEffect:xf,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,qo(4194308,4,dy.bind(null,t,e),r)},useLayoutEffect:function(e,t){return qo(4194308,4,e,t)},useInsertionEffect:function(e,t){return qo(4,2,e,t)},useMemo:function(e,t){var r=Wt();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var n=Wt();return t=r!==void 0?r(t):t,n.memoizedState=n.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},n.queue=e,e=e.dispatch=Ob.bind(null,me,e),[n.memoizedState,e]},useRef:function(e){var t=Wt();return e={current:e},t.memoizedState=e},useState:yf,useDebugValue:Ad,useDeferredValue:function(e){return Wt().memoizedState=e},useTransition:function(){var e=yf(!1),t=e[0];return e=Rb.bind(null,e[1]),Wt().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var n=me,s=Wt();if(ue){if(r===void 0)throw Error(L(407));r=r()}else{if(r=t(),Ee===null)throw Error(L(349));Sn&30||ny(n,t,r)}s.memoizedState=r;var o={value:r,getSnapshot:t};return s.queue=o,xf(iy.bind(null,n,o,e),[e]),n.flags|=2048,Mi(9,sy.bind(null,n,o,r,t),void 0,null),r},useId:function(){var e=Wt(),t=Ee.identifierPrefix;if(ue){var r=sr,n=nr;r=(n&~(1<<32-Ut(n)-1)).toString(32)+r,t=":"+t+"R"+r,r=Li++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=Ib++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},Mb={readContext:Ct,useCallback:fy,useContext:Ct,useEffect:Td,useImperativeHandle:hy,useInsertionEffect:cy,useLayoutEffect:uy,useMemo:my,useReducer:Bl,useRef:ly,useState:function(){return Bl(Di)},useDebugValue:Ad,useDeferredValue:function(e){var t=Et();return py(t,_e.memoizedState,e)},useTransition:function(){var e=Bl(Di)[0],t=Et().memoizedState;return[e,t]},useMutableSource:ty,useSyncExternalStore:ry,useId:gy,unstable_isNewReconciler:!1},Ub={readContext:Ct,useCallback:fy,useContext:Ct,useEffect:Td,useImperativeHandle:hy,useInsertionEffect:cy,useLayoutEffect:uy,useMemo:my,useReducer:zl,useRef:ly,useState:function(){return zl(Di)},useDebugValue:Ad,useDeferredValue:function(e){var t=Et();return _e===null?t.memoizedState=e:py(t,_e.memoizedState,e)},useTransition:function(){var e=zl(Di)[0],t=Et().memoizedState;return[e,t]},useMutableSource:ty,useSyncExternalStore:ry,useId:gy,unstable_isNewReconciler:!1};function Rt(e,t){if(e&&e.defaultProps){t=pe({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}function tu(e,t,r,n){t=e.memoizedState,r=r(n,t),r=r==null?t:pe({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var Ya={isMounted:function(e){return(e=e._reactInternals)?En(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var n=Ge(),s=Fr(e),o=or(n,s);o.payload=t,r!=null&&(o.callback=r),t=Mr(e,o,s),t!==null&&(Ft(t,e,s,n),Bo(t,e,s))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var n=Ge(),s=Fr(e),o=or(n,s);o.tag=1,o.payload=t,r!=null&&(o.callback=r),t=Mr(e,o,s),t!==null&&(Ft(t,e,s,n),Bo(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=Ge(),n=Fr(e),s=or(r,n);s.tag=2,t!=null&&(s.callback=t),t=Mr(e,s,n),t!==null&&(Ft(t,e,n,r),Bo(t,e,n))}};function vf(e,t,r,n,s,o,a){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,o,a):t.prototype&&t.prototype.isPureReactComponent?!Ei(r,n)||!Ei(s,o):!0}function wy(e,t,r){var n=!1,s=Yr,o=t.contextType;return typeof o=="object"&&o!==null?o=Ct(o):(s=it(t)?jn:ze.current,n=t.contextTypes,o=(n=n!=null)?ys(e,s):Yr),t=new t(r,o),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Ya,e.stateNode=t,t._reactInternals=e,n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=s,e.__reactInternalMemoizedMaskedChildContext=o),t}function wf(e,t,r,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&Ya.enqueueReplaceState(t,t.state,null)}function ru(e,t,r,n){var s=e.stateNode;s.props=r,s.state=e.memoizedState,s.refs={},Nd(e);var o=t.contextType;typeof o=="object"&&o!==null?s.context=Ct(o):(o=it(t)?jn:ze.current,s.context=ys(e,o)),s.state=e.memoizedState,o=t.getDerivedStateFromProps,typeof o=="function"&&(tu(e,t,o,r),s.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(t=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),t!==s.state&&Ya.enqueueReplaceState(s,s.state,null),ga(e,r,s,n),s.state=e.memoizedState),typeof s.componentDidMount=="function"&&(e.flags|=4194308)}function bs(e,t){try{var r="",n=t;do r+=hw(n),n=n.return;while(n);var s=r}catch(o){s=`
Error generating stack: `+o.message+`
`+o.stack}return{value:e,source:t,stack:s,digest:null}}function ql(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function nu(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var Fb=typeof WeakMap=="function"?WeakMap:Map;function by(e,t,r){r=or(-1,r),r.tag=3,r.payload={element:null};var n=t.value;return r.callback=function(){ba||(ba=!0,fu=n),nu(e,t)},r}function jy(e,t,r){r=or(-1,r),r.tag=3;var n=e.type.getDerivedStateFromError;if(typeof n=="function"){var s=t.value;r.payload=function(){return n(s)},r.callback=function(){nu(e,t)}}var o=e.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(r.callback=function(){nu(e,t),typeof n!="function"&&(Ur===null?Ur=new Set([this]):Ur.add(this));var a=t.stack;this.componentDidCatch(t.value,{componentStack:a!==null?a:""})}),r}function bf(e,t,r){var n=e.pingCache;if(n===null){n=e.pingCache=new Fb;var s=new Set;n.set(t,s)}else s=n.get(t),s===void 0&&(s=new Set,n.set(t,s));s.has(r)||(s.add(r),e=Xb.bind(null,e,t,r),t.then(e,e))}function jf(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Nf(e,t,r,n,s){return e.mode&1?(e.flags|=65536,e.lanes=s,e):(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=or(-1,1),t.tag=2,Mr(r,t,1))),r.lanes|=1),e)}var $b=mr.ReactCurrentOwner,nt=!1;function He(e,t,r,n){t.child=e===null?Qg(t,null,r,n):vs(t,e.child,r,n)}function Sf(e,t,r,n,s){r=r.render;var o=t.ref;return us(t,s),n=Cd(e,t,r,n,o,s),r=Ed(),e!==null&&!nt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,hr(e,t,s)):(ue&&r&&gd(t),t.flags|=1,He(e,t,n,s),t.child)}function _f(e,t,r,n,s){if(e===null){var o=r.type;return typeof o=="function"&&!Fd(o)&&o.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=o,Ny(e,t,o,n,s)):(e=Go(r.type,null,n,t,t.mode,s),e.ref=t.ref,e.return=t,t.child=e)}if(o=e.child,!(e.lanes&s)){var a=o.memoizedProps;if(r=r.compare,r=r!==null?r:Ei,r(a,n)&&e.ref===t.ref)return hr(e,t,s)}return t.flags|=1,e=$r(o,n),e.ref=t.ref,e.return=t,t.child=e}function Ny(e,t,r,n,s){if(e!==null){var o=e.memoizedProps;if(Ei(o,n)&&e.ref===t.ref)if(nt=!1,t.pendingProps=n=o,(e.lanes&s)!==0)e.flags&131072&&(nt=!0);else return t.lanes=e.lanes,hr(e,t,s)}return su(e,t,r,n,s)}function Sy(e,t,r){var n=t.pendingProps,s=n.children,o=e!==null?e.memoizedState:null;if(n.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},oe(ts,dt),dt|=r;else{if(!(r&1073741824))return e=o!==null?o.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,oe(ts,dt),dt|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=o!==null?o.baseLanes:r,oe(ts,dt),dt|=n}else o!==null?(n=o.baseLanes|r,t.memoizedState=null):n=r,oe(ts,dt),dt|=n;return He(e,t,s,r),t.child}function _y(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function su(e,t,r,n,s){var o=it(r)?jn:ze.current;return o=ys(t,o),us(t,s),r=Cd(e,t,r,n,o,s),n=Ed(),e!==null&&!nt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,hr(e,t,s)):(ue&&n&&gd(t),t.flags|=1,He(e,t,r,s),t.child)}function kf(e,t,r,n,s){if(it(r)){var o=!0;da(t)}else o=!1;if(us(t,s),t.stateNode===null)Wo(e,t),wy(t,r,n),ru(t,r,n,s),n=!0;else if(e===null){var a=t.stateNode,l=t.memoizedProps;a.props=l;var c=a.context,u=r.contextType;typeof u=="object"&&u!==null?u=Ct(u):(u=it(r)?jn:ze.current,u=ys(t,u));var d=r.getDerivedStateFromProps,h=typeof d=="function"||typeof a.getSnapshotBeforeUpdate=="function";h||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(l!==n||c!==u)&&wf(t,a,n,u),Nr=!1;var f=t.memoizedState;a.state=f,ga(t,n,a,s),c=t.memoizedState,l!==n||f!==c||st.current||Nr?(typeof d=="function"&&(tu(t,r,d,n),c=t.memoizedState),(l=Nr||vf(t,r,l,n,f,c,u))?(h||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(t.flags|=4194308)):(typeof a.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=c),a.props=n,a.state=c,a.context=u,n=l):(typeof a.componentDidMount=="function"&&(t.flags|=4194308),n=!1)}else{a=t.stateNode,Xg(e,t),l=t.memoizedProps,u=t.type===t.elementType?l:Rt(t.type,l),a.props=u,h=t.pendingProps,f=a.context,c=r.contextType,typeof c=="object"&&c!==null?c=Ct(c):(c=it(r)?jn:ze.current,c=ys(t,c));var p=r.getDerivedStateFromProps;(d=typeof p=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(l!==h||f!==c)&&wf(t,a,n,c),Nr=!1,f=t.memoizedState,a.state=f,ga(t,n,a,s);var v=t.memoizedState;l!==h||f!==v||st.current||Nr?(typeof p=="function"&&(tu(t,r,p,n),v=t.memoizedState),(u=Nr||vf(t,r,u,n,f,v,c)||!1)?(d||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(n,v,c),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(n,v,c)),typeof a.componentDidUpdate=="function"&&(t.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof a.componentDidUpdate!="function"||l===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=v),a.props=n,a.state=v,a.context=c,n=u):(typeof a.componentDidUpdate!="function"||l===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),n=!1)}return iu(e,t,r,n,o,s)}function iu(e,t,r,n,s,o){_y(e,t);var a=(t.flags&128)!==0;if(!n&&!a)return s&&df(t,r,!1),hr(e,t,o);n=t.stateNode,$b.current=t;var l=a&&typeof r.getDerivedStateFromError!="function"?null:n.render();return t.flags|=1,e!==null&&a?(t.child=vs(t,e.child,null,o),t.child=vs(t,null,l,o)):He(e,t,l,o),t.memoizedState=n.state,s&&df(t,r,!0),t.child}function ky(e){var t=e.stateNode;t.pendingContext?uf(e,t.pendingContext,t.pendingContext!==t.context):t.context&&uf(e,t.context,!1),Sd(e,t.containerInfo)}function Pf(e,t,r,n,s){return xs(),xd(s),t.flags|=256,He(e,t,r,n),t.child}var ou={dehydrated:null,treeContext:null,retryLane:0};function au(e){return{baseLanes:e,cachePool:null,transitions:null}}function Py(e,t,r){var n=t.pendingProps,s=de.current,o=!1,a=(t.flags&128)!==0,l;if((l=a)||(l=e!==null&&e.memoizedState===null?!1:(s&2)!==0),l?(o=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(s|=1),oe(de,s&1),e===null)return Xc(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(a=n.children,e=n.fallback,o?(n=t.mode,o=t.child,a={mode:"hidden",children:a},!(n&1)&&o!==null?(o.childLanes=0,o.pendingProps=a):o=Za(a,n,0,null),e=bn(e,n,r,null),o.return=t,e.return=t,o.sibling=e,t.child=o,t.child.memoizedState=au(r),t.memoizedState=ou,e):Id(t,a));if(s=e.memoizedState,s!==null&&(l=s.dehydrated,l!==null))return Vb(e,t,a,n,l,s,r);if(o){o=n.fallback,a=t.mode,s=e.child,l=s.sibling;var c={mode:"hidden",children:n.children};return!(a&1)&&t.child!==s?(n=t.child,n.childLanes=0,n.pendingProps=c,t.deletions=null):(n=$r(s,c),n.subtreeFlags=s.subtreeFlags&14680064),l!==null?o=$r(l,o):(o=bn(o,a,r,null),o.flags|=2),o.return=t,n.return=t,n.sibling=o,t.child=n,n=o,o=t.child,a=e.child.memoizedState,a=a===null?au(r):{baseLanes:a.baseLanes|r,cachePool:null,transitions:a.transitions},o.memoizedState=a,o.childLanes=e.childLanes&~r,t.memoizedState=ou,n}return o=e.child,e=o.sibling,n=$r(o,{mode:"visible",children:n.children}),!(t.mode&1)&&(n.lanes=r),n.return=t,n.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n}function Id(e,t){return t=Za({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function No(e,t,r,n){return n!==null&&xd(n),vs(t,e.child,null,r),e=Id(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Vb(e,t,r,n,s,o,a){if(r)return t.flags&256?(t.flags&=-257,n=ql(Error(L(422))),No(e,t,a,n)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(o=n.fallback,s=t.mode,n=Za({mode:"visible",children:n.children},s,0,null),o=bn(o,s,a,null),o.flags|=2,n.return=t,o.return=t,n.sibling=o,t.child=n,t.mode&1&&vs(t,e.child,null,a),t.child.memoizedState=au(a),t.memoizedState=ou,o);if(!(t.mode&1))return No(e,t,a,null);if(s.data==="$!"){if(n=s.nextSibling&&s.nextSibling.dataset,n)var l=n.dgst;return n=l,o=Error(L(419)),n=ql(o,n,void 0),No(e,t,a,n)}if(l=(a&e.childLanes)!==0,nt||l){if(n=Ee,n!==null){switch(a&-a){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(n.suspendedLanes|a)?0:s,s!==0&&s!==o.retryLane&&(o.retryLane=s,dr(e,s),Ft(n,e,s,-1))}return Ud(),n=ql(Error(L(421))),No(e,t,a,n)}return s.data==="$?"?(t.flags|=128,t.child=e.child,t=ej.bind(null,e),s._reactRetry=t,null):(e=o.treeContext,ht=Dr(s.nextSibling),ft=t,ue=!0,Dt=null,e!==null&&(jt[Nt++]=nr,jt[Nt++]=sr,jt[Nt++]=Nn,nr=e.id,sr=e.overflow,Nn=t),t=Id(t,n.children),t.flags|=4096,t)}function Cf(e,t,r){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),eu(e.return,t,r)}function Wl(e,t,r,n,s){var o=e.memoizedState;o===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:s}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=n,o.tail=r,o.tailMode=s)}function Cy(e,t,r){var n=t.pendingProps,s=n.revealOrder,o=n.tail;if(He(e,t,n.children,r),n=de.current,n&2)n=n&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Cf(e,r,t);else if(e.tag===19)Cf(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(oe(de,n),!(t.mode&1))t.memoizedState=null;else switch(s){case"forwards":for(r=t.child,s=null;r!==null;)e=r.alternate,e!==null&&ya(e)===null&&(s=r),r=r.sibling;r=s,r===null?(s=t.child,t.child=null):(s=r.sibling,r.sibling=null),Wl(t,!1,s,r,o);break;case"backwards":for(r=null,s=t.child,t.child=null;s!==null;){if(e=s.alternate,e!==null&&ya(e)===null){t.child=s;break}e=s.sibling,s.sibling=r,r=s,s=e}Wl(t,!0,r,null,o);break;case"together":Wl(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Wo(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function hr(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),_n|=t.lanes,!(r&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(L(153));if(t.child!==null){for(e=t.child,r=$r(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=$r(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function Bb(e,t,r){switch(t.tag){case 3:ky(t),xs();break;case 5:ey(t);break;case 1:it(t.type)&&da(t);break;case 4:Sd(t,t.stateNode.containerInfo);break;case 10:var n=t.type._context,s=t.memoizedProps.value;oe(ma,n._currentValue),n._currentValue=s;break;case 13:if(n=t.memoizedState,n!==null)return n.dehydrated!==null?(oe(de,de.current&1),t.flags|=128,null):r&t.child.childLanes?Py(e,t,r):(oe(de,de.current&1),e=hr(e,t,r),e!==null?e.sibling:null);oe(de,de.current&1);break;case 19:if(n=(r&t.childLanes)!==0,e.flags&128){if(n)return Cy(e,t,r);t.flags|=128}if(s=t.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),oe(de,de.current),n)break;return null;case 22:case 23:return t.lanes=0,Sy(e,t,r)}return hr(e,t,r)}var Ey,lu,Ty,Ay;Ey=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};lu=function(){};Ty=function(e,t,r,n){var s=e.memoizedProps;if(s!==n){e=t.stateNode,yn(Gt.current);var o=null;switch(r){case"input":s=Tc(e,s),n=Tc(e,n),o=[];break;case"select":s=pe({},s,{value:void 0}),n=pe({},n,{value:void 0}),o=[];break;case"textarea":s=Rc(e,s),n=Rc(e,n),o=[];break;default:typeof s.onClick!="function"&&typeof n.onClick=="function"&&(e.onclick=ca)}Lc(r,n);var a;r=null;for(u in s)if(!n.hasOwnProperty(u)&&s.hasOwnProperty(u)&&s[u]!=null)if(u==="style"){var l=s[u];for(a in l)l.hasOwnProperty(a)&&(r||(r={}),r[a]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(ji.hasOwnProperty(u)?o||(o=[]):(o=o||[]).push(u,null));for(u in n){var c=n[u];if(l=s!=null?s[u]:void 0,n.hasOwnProperty(u)&&c!==l&&(c!=null||l!=null))if(u==="style")if(l){for(a in l)!l.hasOwnProperty(a)||c&&c.hasOwnProperty(a)||(r||(r={}),r[a]="");for(a in c)c.hasOwnProperty(a)&&l[a]!==c[a]&&(r||(r={}),r[a]=c[a])}else r||(o||(o=[]),o.push(u,r)),r=c;else u==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,l=l?l.__html:void 0,c!=null&&l!==c&&(o=o||[]).push(u,c)):u==="children"?typeof c!="string"&&typeof c!="number"||(o=o||[]).push(u,""+c):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(ji.hasOwnProperty(u)?(c!=null&&u==="onScroll"&&le("scroll",e),o||l===c||(o=[])):(o=o||[]).push(u,c))}r&&(o=o||[]).push("style",r);var u=o;(t.updateQueue=u)&&(t.flags|=4)}};Ay=function(e,t,r,n){r!==n&&(t.flags|=4)};function Ws(e,t){if(!ue)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function De(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,n=0;if(t)for(var s=e.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags&14680064,n|=s.flags&14680064,s.return=e,s=s.sibling;else for(s=e.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags,n|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=n,e.childLanes=r,t}function zb(e,t,r){var n=t.pendingProps;switch(yd(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return De(t),null;case 1:return it(t.type)&&ua(),De(t),null;case 3:return n=t.stateNode,ws(),ce(st),ce(ze),kd(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(bo(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Dt!==null&&(gu(Dt),Dt=null))),lu(e,t),De(t),null;case 5:_d(t);var s=yn(Oi.current);if(r=t.type,e!==null&&t.stateNode!=null)Ty(e,t,r,n,s),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!n){if(t.stateNode===null)throw Error(L(166));return De(t),null}if(e=yn(Gt.current),bo(t)){n=t.stateNode,r=t.type;var o=t.memoizedProps;switch(n[Ht]=t,n[Ii]=o,e=(t.mode&1)!==0,r){case"dialog":le("cancel",n),le("close",n);break;case"iframe":case"object":case"embed":le("load",n);break;case"video":case"audio":for(s=0;s<ni.length;s++)le(ni[s],n);break;case"source":le("error",n);break;case"img":case"image":case"link":le("error",n),le("load",n);break;case"details":le("toggle",n);break;case"input":Dh(n,o),le("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!o.multiple},le("invalid",n);break;case"textarea":Uh(n,o),le("invalid",n)}Lc(r,o),s=null;for(var a in o)if(o.hasOwnProperty(a)){var l=o[a];a==="children"?typeof l=="string"?n.textContent!==l&&(o.suppressHydrationWarning!==!0&&wo(n.textContent,l,e),s=["children",l]):typeof l=="number"&&n.textContent!==""+l&&(o.suppressHydrationWarning!==!0&&wo(n.textContent,l,e),s=["children",""+l]):ji.hasOwnProperty(a)&&l!=null&&a==="onScroll"&&le("scroll",n)}switch(r){case"input":ho(n),Mh(n,o,!0);break;case"textarea":ho(n),Fh(n);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(n.onclick=ca)}n=s,t.updateQueue=n,n!==null&&(t.flags|=4)}else{a=s.nodeType===9?s:s.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=ig(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=a.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof n.is=="string"?e=a.createElement(r,{is:n.is}):(e=a.createElement(r),r==="select"&&(a=e,n.multiple?a.multiple=!0:n.size&&(a.size=n.size))):e=a.createElementNS(e,r),e[Ht]=t,e[Ii]=n,Ey(e,t,!1,!1),t.stateNode=e;e:{switch(a=Dc(r,n),r){case"dialog":le("cancel",e),le("close",e),s=n;break;case"iframe":case"object":case"embed":le("load",e),s=n;break;case"video":case"audio":for(s=0;s<ni.length;s++)le(ni[s],e);s=n;break;case"source":le("error",e),s=n;break;case"img":case"image":case"link":le("error",e),le("load",e),s=n;break;case"details":le("toggle",e),s=n;break;case"input":Dh(e,n),s=Tc(e,n),le("invalid",e);break;case"option":s=n;break;case"select":e._wrapperState={wasMultiple:!!n.multiple},s=pe({},n,{value:void 0}),le("invalid",e);break;case"textarea":Uh(e,n),s=Rc(e,n),le("invalid",e);break;default:s=n}Lc(r,s),l=s;for(o in l)if(l.hasOwnProperty(o)){var c=l[o];o==="style"?lg(e,c):o==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&og(e,c)):o==="children"?typeof c=="string"?(r!=="textarea"||c!=="")&&Ni(e,c):typeof c=="number"&&Ni(e,""+c):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(ji.hasOwnProperty(o)?c!=null&&o==="onScroll"&&le("scroll",e):c!=null&&rd(e,o,c,a))}switch(r){case"input":ho(e),Mh(e,n,!1);break;case"textarea":ho(e),Fh(e);break;case"option":n.value!=null&&e.setAttribute("value",""+Gr(n.value));break;case"select":e.multiple=!!n.multiple,o=n.value,o!=null?os(e,!!n.multiple,o,!1):n.defaultValue!=null&&os(e,!!n.multiple,n.defaultValue,!0);break;default:typeof s.onClick=="function"&&(e.onclick=ca)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return De(t),null;case 6:if(e&&t.stateNode!=null)Ay(e,t,e.memoizedProps,n);else{if(typeof n!="string"&&t.stateNode===null)throw Error(L(166));if(r=yn(Oi.current),yn(Gt.current),bo(t)){if(n=t.stateNode,r=t.memoizedProps,n[Ht]=t,(o=n.nodeValue!==r)&&(e=ft,e!==null))switch(e.tag){case 3:wo(n.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&wo(n.nodeValue,r,(e.mode&1)!==0)}o&&(t.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[Ht]=t,t.stateNode=n}return De(t),null;case 13:if(ce(de),n=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(ue&&ht!==null&&t.mode&1&&!(t.flags&128))Yg(),xs(),t.flags|=98560,o=!1;else if(o=bo(t),n!==null&&n.dehydrated!==null){if(e===null){if(!o)throw Error(L(318));if(o=t.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(L(317));o[Ht]=t}else xs(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;De(t),o=!1}else Dt!==null&&(gu(Dt),Dt=null),o=!0;if(!o)return t.flags&65536?t:null}return t.flags&128?(t.lanes=r,t):(n=n!==null,n!==(e!==null&&e.memoizedState!==null)&&n&&(t.child.flags|=8192,t.mode&1&&(e===null||de.current&1?ke===0&&(ke=3):Ud())),t.updateQueue!==null&&(t.flags|=4),De(t),null);case 4:return ws(),lu(e,t),e===null&&Ti(t.stateNode.containerInfo),De(t),null;case 10:return bd(t.type._context),De(t),null;case 17:return it(t.type)&&ua(),De(t),null;case 19:if(ce(de),o=t.memoizedState,o===null)return De(t),null;if(n=(t.flags&128)!==0,a=o.rendering,a===null)if(n)Ws(o,!1);else{if(ke!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(a=ya(e),a!==null){for(t.flags|=128,Ws(o,!1),n=a.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),t.subtreeFlags=0,n=r,r=t.child;r!==null;)o=r,e=n,o.flags&=14680066,a=o.alternate,a===null?(o.childLanes=0,o.lanes=e,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=a.childLanes,o.lanes=a.lanes,o.child=a.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=a.memoizedProps,o.memoizedState=a.memoizedState,o.updateQueue=a.updateQueue,o.type=a.type,e=a.dependencies,o.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return oe(de,de.current&1|2),t.child}e=e.sibling}o.tail!==null&&ve()>js&&(t.flags|=128,n=!0,Ws(o,!1),t.lanes=4194304)}else{if(!n)if(e=ya(a),e!==null){if(t.flags|=128,n=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),Ws(o,!0),o.tail===null&&o.tailMode==="hidden"&&!a.alternate&&!ue)return De(t),null}else 2*ve()-o.renderingStartTime>js&&r!==1073741824&&(t.flags|=128,n=!0,Ws(o,!1),t.lanes=4194304);o.isBackwards?(a.sibling=t.child,t.child=a):(r=o.last,r!==null?r.sibling=a:t.child=a,o.last=a)}return o.tail!==null?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=ve(),t.sibling=null,r=de.current,oe(de,n?r&1|2:r&1),t):(De(t),null);case 22:case 23:return Md(),n=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==n&&(t.flags|=8192),n&&t.mode&1?dt&1073741824&&(De(t),t.subtreeFlags&6&&(t.flags|=8192)):De(t),null;case 24:return null;case 25:return null}throw Error(L(156,t.tag))}function qb(e,t){switch(yd(t),t.tag){case 1:return it(t.type)&&ua(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return ws(),ce(st),ce(ze),kd(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return _d(t),null;case 13:if(ce(de),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(L(340));xs()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return ce(de),null;case 4:return ws(),null;case 10:return bd(t.type._context),null;case 22:case 23:return Md(),null;case 24:return null;default:return null}}var So=!1,Fe=!1,Wb=typeof WeakSet=="function"?WeakSet:Set,W=null;function es(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){ge(e,t,n)}else r.current=null}function cu(e,t,r){try{r()}catch(n){ge(e,t,n)}}var Ef=!1;function Hb(e,t){if(Hc=oa,e=Dg(),pd(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var s=n.anchorOffset,o=n.focusNode;n=n.focusOffset;try{r.nodeType,o.nodeType}catch{r=null;break e}var a=0,l=-1,c=-1,u=0,d=0,h=e,f=null;t:for(;;){for(var p;h!==r||s!==0&&h.nodeType!==3||(l=a+s),h!==o||n!==0&&h.nodeType!==3||(c=a+n),h.nodeType===3&&(a+=h.nodeValue.length),(p=h.firstChild)!==null;)f=h,h=p;for(;;){if(h===e)break t;if(f===r&&++u===s&&(l=a),f===o&&++d===n&&(c=a),(p=h.nextSibling)!==null)break;h=f,f=h.parentNode}h=p}r=l===-1||c===-1?null:{start:l,end:c}}else r=null}r=r||{start:0,end:0}}else r=null;for(Kc={focusedElem:e,selectionRange:r},oa=!1,W=t;W!==null;)if(t=W,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,W=e;else for(;W!==null;){t=W;try{var v=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(v!==null){var b=v.memoizedProps,w=v.memoizedState,g=t.stateNode,y=g.getSnapshotBeforeUpdate(t.elementType===t.type?b:Rt(t.type,b),w);g.__reactInternalSnapshotBeforeUpdate=y}break;case 3:var m=t.stateNode.containerInfo;m.nodeType===1?m.textContent="":m.nodeType===9&&m.documentElement&&m.removeChild(m.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(L(163))}}catch(j){ge(t,t.return,j)}if(e=t.sibling,e!==null){e.return=t.return,W=e;break}W=t.return}return v=Ef,Ef=!1,v}function fi(e,t,r){var n=t.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var s=n=n.next;do{if((s.tag&e)===e){var o=s.destroy;s.destroy=void 0,o!==void 0&&cu(t,r,o)}s=s.next}while(s!==n)}}function Ja(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var n=r.create;r.destroy=n()}r=r.next}while(r!==t)}}function uu(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function Iy(e){var t=e.alternate;t!==null&&(e.alternate=null,Iy(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Ht],delete t[Ii],delete t[Jc],delete t[Cb],delete t[Eb])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Ry(e){return e.tag===5||e.tag===3||e.tag===4}function Tf(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Ry(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function du(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=ca));else if(n!==4&&(e=e.child,e!==null))for(du(e,t,r),e=e.sibling;e!==null;)du(e,t,r),e=e.sibling}function hu(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(n!==4&&(e=e.child,e!==null))for(hu(e,t,r),e=e.sibling;e!==null;)hu(e,t,r),e=e.sibling}var Te=null,Ot=!1;function yr(e,t,r){for(r=r.child;r!==null;)Oy(e,t,r),r=r.sibling}function Oy(e,t,r){if(Kt&&typeof Kt.onCommitFiberUnmount=="function")try{Kt.onCommitFiberUnmount(Ba,r)}catch{}switch(r.tag){case 5:Fe||es(r,t);case 6:var n=Te,s=Ot;Te=null,yr(e,t,r),Te=n,Ot=s,Te!==null&&(Ot?(e=Te,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):Te.removeChild(r.stateNode));break;case 18:Te!==null&&(Ot?(e=Te,r=r.stateNode,e.nodeType===8?Ul(e.parentNode,r):e.nodeType===1&&Ul(e,r),Pi(e)):Ul(Te,r.stateNode));break;case 4:n=Te,s=Ot,Te=r.stateNode.containerInfo,Ot=!0,yr(e,t,r),Te=n,Ot=s;break;case 0:case 11:case 14:case 15:if(!Fe&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){s=n=n.next;do{var o=s,a=o.destroy;o=o.tag,a!==void 0&&(o&2||o&4)&&cu(r,t,a),s=s.next}while(s!==n)}yr(e,t,r);break;case 1:if(!Fe&&(es(r,t),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(l){ge(r,t,l)}yr(e,t,r);break;case 21:yr(e,t,r);break;case 22:r.mode&1?(Fe=(n=Fe)||r.memoizedState!==null,yr(e,t,r),Fe=n):yr(e,t,r);break;default:yr(e,t,r)}}function Af(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new Wb),t.forEach(function(n){var s=tj.bind(null,e,n);r.has(n)||(r.add(n),n.then(s,s))})}}function At(e,t){var r=t.deletions;if(r!==null)for(var n=0;n<r.length;n++){var s=r[n];try{var o=e,a=t,l=a;e:for(;l!==null;){switch(l.tag){case 5:Te=l.stateNode,Ot=!1;break e;case 3:Te=l.stateNode.containerInfo,Ot=!0;break e;case 4:Te=l.stateNode.containerInfo,Ot=!0;break e}l=l.return}if(Te===null)throw Error(L(160));Oy(o,a,s),Te=null,Ot=!1;var c=s.alternate;c!==null&&(c.return=null),s.return=null}catch(u){ge(s,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)Ly(t,e),t=t.sibling}function Ly(e,t){var r=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(At(t,e),qt(e),n&4){try{fi(3,e,e.return),Ja(3,e)}catch(b){ge(e,e.return,b)}try{fi(5,e,e.return)}catch(b){ge(e,e.return,b)}}break;case 1:At(t,e),qt(e),n&512&&r!==null&&es(r,r.return);break;case 5:if(At(t,e),qt(e),n&512&&r!==null&&es(r,r.return),e.flags&32){var s=e.stateNode;try{Ni(s,"")}catch(b){ge(e,e.return,b)}}if(n&4&&(s=e.stateNode,s!=null)){var o=e.memoizedProps,a=r!==null?r.memoizedProps:o,l=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{l==="input"&&o.type==="radio"&&o.name!=null&&ng(s,o),Dc(l,a);var u=Dc(l,o);for(a=0;a<c.length;a+=2){var d=c[a],h=c[a+1];d==="style"?lg(s,h):d==="dangerouslySetInnerHTML"?og(s,h):d==="children"?Ni(s,h):rd(s,d,h,u)}switch(l){case"input":Ac(s,o);break;case"textarea":sg(s,o);break;case"select":var f=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!o.multiple;var p=o.value;p!=null?os(s,!!o.multiple,p,!1):f!==!!o.multiple&&(o.defaultValue!=null?os(s,!!o.multiple,o.defaultValue,!0):os(s,!!o.multiple,o.multiple?[]:"",!1))}s[Ii]=o}catch(b){ge(e,e.return,b)}}break;case 6:if(At(t,e),qt(e),n&4){if(e.stateNode===null)throw Error(L(162));s=e.stateNode,o=e.memoizedProps;try{s.nodeValue=o}catch(b){ge(e,e.return,b)}}break;case 3:if(At(t,e),qt(e),n&4&&r!==null&&r.memoizedState.isDehydrated)try{Pi(t.containerInfo)}catch(b){ge(e,e.return,b)}break;case 4:At(t,e),qt(e);break;case 13:At(t,e),qt(e),s=e.child,s.flags&8192&&(o=s.memoizedState!==null,s.stateNode.isHidden=o,!o||s.alternate!==null&&s.alternate.memoizedState!==null||(Ld=ve())),n&4&&Af(e);break;case 22:if(d=r!==null&&r.memoizedState!==null,e.mode&1?(Fe=(u=Fe)||d,At(t,e),Fe=u):At(t,e),qt(e),n&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!d&&e.mode&1)for(W=e,d=e.child;d!==null;){for(h=W=d;W!==null;){switch(f=W,p=f.child,f.tag){case 0:case 11:case 14:case 15:fi(4,f,f.return);break;case 1:es(f,f.return);var v=f.stateNode;if(typeof v.componentWillUnmount=="function"){n=f,r=f.return;try{t=n,v.props=t.memoizedProps,v.state=t.memoizedState,v.componentWillUnmount()}catch(b){ge(n,r,b)}}break;case 5:es(f,f.return);break;case 22:if(f.memoizedState!==null){Rf(h);continue}}p!==null?(p.return=f,W=p):Rf(h)}d=d.sibling}e:for(d=null,h=e;;){if(h.tag===5){if(d===null){d=h;try{s=h.stateNode,u?(o=s.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(l=h.stateNode,c=h.memoizedProps.style,a=c!=null&&c.hasOwnProperty("display")?c.display:null,l.style.display=ag("display",a))}catch(b){ge(e,e.return,b)}}}else if(h.tag===6){if(d===null)try{h.stateNode.nodeValue=u?"":h.memoizedProps}catch(b){ge(e,e.return,b)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===e)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===e)break e;for(;h.sibling===null;){if(h.return===null||h.return===e)break e;d===h&&(d=null),h=h.return}d===h&&(d=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:At(t,e),qt(e),n&4&&Af(e);break;case 21:break;default:At(t,e),qt(e)}}function qt(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(Ry(r)){var n=r;break e}r=r.return}throw Error(L(160))}switch(n.tag){case 5:var s=n.stateNode;n.flags&32&&(Ni(s,""),n.flags&=-33);var o=Tf(e);hu(e,o,s);break;case 3:case 4:var a=n.stateNode.containerInfo,l=Tf(e);du(e,l,a);break;default:throw Error(L(161))}}catch(c){ge(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Kb(e,t,r){W=e,Dy(e)}function Dy(e,t,r){for(var n=(e.mode&1)!==0;W!==null;){var s=W,o=s.child;if(s.tag===22&&n){var a=s.memoizedState!==null||So;if(!a){var l=s.alternate,c=l!==null&&l.memoizedState!==null||Fe;l=So;var u=Fe;if(So=a,(Fe=c)&&!u)for(W=s;W!==null;)a=W,c=a.child,a.tag===22&&a.memoizedState!==null?Of(s):c!==null?(c.return=a,W=c):Of(s);for(;o!==null;)W=o,Dy(o),o=o.sibling;W=s,So=l,Fe=u}If(e)}else s.subtreeFlags&8772&&o!==null?(o.return=s,W=o):If(e)}}function If(e){for(;W!==null;){var t=W;if(t.flags&8772){var r=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Fe||Ja(5,t);break;case 1:var n=t.stateNode;if(t.flags&4&&!Fe)if(r===null)n.componentDidMount();else{var s=t.elementType===t.type?r.memoizedProps:Rt(t.type,r.memoizedProps);n.componentDidUpdate(s,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var o=t.updateQueue;o!==null&&gf(t,o,n);break;case 3:var a=t.updateQueue;if(a!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}gf(t,a,r)}break;case 5:var l=t.stateNode;if(r===null&&t.flags&4){r=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&r.focus();break;case"img":c.src&&(r.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var h=d.dehydrated;h!==null&&Pi(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(L(163))}Fe||t.flags&512&&uu(t)}catch(f){ge(t,t.return,f)}}if(t===e){W=null;break}if(r=t.sibling,r!==null){r.return=t.return,W=r;break}W=t.return}}function Rf(e){for(;W!==null;){var t=W;if(t===e){W=null;break}var r=t.sibling;if(r!==null){r.return=t.return,W=r;break}W=t.return}}function Of(e){for(;W!==null;){var t=W;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{Ja(4,t)}catch(c){ge(t,r,c)}break;case 1:var n=t.stateNode;if(typeof n.componentDidMount=="function"){var s=t.return;try{n.componentDidMount()}catch(c){ge(t,s,c)}}var o=t.return;try{uu(t)}catch(c){ge(t,o,c)}break;case 5:var a=t.return;try{uu(t)}catch(c){ge(t,a,c)}}}catch(c){ge(t,t.return,c)}if(t===e){W=null;break}var l=t.sibling;if(l!==null){l.return=t.return,W=l;break}W=t.return}}var Gb=Math.ceil,wa=mr.ReactCurrentDispatcher,Rd=mr.ReactCurrentOwner,_t=mr.ReactCurrentBatchConfig,te=0,Ee=null,Ne=null,Ie=0,dt=0,ts=Xr(0),ke=0,Ui=null,_n=0,Qa=0,Od=0,mi=null,tt=null,Ld=0,js=1/0,er=null,ba=!1,fu=null,Ur=null,_o=!1,Tr=null,ja=0,pi=0,mu=null,Ho=-1,Ko=0;function Ge(){return te&6?ve():Ho!==-1?Ho:Ho=ve()}function Fr(e){return e.mode&1?te&2&&Ie!==0?Ie&-Ie:Ab.transition!==null?(Ko===0&&(Ko=wg()),Ko):(e=ne,e!==0||(e=window.event,e=e===void 0?16:Pg(e.type)),e):1}function Ft(e,t,r,n){if(50<pi)throw pi=0,mu=null,Error(L(185));Gi(e,r,n),(!(te&2)||e!==Ee)&&(e===Ee&&(!(te&2)&&(Qa|=r),ke===4&&Pr(e,Ie)),ot(e,n),r===1&&te===0&&!(t.mode&1)&&(js=ve()+500,Ka&&en()))}function ot(e,t){var r=e.callbackNode;Aw(e,t);var n=ia(e,e===Ee?Ie:0);if(n===0)r!==null&&Bh(r),e.callbackNode=null,e.callbackPriority=0;else if(t=n&-n,e.callbackPriority!==t){if(r!=null&&Bh(r),t===1)e.tag===0?Tb(Lf.bind(null,e)):Hg(Lf.bind(null,e)),kb(function(){!(te&6)&&en()}),r=null;else{switch(bg(n)){case 1:r=ad;break;case 4:r=xg;break;case 16:r=sa;break;case 536870912:r=vg;break;default:r=sa}r=qy(r,My.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function My(e,t){if(Ho=-1,Ko=0,te&6)throw Error(L(327));var r=e.callbackNode;if(ds()&&e.callbackNode!==r)return null;var n=ia(e,e===Ee?Ie:0);if(n===0)return null;if(n&30||n&e.expiredLanes||t)t=Na(e,n);else{t=n;var s=te;te|=2;var o=Fy();(Ee!==e||Ie!==t)&&(er=null,js=ve()+500,wn(e,t));do try{Qb();break}catch(l){Uy(e,l)}while(1);wd(),wa.current=o,te=s,Ne!==null?t=0:(Ee=null,Ie=0,t=ke)}if(t!==0){if(t===2&&(s=Vc(e),s!==0&&(n=s,t=pu(e,s))),t===1)throw r=Ui,wn(e,0),Pr(e,n),ot(e,ve()),r;if(t===6)Pr(e,n);else{if(s=e.current.alternate,!(n&30)&&!Yb(s)&&(t=Na(e,n),t===2&&(o=Vc(e),o!==0&&(n=o,t=pu(e,o))),t===1))throw r=Ui,wn(e,0),Pr(e,n),ot(e,ve()),r;switch(e.finishedWork=s,e.finishedLanes=n,t){case 0:case 1:throw Error(L(345));case 2:cn(e,tt,er);break;case 3:if(Pr(e,n),(n&130023424)===n&&(t=Ld+500-ve(),10<t)){if(ia(e,0)!==0)break;if(s=e.suspendedLanes,(s&n)!==n){Ge(),e.pingedLanes|=e.suspendedLanes&s;break}e.timeoutHandle=Yc(cn.bind(null,e,tt,er),t);break}cn(e,tt,er);break;case 4:if(Pr(e,n),(n&4194240)===n)break;for(t=e.eventTimes,s=-1;0<n;){var a=31-Ut(n);o=1<<a,a=t[a],a>s&&(s=a),n&=~o}if(n=s,n=ve()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*Gb(n/1960))-n,10<n){e.timeoutHandle=Yc(cn.bind(null,e,tt,er),n);break}cn(e,tt,er);break;case 5:cn(e,tt,er);break;default:throw Error(L(329))}}}return ot(e,ve()),e.callbackNode===r?My.bind(null,e):null}function pu(e,t){var r=mi;return e.current.memoizedState.isDehydrated&&(wn(e,t).flags|=256),e=Na(e,t),e!==2&&(t=tt,tt=r,t!==null&&gu(t)),e}function gu(e){tt===null?tt=e:tt.push.apply(tt,e)}function Yb(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var s=r[n],o=s.getSnapshot;s=s.value;try{if(!Bt(o(),s))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Pr(e,t){for(t&=~Od,t&=~Qa,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-Ut(t),n=1<<r;e[r]=-1,t&=~n}}function Lf(e){if(te&6)throw Error(L(327));ds();var t=ia(e,0);if(!(t&1))return ot(e,ve()),null;var r=Na(e,t);if(e.tag!==0&&r===2){var n=Vc(e);n!==0&&(t=n,r=pu(e,n))}if(r===1)throw r=Ui,wn(e,0),Pr(e,t),ot(e,ve()),r;if(r===6)throw Error(L(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,cn(e,tt,er),ot(e,ve()),null}function Dd(e,t){var r=te;te|=1;try{return e(t)}finally{te=r,te===0&&(js=ve()+500,Ka&&en())}}function kn(e){Tr!==null&&Tr.tag===0&&!(te&6)&&ds();var t=te;te|=1;var r=_t.transition,n=ne;try{if(_t.transition=null,ne=1,e)return e()}finally{ne=n,_t.transition=r,te=t,!(te&6)&&en()}}function Md(){dt=ts.current,ce(ts)}function wn(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,_b(r)),Ne!==null)for(r=Ne.return;r!==null;){var n=r;switch(yd(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&ua();break;case 3:ws(),ce(st),ce(ze),kd();break;case 5:_d(n);break;case 4:ws();break;case 13:ce(de);break;case 19:ce(de);break;case 10:bd(n.type._context);break;case 22:case 23:Md()}r=r.return}if(Ee=e,Ne=e=$r(e.current,null),Ie=dt=t,ke=0,Ui=null,Od=Qa=_n=0,tt=mi=null,gn!==null){for(t=0;t<gn.length;t++)if(r=gn[t],n=r.interleaved,n!==null){r.interleaved=null;var s=n.next,o=r.pending;if(o!==null){var a=o.next;o.next=s,n.next=a}r.pending=n}gn=null}return e}function Uy(e,t){do{var r=Ne;try{if(wd(),zo.current=va,xa){for(var n=me.memoizedState;n!==null;){var s=n.queue;s!==null&&(s.pending=null),n=n.next}xa=!1}if(Sn=0,Ce=_e=me=null,hi=!1,Li=0,Rd.current=null,r===null||r.return===null){ke=1,Ui=t,Ne=null;break}e:{var o=e,a=r.return,l=r,c=t;if(t=Ie,l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var u=c,d=l,h=d.tag;if(!(d.mode&1)&&(h===0||h===11||h===15)){var f=d.alternate;f?(d.updateQueue=f.updateQueue,d.memoizedState=f.memoizedState,d.lanes=f.lanes):(d.updateQueue=null,d.memoizedState=null)}var p=jf(a);if(p!==null){p.flags&=-257,Nf(p,a,l,o,t),p.mode&1&&bf(o,u,t),t=p,c=u;var v=t.updateQueue;if(v===null){var b=new Set;b.add(c),t.updateQueue=b}else v.add(c);break e}else{if(!(t&1)){bf(o,u,t),Ud();break e}c=Error(L(426))}}else if(ue&&l.mode&1){var w=jf(a);if(w!==null){!(w.flags&65536)&&(w.flags|=256),Nf(w,a,l,o,t),xd(bs(c,l));break e}}o=c=bs(c,l),ke!==4&&(ke=2),mi===null?mi=[o]:mi.push(o),o=a;do{switch(o.tag){case 3:o.flags|=65536,t&=-t,o.lanes|=t;var g=by(o,c,t);pf(o,g);break e;case 1:l=c;var y=o.type,m=o.stateNode;if(!(o.flags&128)&&(typeof y.getDerivedStateFromError=="function"||m!==null&&typeof m.componentDidCatch=="function"&&(Ur===null||!Ur.has(m)))){o.flags|=65536,t&=-t,o.lanes|=t;var j=jy(o,l,t);pf(o,j);break e}}o=o.return}while(o!==null)}Vy(r)}catch(N){t=N,Ne===r&&r!==null&&(Ne=r=r.return);continue}break}while(1)}function Fy(){var e=wa.current;return wa.current=va,e===null?va:e}function Ud(){(ke===0||ke===3||ke===2)&&(ke=4),Ee===null||!(_n&268435455)&&!(Qa&268435455)||Pr(Ee,Ie)}function Na(e,t){var r=te;te|=2;var n=Fy();(Ee!==e||Ie!==t)&&(er=null,wn(e,t));do try{Jb();break}catch(s){Uy(e,s)}while(1);if(wd(),te=r,wa.current=n,Ne!==null)throw Error(L(261));return Ee=null,Ie=0,ke}function Jb(){for(;Ne!==null;)$y(Ne)}function Qb(){for(;Ne!==null&&!jw();)$y(Ne)}function $y(e){var t=zy(e.alternate,e,dt);e.memoizedProps=e.pendingProps,t===null?Vy(e):Ne=t,Rd.current=null}function Vy(e){var t=e;do{var r=t.alternate;if(e=t.return,t.flags&32768){if(r=qb(r,t),r!==null){r.flags&=32767,Ne=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{ke=6,Ne=null;return}}else if(r=zb(r,t,dt),r!==null){Ne=r;return}if(t=t.sibling,t!==null){Ne=t;return}Ne=t=e}while(t!==null);ke===0&&(ke=5)}function cn(e,t,r){var n=ne,s=_t.transition;try{_t.transition=null,ne=1,Zb(e,t,r,n)}finally{_t.transition=s,ne=n}return null}function Zb(e,t,r,n){do ds();while(Tr!==null);if(te&6)throw Error(L(327));r=e.finishedWork;var s=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(L(177));e.callbackNode=null,e.callbackPriority=0;var o=r.lanes|r.childLanes;if(Iw(e,o),e===Ee&&(Ne=Ee=null,Ie=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||_o||(_o=!0,qy(sa,function(){return ds(),null})),o=(r.flags&15990)!==0,r.subtreeFlags&15990||o){o=_t.transition,_t.transition=null;var a=ne;ne=1;var l=te;te|=4,Rd.current=null,Hb(e,r),Ly(r,e),xb(Kc),oa=!!Hc,Kc=Hc=null,e.current=r,Kb(r),Nw(),te=l,ne=a,_t.transition=o}else e.current=r;if(_o&&(_o=!1,Tr=e,ja=s),o=e.pendingLanes,o===0&&(Ur=null),kw(r.stateNode),ot(e,ve()),t!==null)for(n=e.onRecoverableError,r=0;r<t.length;r++)s=t[r],n(s.value,{componentStack:s.stack,digest:s.digest});if(ba)throw ba=!1,e=fu,fu=null,e;return ja&1&&e.tag!==0&&ds(),o=e.pendingLanes,o&1?e===mu?pi++:(pi=0,mu=e):pi=0,en(),null}function ds(){if(Tr!==null){var e=bg(ja),t=_t.transition,r=ne;try{if(_t.transition=null,ne=16>e?16:e,Tr===null)var n=!1;else{if(e=Tr,Tr=null,ja=0,te&6)throw Error(L(331));var s=te;for(te|=4,W=e.current;W!==null;){var o=W,a=o.child;if(W.flags&16){var l=o.deletions;if(l!==null){for(var c=0;c<l.length;c++){var u=l[c];for(W=u;W!==null;){var d=W;switch(d.tag){case 0:case 11:case 15:fi(8,d,o)}var h=d.child;if(h!==null)h.return=d,W=h;else for(;W!==null;){d=W;var f=d.sibling,p=d.return;if(Iy(d),d===u){W=null;break}if(f!==null){f.return=p,W=f;break}W=p}}}var v=o.alternate;if(v!==null){var b=v.child;if(b!==null){v.child=null;do{var w=b.sibling;b.sibling=null,b=w}while(b!==null)}}W=o}}if(o.subtreeFlags&2064&&a!==null)a.return=o,W=a;else e:for(;W!==null;){if(o=W,o.flags&2048)switch(o.tag){case 0:case 11:case 15:fi(9,o,o.return)}var g=o.sibling;if(g!==null){g.return=o.return,W=g;break e}W=o.return}}var y=e.current;for(W=y;W!==null;){a=W;var m=a.child;if(a.subtreeFlags&2064&&m!==null)m.return=a,W=m;else e:for(a=y;W!==null;){if(l=W,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:Ja(9,l)}}catch(N){ge(l,l.return,N)}if(l===a){W=null;break e}var j=l.sibling;if(j!==null){j.return=l.return,W=j;break e}W=l.return}}if(te=s,en(),Kt&&typeof Kt.onPostCommitFiberRoot=="function")try{Kt.onPostCommitFiberRoot(Ba,e)}catch{}n=!0}return n}finally{ne=r,_t.transition=t}}return!1}function Df(e,t,r){t=bs(r,t),t=by(e,t,1),e=Mr(e,t,1),t=Ge(),e!==null&&(Gi(e,1,t),ot(e,t))}function ge(e,t,r){if(e.tag===3)Df(e,e,r);else for(;t!==null;){if(t.tag===3){Df(t,e,r);break}else if(t.tag===1){var n=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(Ur===null||!Ur.has(n))){e=bs(r,e),e=jy(t,e,1),t=Mr(t,e,1),e=Ge(),t!==null&&(Gi(t,1,e),ot(t,e));break}}t=t.return}}function Xb(e,t,r){var n=e.pingCache;n!==null&&n.delete(t),t=Ge(),e.pingedLanes|=e.suspendedLanes&r,Ee===e&&(Ie&r)===r&&(ke===4||ke===3&&(Ie&130023424)===Ie&&500>ve()-Ld?wn(e,0):Od|=r),ot(e,t)}function By(e,t){t===0&&(e.mode&1?(t=po,po<<=1,!(po&130023424)&&(po=4194304)):t=1);var r=Ge();e=dr(e,t),e!==null&&(Gi(e,t,r),ot(e,r))}function ej(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),By(e,r)}function tj(e,t){var r=0;switch(e.tag){case 13:var n=e.stateNode,s=e.memoizedState;s!==null&&(r=s.retryLane);break;case 19:n=e.stateNode;break;default:throw Error(L(314))}n!==null&&n.delete(t),By(e,r)}var zy;zy=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||st.current)nt=!0;else{if(!(e.lanes&r)&&!(t.flags&128))return nt=!1,Bb(e,t,r);nt=!!(e.flags&131072)}else nt=!1,ue&&t.flags&1048576&&Kg(t,fa,t.index);switch(t.lanes=0,t.tag){case 2:var n=t.type;Wo(e,t),e=t.pendingProps;var s=ys(t,ze.current);us(t,r),s=Cd(null,t,n,e,s,r);var o=Ed();return t.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,it(n)?(o=!0,da(t)):o=!1,t.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,Nd(t),s.updater=Ya,t.stateNode=s,s._reactInternals=t,ru(t,n,e,r),t=iu(null,t,n,!0,o,r)):(t.tag=0,ue&&o&&gd(t),He(null,t,s,r),t=t.child),t;case 16:n=t.elementType;e:{switch(Wo(e,t),e=t.pendingProps,s=n._init,n=s(n._payload),t.type=n,s=t.tag=nj(n),e=Rt(n,e),s){case 0:t=su(null,t,n,e,r);break e;case 1:t=kf(null,t,n,e,r);break e;case 11:t=Sf(null,t,n,e,r);break e;case 14:t=_f(null,t,n,Rt(n.type,e),r);break e}throw Error(L(306,n,""))}return t;case 0:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:Rt(n,s),su(e,t,n,s,r);case 1:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:Rt(n,s),kf(e,t,n,s,r);case 3:e:{if(ky(t),e===null)throw Error(L(387));n=t.pendingProps,o=t.memoizedState,s=o.element,Xg(e,t),ga(t,n,null,r);var a=t.memoizedState;if(n=a.element,o.isDehydrated)if(o={element:n,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},t.updateQueue.baseState=o,t.memoizedState=o,t.flags&256){s=bs(Error(L(423)),t),t=Pf(e,t,n,r,s);break e}else if(n!==s){s=bs(Error(L(424)),t),t=Pf(e,t,n,r,s);break e}else for(ht=Dr(t.stateNode.containerInfo.firstChild),ft=t,ue=!0,Dt=null,r=Qg(t,null,n,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(xs(),n===s){t=hr(e,t,r);break e}He(e,t,n,r)}t=t.child}return t;case 5:return ey(t),e===null&&Xc(t),n=t.type,s=t.pendingProps,o=e!==null?e.memoizedProps:null,a=s.children,Gc(n,s)?a=null:o!==null&&Gc(n,o)&&(t.flags|=32),_y(e,t),He(e,t,a,r),t.child;case 6:return e===null&&Xc(t),null;case 13:return Py(e,t,r);case 4:return Sd(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=vs(t,null,n,r):He(e,t,n,r),t.child;case 11:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:Rt(n,s),Sf(e,t,n,s,r);case 7:return He(e,t,t.pendingProps,r),t.child;case 8:return He(e,t,t.pendingProps.children,r),t.child;case 12:return He(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(n=t.type._context,s=t.pendingProps,o=t.memoizedProps,a=s.value,oe(ma,n._currentValue),n._currentValue=a,o!==null)if(Bt(o.value,a)){if(o.children===s.children&&!st.current){t=hr(e,t,r);break e}}else for(o=t.child,o!==null&&(o.return=t);o!==null;){var l=o.dependencies;if(l!==null){a=o.child;for(var c=l.firstContext;c!==null;){if(c.context===n){if(o.tag===1){c=or(-1,r&-r),c.tag=2;var u=o.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?c.next=c:(c.next=d.next,d.next=c),u.pending=c}}o.lanes|=r,c=o.alternate,c!==null&&(c.lanes|=r),eu(o.return,r,t),l.lanes|=r;break}c=c.next}}else if(o.tag===10)a=o.type===t.type?null:o.child;else if(o.tag===18){if(a=o.return,a===null)throw Error(L(341));a.lanes|=r,l=a.alternate,l!==null&&(l.lanes|=r),eu(a,r,t),a=o.sibling}else a=o.child;if(a!==null)a.return=o;else for(a=o;a!==null;){if(a===t){a=null;break}if(o=a.sibling,o!==null){o.return=a.return,a=o;break}a=a.return}o=a}He(e,t,s.children,r),t=t.child}return t;case 9:return s=t.type,n=t.pendingProps.children,us(t,r),s=Ct(s),n=n(s),t.flags|=1,He(e,t,n,r),t.child;case 14:return n=t.type,s=Rt(n,t.pendingProps),s=Rt(n.type,s),_f(e,t,n,s,r);case 15:return Ny(e,t,t.type,t.pendingProps,r);case 17:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:Rt(n,s),Wo(e,t),t.tag=1,it(n)?(e=!0,da(t)):e=!1,us(t,r),wy(t,n,s),ru(t,n,s,r),iu(null,t,n,!0,e,r);case 19:return Cy(e,t,r);case 22:return Sy(e,t,r)}throw Error(L(156,t.tag))};function qy(e,t){return yg(e,t)}function rj(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function St(e,t,r,n){return new rj(e,t,r,n)}function Fd(e){return e=e.prototype,!(!e||!e.isReactComponent)}function nj(e){if(typeof e=="function")return Fd(e)?1:0;if(e!=null){if(e=e.$$typeof,e===sd)return 11;if(e===id)return 14}return 2}function $r(e,t){var r=e.alternate;return r===null?(r=St(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function Go(e,t,r,n,s,o){var a=2;if(n=e,typeof e=="function")Fd(e)&&(a=1);else if(typeof e=="string")a=5;else e:switch(e){case Wn:return bn(r.children,s,o,t);case nd:a=8,s|=8;break;case kc:return e=St(12,r,t,s|2),e.elementType=kc,e.lanes=o,e;case Pc:return e=St(13,r,t,s),e.elementType=Pc,e.lanes=o,e;case Cc:return e=St(19,r,t,s),e.elementType=Cc,e.lanes=o,e;case eg:return Za(r,s,o,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Zp:a=10;break e;case Xp:a=9;break e;case sd:a=11;break e;case id:a=14;break e;case jr:a=16,n=null;break e}throw Error(L(130,e==null?e:typeof e,""))}return t=St(a,r,t,s),t.elementType=e,t.type=n,t.lanes=o,t}function bn(e,t,r,n){return e=St(7,e,n,t),e.lanes=r,e}function Za(e,t,r,n){return e=St(22,e,n,t),e.elementType=eg,e.lanes=r,e.stateNode={isHidden:!1},e}function Hl(e,t,r){return e=St(6,e,null,t),e.lanes=r,e}function Kl(e,t,r){return t=St(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function sj(e,t,r,n,s){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Pl(0),this.expirationTimes=Pl(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Pl(0),this.identifierPrefix=n,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function $d(e,t,r,n,s,o,a,l,c){return e=new sj(e,t,r,l,c),t===1?(t=1,o===!0&&(t|=8)):t=0,o=St(3,null,null,t),e.current=o,o.stateNode=e,o.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},Nd(o),e}function ij(e,t,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:qn,key:n==null?null:""+n,children:e,containerInfo:t,implementation:r}}function Wy(e){if(!e)return Yr;e=e._reactInternals;e:{if(En(e)!==e||e.tag!==1)throw Error(L(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(it(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(L(171))}if(e.tag===1){var r=e.type;if(it(r))return Wg(e,r,t)}return t}function Hy(e,t,r,n,s,o,a,l,c){return e=$d(r,n,!0,e,s,o,a,l,c),e.context=Wy(null),r=e.current,n=Ge(),s=Fr(r),o=or(n,s),o.callback=t??null,Mr(r,o,s),e.current.lanes=s,Gi(e,s,n),ot(e,n),e}function Xa(e,t,r,n){var s=t.current,o=Ge(),a=Fr(s);return r=Wy(r),t.context===null?t.context=r:t.pendingContext=r,t=or(o,a),t.payload={element:e},n=n===void 0?null:n,n!==null&&(t.callback=n),e=Mr(s,t,a),e!==null&&(Ft(e,s,a,o),Bo(e,s,a)),a}function Sa(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Mf(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function Vd(e,t){Mf(e,t),(e=e.alternate)&&Mf(e,t)}function oj(){return null}var Ky=typeof reportError=="function"?reportError:function(e){console.error(e)};function Bd(e){this._internalRoot=e}el.prototype.render=Bd.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(L(409));Xa(e,t,null,null)};el.prototype.unmount=Bd.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;kn(function(){Xa(null,e,null,null)}),t[ur]=null}};function el(e){this._internalRoot=e}el.prototype.unstable_scheduleHydration=function(e){if(e){var t=Sg();e={blockedOn:null,target:e,priority:t};for(var r=0;r<kr.length&&t!==0&&t<kr[r].priority;r++);kr.splice(r,0,e),r===0&&kg(e)}};function zd(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function tl(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Uf(){}function aj(e,t,r,n,s){if(s){if(typeof n=="function"){var o=n;n=function(){var u=Sa(a);o.call(u)}}var a=Hy(t,n,e,0,null,!1,!1,"",Uf);return e._reactRootContainer=a,e[ur]=a.current,Ti(e.nodeType===8?e.parentNode:e),kn(),a}for(;s=e.lastChild;)e.removeChild(s);if(typeof n=="function"){var l=n;n=function(){var u=Sa(c);l.call(u)}}var c=$d(e,0,!1,null,null,!1,!1,"",Uf);return e._reactRootContainer=c,e[ur]=c.current,Ti(e.nodeType===8?e.parentNode:e),kn(function(){Xa(t,c,r,n)}),c}function rl(e,t,r,n,s){var o=r._reactRootContainer;if(o){var a=o;if(typeof s=="function"){var l=s;s=function(){var c=Sa(a);l.call(c)}}Xa(t,a,e,s)}else a=aj(r,t,e,s,n);return Sa(a)}jg=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=ri(t.pendingLanes);r!==0&&(ld(t,r|1),ot(t,ve()),!(te&6)&&(js=ve()+500,en()))}break;case 13:kn(function(){var n=dr(e,1);if(n!==null){var s=Ge();Ft(n,e,1,s)}}),Vd(e,1)}};cd=function(e){if(e.tag===13){var t=dr(e,134217728);if(t!==null){var r=Ge();Ft(t,e,134217728,r)}Vd(e,134217728)}};Ng=function(e){if(e.tag===13){var t=Fr(e),r=dr(e,t);if(r!==null){var n=Ge();Ft(r,e,t,n)}Vd(e,t)}};Sg=function(){return ne};_g=function(e,t){var r=ne;try{return ne=e,t()}finally{ne=r}};Uc=function(e,t,r){switch(t){case"input":if(Ac(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var s=Ha(n);if(!s)throw Error(L(90));rg(n),Ac(n,s)}}}break;case"textarea":sg(e,r);break;case"select":t=r.value,t!=null&&os(e,!!r.multiple,t,!1)}};dg=Dd;hg=kn;var lj={usingClientEntryPoint:!1,Events:[Ji,Yn,Ha,cg,ug,Dd]},Hs={findFiberByHostInstance:pn,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},cj={bundleType:Hs.bundleType,version:Hs.version,rendererPackageName:Hs.rendererPackageName,rendererConfig:Hs.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:mr.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=pg(e),e===null?null:e.stateNode},findFiberByHostInstance:Hs.findFiberByHostInstance||oj,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ko=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ko.isDisabled&&ko.supportsFiber)try{Ba=ko.inject(cj),Kt=ko}catch{}}gt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=lj;gt.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!zd(t))throw Error(L(200));return ij(e,t,null,r)};gt.createRoot=function(e,t){if(!zd(e))throw Error(L(299));var r=!1,n="",s=Ky;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(n=t.identifierPrefix),t.onRecoverableError!==void 0&&(s=t.onRecoverableError)),t=$d(e,1,!1,null,null,r,!1,n,s),e[ur]=t.current,Ti(e.nodeType===8?e.parentNode:e),new Bd(t)};gt.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(L(188)):(e=Object.keys(e).join(","),Error(L(268,e)));return e=pg(t),e=e===null?null:e.stateNode,e};gt.flushSync=function(e){return kn(e)};gt.hydrate=function(e,t,r){if(!tl(t))throw Error(L(200));return rl(null,e,t,!0,r)};gt.hydrateRoot=function(e,t,r){if(!zd(e))throw Error(L(405));var n=r!=null&&r.hydratedSources||null,s=!1,o="",a=Ky;if(r!=null&&(r.unstable_strictMode===!0&&(s=!0),r.identifierPrefix!==void 0&&(o=r.identifierPrefix),r.onRecoverableError!==void 0&&(a=r.onRecoverableError)),t=Hy(t,null,e,1,r??null,s,!1,o,a),e[ur]=t.current,Ti(e),n)for(e=0;e<n.length;e++)r=n[e],s=r._getVersion,s=s(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,s]:t.mutableSourceEagerHydrationData.push(r,s);return new el(t)};gt.render=function(e,t,r){if(!tl(t))throw Error(L(200));return rl(null,e,t,!1,r)};gt.unmountComponentAtNode=function(e){if(!tl(e))throw Error(L(40));return e._reactRootContainer?(kn(function(){rl(null,null,e,!1,function(){e._reactRootContainer=null,e[ur]=null})}),!0):!1};gt.unstable_batchedUpdates=Dd;gt.unstable_renderSubtreeIntoContainer=function(e,t,r,n){if(!tl(r))throw Error(L(200));if(e==null||e._reactInternals===void 0)throw Error(L(38));return rl(e,t,r,!1,n)};gt.version="18.3.1-next-f1338f8080-20240426";function Gy(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Gy)}catch(e){console.error(e)}}Gy(),Gp.exports=gt;var uj=Gp.exports,Ff=uj;Sc.createRoot=Ff.createRoot,Sc.hydrateRoot=Ff.hydrateRoot;/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Fi(){return Fi=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Fi.apply(this,arguments)}var Ar;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(Ar||(Ar={}));const $f="popstate";function dj(e){e===void 0&&(e={});function t(n,s){let{pathname:o,search:a,hash:l}=n.location;return yu("",{pathname:o,search:a,hash:l},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function r(n,s){return typeof s=="string"?s:_a(s)}return fj(t,r,null,e)}function we(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function Yy(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function hj(){return Math.random().toString(36).substr(2,8)}function Vf(e,t){return{usr:e.state,key:e.key,idx:t}}function yu(e,t,r,n){return r===void 0&&(r=null),Fi({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?Rs(t):t,{state:r,key:t&&t.key||n||hj()})}function _a(e){let{pathname:t="/",search:r="",hash:n=""}=e;return r&&r!=="?"&&(t+=r.charAt(0)==="?"?r:"?"+r),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function Rs(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substr(r),e=e.substr(0,r));let n=e.indexOf("?");n>=0&&(t.search=e.substr(n),e=e.substr(0,n)),e&&(t.pathname=e)}return t}function fj(e,t,r,n){n===void 0&&(n={});let{window:s=document.defaultView,v5Compat:o=!1}=n,a=s.history,l=Ar.Pop,c=null,u=d();u==null&&(u=0,a.replaceState(Fi({},a.state,{idx:u}),""));function d(){return(a.state||{idx:null}).idx}function h(){l=Ar.Pop;let w=d(),g=w==null?null:w-u;u=w,c&&c({action:l,location:b.location,delta:g})}function f(w,g){l=Ar.Push;let y=yu(b.location,w,g);r&&r(y,w),u=d()+1;let m=Vf(y,u),j=b.createHref(y);try{a.pushState(m,"",j)}catch(N){if(N instanceof DOMException&&N.name==="DataCloneError")throw N;s.location.assign(j)}o&&c&&c({action:l,location:b.location,delta:1})}function p(w,g){l=Ar.Replace;let y=yu(b.location,w,g);r&&r(y,w),u=d();let m=Vf(y,u),j=b.createHref(y);a.replaceState(m,"",j),o&&c&&c({action:l,location:b.location,delta:0})}function v(w){let g=s.location.origin!=="null"?s.location.origin:s.location.href,y=typeof w=="string"?w:_a(w);return y=y.replace(/ $/,"%20"),we(g,"No window.location.(origin|href) available to create URL for href: "+y),new URL(y,g)}let b={get action(){return l},get location(){return e(s,a)},listen(w){if(c)throw new Error("A history only accepts one active listener");return s.addEventListener($f,h),c=w,()=>{s.removeEventListener($f,h),c=null}},createHref(w){return t(s,w)},createURL:v,encodeLocation(w){let g=v(w);return{pathname:g.pathname,search:g.search,hash:g.hash}},push:f,replace:p,go(w){return a.go(w)}};return b}var Bf;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(Bf||(Bf={}));function mj(e,t,r){return r===void 0&&(r="/"),pj(e,t,r,!1)}function pj(e,t,r,n){let s=typeof t=="string"?Rs(t):t,o=qd(s.pathname||"/",r);if(o==null)return null;let a=Jy(e);gj(a);let l=null;for(let c=0;l==null&&c<a.length;++c){let u=Pj(o);l=_j(a[c],u,n)}return l}function Jy(e,t,r,n){t===void 0&&(t=[]),r===void 0&&(r=[]),n===void 0&&(n="");let s=(o,a,l)=>{let c={relativePath:l===void 0?o.path||"":l,caseSensitive:o.caseSensitive===!0,childrenIndex:a,route:o};c.relativePath.startsWith("/")&&(we(c.relativePath.startsWith(n),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(n.length));let u=Vr([n,c.relativePath]),d=r.concat(c);o.children&&o.children.length>0&&(we(o.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),Jy(o.children,t,d,u)),!(o.path==null&&!o.index)&&t.push({path:u,score:Nj(u,o.index),routesMeta:d})};return e.forEach((o,a)=>{var l;if(o.path===""||!((l=o.path)!=null&&l.includes("?")))s(o,a);else for(let c of Qy(o.path))s(o,a,c)}),t}function Qy(e){let t=e.split("/");if(t.length===0)return[];let[r,...n]=t,s=r.endsWith("?"),o=r.replace(/\?$/,"");if(n.length===0)return s?[o,""]:[o];let a=Qy(n.join("/")),l=[];return l.push(...a.map(c=>c===""?o:[o,c].join("/"))),s&&l.push(...a),l.map(c=>e.startsWith("/")&&c===""?"/":c)}function gj(e){e.sort((t,r)=>t.score!==r.score?r.score-t.score:Sj(t.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}const yj=/^:[\w-]+$/,xj=3,vj=2,wj=1,bj=10,jj=-2,zf=e=>e==="*";function Nj(e,t){let r=e.split("/"),n=r.length;return r.some(zf)&&(n+=jj),t&&(n+=vj),r.filter(s=>!zf(s)).reduce((s,o)=>s+(yj.test(o)?xj:o===""?wj:bj),n)}function Sj(e,t){return e.length===t.length&&e.slice(0,-1).every((n,s)=>n===t[s])?e[e.length-1]-t[t.length-1]:0}function _j(e,t,r){r===void 0&&(r=!1);let{routesMeta:n}=e,s={},o="/",a=[];for(let l=0;l<n.length;++l){let c=n[l],u=l===n.length-1,d=o==="/"?t:t.slice(o.length)||"/",h=qf({path:c.relativePath,caseSensitive:c.caseSensitive,end:u},d),f=c.route;if(!h&&u&&r&&!n[n.length-1].route.index&&(h=qf({path:c.relativePath,caseSensitive:c.caseSensitive,end:!1},d)),!h)return null;Object.assign(s,h.params),a.push({params:s,pathname:Vr([o,h.pathname]),pathnameBase:Aj(Vr([o,h.pathnameBase])),route:f}),h.pathnameBase!=="/"&&(o=Vr([o,h.pathnameBase]))}return a}function qf(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,n]=kj(e.path,e.caseSensitive,e.end),s=t.match(r);if(!s)return null;let o=s[0],a=o.replace(/(.)\/+$/,"$1"),l=s.slice(1);return{params:n.reduce((u,d,h)=>{let{paramName:f,isOptional:p}=d;if(f==="*"){let b=l[h]||"";a=o.slice(0,o.length-b.length).replace(/(.)\/+$/,"$1")}const v=l[h];return p&&!v?u[f]=void 0:u[f]=(v||"").replace(/%2F/g,"/"),u},{}),pathname:o,pathnameBase:a,pattern:e}}function kj(e,t,r){t===void 0&&(t=!1),r===void 0&&(r=!0),Yy(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let n=[],s="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(a,l,c)=>(n.push({paramName:l,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(n.push({paramName:"*"}),s+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?s+="\\/*$":e!==""&&e!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,t?void 0:"i"),n]}function Pj(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return Yy(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function qd(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,n=e.charAt(r);return n&&n!=="/"?null:e.slice(r)||"/"}function Cj(e,t){t===void 0&&(t="/");let{pathname:r,search:n="",hash:s=""}=typeof e=="string"?Rs(e):e;return{pathname:r?r.startsWith("/")?r:Ej(r,t):t,search:Ij(n),hash:Rj(s)}}function Ej(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(s=>{s===".."?r.length>1&&r.pop():s!=="."&&r.push(s)}),r.length>1?r.join("/"):"/"}function Gl(e,t,r,n){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function Tj(e){return e.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function Wd(e,t){let r=Tj(e);return t?r.map((n,s)=>s===r.length-1?n.pathname:n.pathnameBase):r.map(n=>n.pathnameBase)}function Hd(e,t,r,n){n===void 0&&(n=!1);let s;typeof e=="string"?s=Rs(e):(s=Fi({},e),we(!s.pathname||!s.pathname.includes("?"),Gl("?","pathname","search",s)),we(!s.pathname||!s.pathname.includes("#"),Gl("#","pathname","hash",s)),we(!s.search||!s.search.includes("#"),Gl("#","search","hash",s)));let o=e===""||s.pathname==="",a=o?"/":s.pathname,l;if(a==null)l=r;else{let h=t.length-1;if(!n&&a.startsWith("..")){let f=a.split("/");for(;f[0]==="..";)f.shift(),h-=1;s.pathname=f.join("/")}l=h>=0?t[h]:"/"}let c=Cj(s,l),u=a&&a!=="/"&&a.endsWith("/"),d=(o||a===".")&&r.endsWith("/");return!c.pathname.endsWith("/")&&(u||d)&&(c.pathname+="/"),c}const Vr=e=>e.join("/").replace(/\/\/+/g,"/"),Aj=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),Ij=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,Rj=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function Oj(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const Zy=["post","put","patch","delete"];new Set(Zy);const Lj=["get",...Zy];new Set(Lj);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function $i(){return $i=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},$i.apply(this,arguments)}const Kd=x.createContext(null),Dj=x.createContext(null),tn=x.createContext(null),nl=x.createContext(null),pr=x.createContext({outlet:null,matches:[],isDataRoute:!1}),Xy=x.createContext(null);function Mj(e,t){let{relative:r}=t===void 0?{}:t;Os()||we(!1);let{basename:n,navigator:s}=x.useContext(tn),{hash:o,pathname:a,search:l}=tx(e,{relative:r}),c=a;return n!=="/"&&(c=a==="/"?n:Vr([n,a])),s.createHref({pathname:c,search:l,hash:o})}function Os(){return x.useContext(nl)!=null}function Tt(){return Os()||we(!1),x.useContext(nl).location}function ex(e){x.useContext(tn).static||x.useLayoutEffect(e)}function Ze(){let{isDataRoute:e}=x.useContext(pr);return e?Qj():Uj()}function Uj(){Os()||we(!1);let e=x.useContext(Kd),{basename:t,future:r,navigator:n}=x.useContext(tn),{matches:s}=x.useContext(pr),{pathname:o}=Tt(),a=JSON.stringify(Wd(s,r.v7_relativeSplatPath)),l=x.useRef(!1);return ex(()=>{l.current=!0}),x.useCallback(function(u,d){if(d===void 0&&(d={}),!l.current)return;if(typeof u=="number"){n.go(u);return}let h=Hd(u,JSON.parse(a),o,d.relative==="path");e==null&&t!=="/"&&(h.pathname=h.pathname==="/"?t:Vr([t,h.pathname])),(d.replace?n.replace:n.push)(h,d.state,d)},[t,n,a,o,e])}function Fj(){let{matches:e}=x.useContext(pr),t=e[e.length-1];return t?t.params:{}}function tx(e,t){let{relative:r}=t===void 0?{}:t,{future:n}=x.useContext(tn),{matches:s}=x.useContext(pr),{pathname:o}=Tt(),a=JSON.stringify(Wd(s,n.v7_relativeSplatPath));return x.useMemo(()=>Hd(e,JSON.parse(a),o,r==="path"),[e,a,o,r])}function $j(e,t){return Vj(e,t)}function Vj(e,t,r,n){Os()||we(!1);let{navigator:s}=x.useContext(tn),{matches:o}=x.useContext(pr),a=o[o.length-1],l=a?a.params:{};a&&a.pathname;let c=a?a.pathnameBase:"/";a&&a.route;let u=Tt(),d;if(t){var h;let w=typeof t=="string"?Rs(t):t;c==="/"||(h=w.pathname)!=null&&h.startsWith(c)||we(!1),d=w}else d=u;let f=d.pathname||"/",p=f;if(c!=="/"){let w=c.replace(/^\//,"").split("/");p="/"+f.replace(/^\//,"").split("/").slice(w.length).join("/")}let v=mj(e,{pathname:p}),b=Hj(v&&v.map(w=>Object.assign({},w,{params:Object.assign({},l,w.params),pathname:Vr([c,s.encodeLocation?s.encodeLocation(w.pathname).pathname:w.pathname]),pathnameBase:w.pathnameBase==="/"?c:Vr([c,s.encodeLocation?s.encodeLocation(w.pathnameBase).pathname:w.pathnameBase])})),o,r,n);return t&&b?x.createElement(nl.Provider,{value:{location:$i({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:Ar.Pop}},b):b}function Bj(){let e=Jj(),t=Oj(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"},o=null;return x.createElement(x.Fragment,null,x.createElement("h2",null,"Unexpected Application Error!"),x.createElement("h3",{style:{fontStyle:"italic"}},t),r?x.createElement("pre",{style:s},r):null,o)}const zj=x.createElement(Bj,null);class qj extends x.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,r){return r.location!==t.location||r.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:r.error,location:r.location,revalidation:t.revalidation||r.revalidation}}componentDidCatch(t,r){console.error("React Router caught the following error during render",t,r)}render(){return this.state.error!==void 0?x.createElement(pr.Provider,{value:this.props.routeContext},x.createElement(Xy.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function Wj(e){let{routeContext:t,match:r,children:n}=e,s=x.useContext(Kd);return s&&s.static&&s.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=r.route.id),x.createElement(pr.Provider,{value:t},n)}function Hj(e,t,r,n){var s;if(t===void 0&&(t=[]),r===void 0&&(r=null),n===void 0&&(n=null),e==null){var o;if(!r)return null;if(r.errors)e=r.matches;else if((o=n)!=null&&o.v7_partialHydration&&t.length===0&&!r.initialized&&r.matches.length>0)e=r.matches;else return null}let a=e,l=(s=r)==null?void 0:s.errors;if(l!=null){let d=a.findIndex(h=>h.route.id&&(l==null?void 0:l[h.route.id])!==void 0);d>=0||we(!1),a=a.slice(0,Math.min(a.length,d+1))}let c=!1,u=-1;if(r&&n&&n.v7_partialHydration)for(let d=0;d<a.length;d++){let h=a[d];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(u=d),h.route.id){let{loaderData:f,errors:p}=r,v=h.route.loader&&f[h.route.id]===void 0&&(!p||p[h.route.id]===void 0);if(h.route.lazy||v){c=!0,u>=0?a=a.slice(0,u+1):a=[a[0]];break}}}return a.reduceRight((d,h,f)=>{let p,v=!1,b=null,w=null;r&&(p=l&&h.route.id?l[h.route.id]:void 0,b=h.route.errorElement||zj,c&&(u<0&&f===0?(Zj("route-fallback",!1),v=!0,w=null):u===f&&(v=!0,w=h.route.hydrateFallbackElement||null)));let g=t.concat(a.slice(0,f+1)),y=()=>{let m;return p?m=b:v?m=w:h.route.Component?m=x.createElement(h.route.Component,null):h.route.element?m=h.route.element:m=d,x.createElement(Wj,{match:h,routeContext:{outlet:d,matches:g,isDataRoute:r!=null},children:m})};return r&&(h.route.ErrorBoundary||h.route.errorElement||f===0)?x.createElement(qj,{location:r.location,revalidation:r.revalidation,component:b,error:p,children:y(),routeContext:{outlet:null,matches:g,isDataRoute:!0}}):y()},null)}var rx=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(rx||{}),ka=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(ka||{});function Kj(e){let t=x.useContext(Kd);return t||we(!1),t}function Gj(e){let t=x.useContext(Dj);return t||we(!1),t}function Yj(e){let t=x.useContext(pr);return t||we(!1),t}function nx(e){let t=Yj(),r=t.matches[t.matches.length-1];return r.route.id||we(!1),r.route.id}function Jj(){var e;let t=x.useContext(Xy),r=Gj(ka.UseRouteError),n=nx(ka.UseRouteError);return t!==void 0?t:(e=r.errors)==null?void 0:e[n]}function Qj(){let{router:e}=Kj(rx.UseNavigateStable),t=nx(ka.UseNavigateStable),r=x.useRef(!1);return ex(()=>{r.current=!0}),x.useCallback(function(s,o){o===void 0&&(o={}),r.current&&(typeof s=="number"?e.navigate(s):e.navigate(s,$i({fromRouteId:t},o)))},[e,t])}const Wf={};function Zj(e,t,r){!t&&!Wf[e]&&(Wf[e]=!0)}function Xj(e,t){e==null||e.v7_startTransition,(e==null?void 0:e.v7_relativeSplatPath)===void 0&&(!t||t.v7_relativeSplatPath),t&&(t.v7_fetcherPersist,t.v7_normalizeFormMethod,t.v7_partialHydration,t.v7_skipActionErrorRevalidation)}function Hf(e){let{to:t,replace:r,state:n,relative:s}=e;Os()||we(!1);let{future:o,static:a}=x.useContext(tn),{matches:l}=x.useContext(pr),{pathname:c}=Tt(),u=Ze(),d=Hd(t,Wd(l,o.v7_relativeSplatPath),c,s==="path"),h=JSON.stringify(d);return x.useEffect(()=>u(JSON.parse(h),{replace:r,state:n,relative:s}),[u,h,s,r,n]),null}function xe(e){we(!1)}function e1(e){let{basename:t="/",children:r=null,location:n,navigationType:s=Ar.Pop,navigator:o,static:a=!1,future:l}=e;Os()&&we(!1);let c=t.replace(/^\/*/,"/"),u=x.useMemo(()=>({basename:c,navigator:o,static:a,future:$i({v7_relativeSplatPath:!1},l)}),[c,l,o,a]);typeof n=="string"&&(n=Rs(n));let{pathname:d="/",search:h="",hash:f="",state:p=null,key:v="default"}=n,b=x.useMemo(()=>{let w=qd(d,c);return w==null?null:{location:{pathname:w,search:h,hash:f,state:p,key:v},navigationType:s}},[c,d,h,f,p,v,s]);return b==null?null:x.createElement(tn.Provider,{value:u},x.createElement(nl.Provider,{children:r,value:b}))}function t1(e){let{children:t,location:r}=e;return $j(xu(t),r)}new Promise(()=>{});function xu(e,t){t===void 0&&(t=[]);let r=[];return x.Children.forEach(e,(n,s)=>{if(!x.isValidElement(n))return;let o=[...t,s];if(n.type===x.Fragment){r.push.apply(r,xu(n.props.children,o));return}n.type!==xe&&we(!1),!n.props.index||!n.props.children||we(!1);let a={id:n.props.id||o.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(a.children=xu(n.props.children,o)),r.push(a)}),r}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function vu(){return vu=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},vu.apply(this,arguments)}function r1(e,t){if(e==null)return{};var r={},n=Object.keys(e),s,o;for(o=0;o<n.length;o++)s=n[o],!(t.indexOf(s)>=0)&&(r[s]=e[s]);return r}function n1(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function s1(e,t){return e.button===0&&(!t||t==="_self")&&!n1(e)}function wu(e){return e===void 0&&(e=""),new URLSearchParams(typeof e=="string"||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((t,r)=>{let n=e[r];return t.concat(Array.isArray(n)?n.map(s=>[r,s]):[[r,n]])},[]))}function i1(e,t){let r=wu(e);return t&&t.forEach((n,s)=>{r.has(s)||t.getAll(s).forEach(o=>{r.append(s,o)})}),r}const o1=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],a1="6";try{window.__reactRouterVersion=a1}catch{}const l1="startTransition",Kf=Xv[l1];function c1(e){let{basename:t,children:r,future:n,window:s}=e,o=x.useRef();o.current==null&&(o.current=dj({window:s,v5Compat:!0}));let a=o.current,[l,c]=x.useState({action:a.action,location:a.location}),{v7_startTransition:u}=n||{},d=x.useCallback(h=>{u&&Kf?Kf(()=>c(h)):c(h)},[c,u]);return x.useLayoutEffect(()=>a.listen(d),[a,d]),x.useEffect(()=>Xj(n),[n]),x.createElement(e1,{basename:t,children:r,location:l.location,navigationType:l.action,navigator:a,future:n})}const u1=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",d1=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,J=x.forwardRef(function(t,r){let{onClick:n,relative:s,reloadDocument:o,replace:a,state:l,target:c,to:u,preventScrollReset:d,viewTransition:h}=t,f=r1(t,o1),{basename:p}=x.useContext(tn),v,b=!1;if(typeof u=="string"&&d1.test(u)&&(v=u,u1))try{let m=new URL(window.location.href),j=u.startsWith("//")?new URL(m.protocol+u):new URL(u),N=qd(j.pathname,p);j.origin===m.origin&&N!=null?u=N+j.search+j.hash:b=!0}catch{}let w=Mj(u,{relative:s}),g=h1(u,{replace:a,state:l,target:c,preventScrollReset:d,relative:s,viewTransition:h});function y(m){n&&n(m),m.defaultPrevented||g(m)}return x.createElement("a",vu({},f,{href:v||w,onClick:b||o?n:y,ref:r,target:c}))});var Gf;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(Gf||(Gf={}));var Yf;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(Yf||(Yf={}));function h1(e,t){let{target:r,replace:n,state:s,preventScrollReset:o,relative:a,viewTransition:l}=t===void 0?{}:t,c=Ze(),u=Tt(),d=tx(e,{relative:a});return x.useCallback(h=>{if(s1(h,r)){h.preventDefault();let f=n!==void 0?n:_a(u)===_a(d);c(e,{replace:f,state:s,preventScrollReset:o,relative:a,viewTransition:l})}},[u,c,d,n,s,r,e,o,a,l])}function Gd(e){let t=x.useRef(wu(e)),r=x.useRef(!1),n=Tt(),s=x.useMemo(()=>i1(n.search,r.current?null:t.current),[n.search]),o=Ze(),a=x.useCallback((l,c)=>{const u=wu(typeof l=="function"?l(s):l);r.current=!0,o("?"+u,c)},[o,s]);return[s,a]}var f1=typeof Element<"u",m1=typeof Map=="function",p1=typeof Set=="function",g1=typeof ArrayBuffer=="function"&&!!ArrayBuffer.isView;function Yo(e,t){if(e===t)return!0;if(e&&t&&typeof e=="object"&&typeof t=="object"){if(e.constructor!==t.constructor)return!1;var r,n,s;if(Array.isArray(e)){if(r=e.length,r!=t.length)return!1;for(n=r;n--!==0;)if(!Yo(e[n],t[n]))return!1;return!0}var o;if(m1&&e instanceof Map&&t instanceof Map){if(e.size!==t.size)return!1;for(o=e.entries();!(n=o.next()).done;)if(!t.has(n.value[0]))return!1;for(o=e.entries();!(n=o.next()).done;)if(!Yo(n.value[1],t.get(n.value[0])))return!1;return!0}if(p1&&e instanceof Set&&t instanceof Set){if(e.size!==t.size)return!1;for(o=e.entries();!(n=o.next()).done;)if(!t.has(n.value[0]))return!1;return!0}if(g1&&ArrayBuffer.isView(e)&&ArrayBuffer.isView(t)){if(r=e.length,r!=t.length)return!1;for(n=r;n--!==0;)if(e[n]!==t[n])return!1;return!0}if(e.constructor===RegExp)return e.source===t.source&&e.flags===t.flags;if(e.valueOf!==Object.prototype.valueOf&&typeof e.valueOf=="function"&&typeof t.valueOf=="function")return e.valueOf()===t.valueOf();if(e.toString!==Object.prototype.toString&&typeof e.toString=="function"&&typeof t.toString=="function")return e.toString()===t.toString();if(s=Object.keys(e),r=s.length,r!==Object.keys(t).length)return!1;for(n=r;n--!==0;)if(!Object.prototype.hasOwnProperty.call(t,s[n]))return!1;if(f1&&e instanceof Element)return!1;for(n=r;n--!==0;)if(!((s[n]==="_owner"||s[n]==="__v"||s[n]==="__o")&&e.$$typeof)&&!Yo(e[s[n]],t[s[n]]))return!1;return!0}return e!==e&&t!==t}var y1=function(t,r){try{return Yo(t,r)}catch(n){if((n.message||"").match(/stack|recursion/i))return console.warn("react-fast-compare cannot handle circular refs"),!1;throw n}};const x1=$a(y1);var v1=function(e,t,r,n,s,o,a,l){if(!e){var c;if(t===void 0)c=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var u=[r,n,s,o,a,l],d=0;c=new Error(t.replace(/%s/g,function(){return u[d++]})),c.name="Invariant Violation"}throw c.framesToPop=1,c}},w1=v1;const Jf=$a(w1);var b1=function(t,r,n,s){var o=n?n.call(s,t,r):void 0;if(o!==void 0)return!!o;if(t===r)return!0;if(typeof t!="object"||!t||typeof r!="object"||!r)return!1;var a=Object.keys(t),l=Object.keys(r);if(a.length!==l.length)return!1;for(var c=Object.prototype.hasOwnProperty.bind(r),u=0;u<a.length;u++){var d=a[u];if(!c(d))return!1;var h=t[d],f=r[d];if(o=n?n.call(s,h,f,d):void 0,o===!1||o===void 0&&h!==f)return!1}return!0};const j1=$a(b1);var sx=(e=>(e.BASE="base",e.BODY="body",e.HEAD="head",e.HTML="html",e.LINK="link",e.META="meta",e.NOSCRIPT="noscript",e.SCRIPT="script",e.STYLE="style",e.TITLE="title",e.FRAGMENT="Symbol(react.fragment)",e))(sx||{}),Yl={link:{rel:["amphtml","canonical","alternate"]},script:{type:["application/ld+json"]},meta:{charset:"",name:["generator","robots","description"],property:["og:type","og:title","og:url","og:image","og:image:alt","og:description","twitter:url","twitter:title","twitter:description","twitter:image","twitter:image:alt","twitter:card","twitter:site"]}},Qf=Object.values(sx),Yd={accesskey:"accessKey",charset:"charSet",class:"className",contenteditable:"contentEditable",contextmenu:"contextMenu","http-equiv":"httpEquiv",itemprop:"itemProp",tabindex:"tabIndex"},N1=Object.entries(Yd).reduce((e,[t,r])=>(e[r]=t,e),{}),Mt="data-rh",hs={DEFAULT_TITLE:"defaultTitle",DEFER:"defer",ENCODE_SPECIAL_CHARACTERS:"encodeSpecialCharacters",ON_CHANGE_CLIENT_STATE:"onChangeClientState",TITLE_TEMPLATE:"titleTemplate",PRIORITIZE_SEO_TAGS:"prioritizeSeoTags"},fs=(e,t)=>{for(let r=e.length-1;r>=0;r-=1){const n=e[r];if(Object.prototype.hasOwnProperty.call(n,t))return n[t]}return null},S1=e=>{let t=fs(e,"title");const r=fs(e,hs.TITLE_TEMPLATE);if(Array.isArray(t)&&(t=t.join("")),r&&t)return r.replace(/%s/g,()=>t);const n=fs(e,hs.DEFAULT_TITLE);return t||n||void 0},_1=e=>fs(e,hs.ON_CHANGE_CLIENT_STATE)||(()=>{}),Jl=(e,t)=>t.filter(r=>typeof r[e]<"u").map(r=>r[e]).reduce((r,n)=>({...r,...n}),{}),k1=(e,t)=>t.filter(r=>typeof r.base<"u").map(r=>r.base).reverse().reduce((r,n)=>{if(!r.length){const s=Object.keys(n);for(let o=0;o<s.length;o+=1){const l=s[o].toLowerCase();if(e.indexOf(l)!==-1&&n[l])return r.concat(n)}}return r},[]),P1=e=>console&&typeof console.warn=="function"&&console.warn(e),Ks=(e,t,r)=>{const n={};return r.filter(s=>Array.isArray(s[e])?!0:(typeof s[e]<"u"&&P1(`Helmet: ${e} should be of type "Array". Instead found type "${typeof s[e]}"`),!1)).map(s=>s[e]).reverse().reduce((s,o)=>{const a={};o.filter(c=>{let u;const d=Object.keys(c);for(let f=0;f<d.length;f+=1){const p=d[f],v=p.toLowerCase();t.indexOf(v)!==-1&&!(u==="rel"&&c[u].toLowerCase()==="canonical")&&!(v==="rel"&&c[v].toLowerCase()==="stylesheet")&&(u=v),t.indexOf(p)!==-1&&(p==="innerHTML"||p==="cssText"||p==="itemprop")&&(u=p)}if(!u||!c[u])return!1;const h=c[u].toLowerCase();return n[u]||(n[u]={}),a[u]||(a[u]={}),n[u][h]?!1:(a[u][h]=!0,!0)}).reverse().forEach(c=>s.push(c));const l=Object.keys(a);for(let c=0;c<l.length;c+=1){const u=l[c],d={...n[u],...a[u]};n[u]=d}return s},[]).reverse()},C1=(e,t)=>{if(Array.isArray(e)&&e.length){for(let r=0;r<e.length;r+=1)if(e[r][t])return!0}return!1},E1=e=>({baseTag:k1(["href"],e),bodyAttributes:Jl("bodyAttributes",e),defer:fs(e,hs.DEFER),encode:fs(e,hs.ENCODE_SPECIAL_CHARACTERS),htmlAttributes:Jl("htmlAttributes",e),linkTags:Ks("link",["rel","href"],e),metaTags:Ks("meta",["name","charset","http-equiv","property","itemprop"],e),noscriptTags:Ks("noscript",["innerHTML"],e),onChangeClientState:_1(e),scriptTags:Ks("script",["src","innerHTML"],e),styleTags:Ks("style",["cssText"],e),title:S1(e),titleAttributes:Jl("titleAttributes",e),prioritizeSeoTags:C1(e,hs.PRIORITIZE_SEO_TAGS)}),ix=e=>Array.isArray(e)?e.join(""):e,T1=(e,t)=>{const r=Object.keys(e);for(let n=0;n<r.length;n+=1)if(t[r[n]]&&t[r[n]].includes(e[r[n]]))return!0;return!1},Ql=(e,t)=>Array.isArray(e)?e.reduce((r,n)=>(T1(n,t)?r.priority.push(n):r.default.push(n),r),{priority:[],default:[]}):{default:e,priority:[]},Zf=(e,t)=>({...e,[t]:void 0}),A1=["noscript","script","style"],bu=(e,t=!0)=>t===!1?String(e):String(e).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;"),ox=e=>Object.keys(e).reduce((t,r)=>{const n=typeof e[r]<"u"?`${r}="${e[r]}"`:`${r}`;return t?`${t} ${n}`:n},""),I1=(e,t,r,n)=>{const s=ox(r),o=ix(t);return s?`<${e} ${Mt}="true" ${s}>${bu(o,n)}</${e}>`:`<${e} ${Mt}="true">${bu(o,n)}</${e}>`},R1=(e,t,r=!0)=>t.reduce((n,s)=>{const o=s,a=Object.keys(o).filter(u=>!(u==="innerHTML"||u==="cssText")).reduce((u,d)=>{const h=typeof o[d]>"u"?d:`${d}="${bu(o[d],r)}"`;return u?`${u} ${h}`:h},""),l=o.innerHTML||o.cssText||"",c=A1.indexOf(e)===-1;return`${n}<${e} ${Mt}="true" ${a}${c?"/>":`>${l}</${e}>`}`},""),ax=(e,t={})=>Object.keys(e).reduce((r,n)=>{const s=Yd[n];return r[s||n]=e[n],r},t),O1=(e,t,r)=>{const n={key:t,[Mt]:!0},s=ax(r,n);return[Ve.createElement("title",s,t)]},Jo=(e,t)=>t.map((r,n)=>{const s={key:n,[Mt]:!0};return Object.keys(r).forEach(o=>{const l=Yd[o]||o;if(l==="innerHTML"||l==="cssText"){const c=r.innerHTML||r.cssText;s.dangerouslySetInnerHTML={__html:c}}else s[l]=r[o]}),Ve.createElement(e,s)}),bt=(e,t,r=!0)=>{switch(e){case"title":return{toComponent:()=>O1(e,t.title,t.titleAttributes),toString:()=>I1(e,t.title,t.titleAttributes,r)};case"bodyAttributes":case"htmlAttributes":return{toComponent:()=>ax(t),toString:()=>ox(t)};default:return{toComponent:()=>Jo(e,t),toString:()=>R1(e,t,r)}}},L1=({metaTags:e,linkTags:t,scriptTags:r,encode:n})=>{const s=Ql(e,Yl.meta),o=Ql(t,Yl.link),a=Ql(r,Yl.script);return{priorityMethods:{toComponent:()=>[...Jo("meta",s.priority),...Jo("link",o.priority),...Jo("script",a.priority)],toString:()=>`${bt("meta",s.priority,n)} ${bt("link",o.priority,n)} ${bt("script",a.priority,n)}`},metaTags:s.default,linkTags:o.default,scriptTags:a.default}},D1=e=>{const{baseTag:t,bodyAttributes:r,encode:n=!0,htmlAttributes:s,noscriptTags:o,styleTags:a,title:l="",titleAttributes:c,prioritizeSeoTags:u}=e;let{linkTags:d,metaTags:h,scriptTags:f}=e,p={toComponent:()=>{},toString:()=>""};return u&&({priorityMethods:p,linkTags:d,metaTags:h,scriptTags:f}=L1(e)),{priority:p,base:bt("base",t,n),bodyAttributes:bt("bodyAttributes",r,n),htmlAttributes:bt("htmlAttributes",s,n),link:bt("link",d,n),meta:bt("meta",h,n),noscript:bt("noscript",o,n),script:bt("script",f,n),style:bt("style",a,n),title:bt("title",{title:l,titleAttributes:c},n)}},ju=D1,Po=[],lx=!!(typeof window<"u"&&window.document&&window.document.createElement),Nu=class{constructor(e,t){zt(this,"instances",[]);zt(this,"canUseDOM",lx);zt(this,"context");zt(this,"value",{setHelmet:e=>{this.context.helmet=e},helmetInstances:{get:()=>this.canUseDOM?Po:this.instances,add:e=>{(this.canUseDOM?Po:this.instances).push(e)},remove:e=>{const t=(this.canUseDOM?Po:this.instances).indexOf(e);(this.canUseDOM?Po:this.instances).splice(t,1)}}});this.context=e,this.canUseDOM=t||!1,t||(e.helmet=ju({baseTag:[],bodyAttributes:{},encodeSpecialCharacters:!0,htmlAttributes:{},linkTags:[],metaTags:[],noscriptTags:[],scriptTags:[],styleTags:[],title:"",titleAttributes:{}}))}},M1={},cx=Ve.createContext(M1),ps,ux=(ps=class extends x.Component{constructor(r){super(r);zt(this,"helmetData");this.helmetData=new Nu(this.props.context||{},ps.canUseDOM)}render(){return Ve.createElement(cx.Provider,{value:this.helmetData.value},this.props.children)}},zt(ps,"canUseDOM",lx),ps),Ln=(e,t)=>{const r=document.head||document.querySelector("head"),n=r.querySelectorAll(`${e}[${Mt}]`),s=[].slice.call(n),o=[];let a;return t&&t.length&&t.forEach(l=>{const c=document.createElement(e);for(const u in l)if(Object.prototype.hasOwnProperty.call(l,u))if(u==="innerHTML")c.innerHTML=l.innerHTML;else if(u==="cssText")c.styleSheet?c.styleSheet.cssText=l.cssText:c.appendChild(document.createTextNode(l.cssText));else{const d=u,h=typeof l[d]>"u"?"":l[d];c.setAttribute(u,h)}c.setAttribute(Mt,"true"),s.some((u,d)=>(a=d,c.isEqualNode(u)))?s.splice(a,1):o.push(c)}),s.forEach(l=>{var c;return(c=l.parentNode)==null?void 0:c.removeChild(l)}),o.forEach(l=>r.appendChild(l)),{oldTags:s,newTags:o}},Su=(e,t)=>{const r=document.getElementsByTagName(e)[0];if(!r)return;const n=r.getAttribute(Mt),s=n?n.split(","):[],o=[...s],a=Object.keys(t);for(const l of a){const c=t[l]||"";r.getAttribute(l)!==c&&r.setAttribute(l,c),s.indexOf(l)===-1&&s.push(l);const u=o.indexOf(l);u!==-1&&o.splice(u,1)}for(let l=o.length-1;l>=0;l-=1)r.removeAttribute(o[l]);s.length===o.length?r.removeAttribute(Mt):r.getAttribute(Mt)!==a.join(",")&&r.setAttribute(Mt,a.join(","))},U1=(e,t)=>{typeof e<"u"&&document.title!==e&&(document.title=ix(e)),Su("title",t)},Xf=(e,t)=>{const{baseTag:r,bodyAttributes:n,htmlAttributes:s,linkTags:o,metaTags:a,noscriptTags:l,onChangeClientState:c,scriptTags:u,styleTags:d,title:h,titleAttributes:f}=e;Su("body",n),Su("html",s),U1(h,f);const p={baseTag:Ln("base",r),linkTags:Ln("link",o),metaTags:Ln("meta",a),noscriptTags:Ln("noscript",l),scriptTags:Ln("script",u),styleTags:Ln("style",d)},v={},b={};Object.keys(p).forEach(w=>{const{newTags:g,oldTags:y}=p[w];g.length&&(v[w]=g),y.length&&(b[w]=p[w].oldTags)}),t&&t(),c(e,v,b)},Gs=null,F1=e=>{Gs&&cancelAnimationFrame(Gs),e.defer?Gs=requestAnimationFrame(()=>{Xf(e,()=>{Gs=null})}):(Xf(e),Gs=null)},$1=F1,em=class extends x.Component{constructor(){super(...arguments);zt(this,"rendered",!1)}shouldComponentUpdate(t){return!j1(t,this.props)}componentDidUpdate(){this.emitChange()}componentWillUnmount(){const{helmetInstances:t}=this.props.context;t.remove(this),this.emitChange()}emitChange(){const{helmetInstances:t,setHelmet:r}=this.props.context;let n=null;const s=E1(t.get().map(o=>{const a={...o.props};return delete a.context,a}));ux.canUseDOM?$1(s):ju&&(n=ju(s)),r(n)}init(){if(this.rendered)return;this.rendered=!0;const{helmetInstances:t}=this.props.context;t.add(this),this.emitChange()}render(){return this.init(),null}},Nc,Oe=(Nc=class extends x.Component{shouldComponentUpdate(e){return!x1(Zf(this.props,"helmetData"),Zf(e,"helmetData"))}mapNestedChildrenToProps(e,t){if(!t)return null;switch(e.type){case"script":case"noscript":return{innerHTML:t};case"style":return{cssText:t};default:throw new Error(`<${e.type} /> elements are self-closing and can not contain children. Refer to our API for more information.`)}}flattenArrayTypeChildren(e,t,r,n){return{...t,[e.type]:[...t[e.type]||[],{...r,...this.mapNestedChildrenToProps(e,n)}]}}mapObjectTypeChildren(e,t,r,n){switch(e.type){case"title":return{...t,[e.type]:n,titleAttributes:{...r}};case"body":return{...t,bodyAttributes:{...r}};case"html":return{...t,htmlAttributes:{...r}};default:return{...t,[e.type]:{...r}}}}mapArrayTypeChildrenToProps(e,t){let r={...t};return Object.keys(e).forEach(n=>{r={...r,[n]:e[n]}}),r}warnOnInvalidChildren(e,t){return Jf(Qf.some(r=>e.type===r),typeof e.type=="function"?"You may be attempting to nest <Helmet> components within each other, which is not allowed. Refer to our API for more information.":`Only elements types ${Qf.join(", ")} are allowed. Helmet does not support rendering <${e.type}> elements. Refer to our API for more information.`),Jf(!t||typeof t=="string"||Array.isArray(t)&&!t.some(r=>typeof r!="string"),`Helmet expects a string as a child of <${e.type}>. Did you forget to wrap your children in braces? ( <${e.type}>{\`\`}</${e.type}> ) Refer to our API for more information.`),!0}mapChildrenToProps(e,t){let r={};return Ve.Children.forEach(e,n=>{if(!n||!n.props)return;const{children:s,...o}=n.props,a=Object.keys(o).reduce((c,u)=>(c[N1[u]||u]=o[u],c),{});let{type:l}=n;switch(typeof l=="symbol"?l=l.toString():this.warnOnInvalidChildren(n,s),l){case"Symbol(react.fragment)":t=this.mapChildrenToProps(s,t);break;case"link":case"meta":case"noscript":case"script":case"style":r=this.flattenArrayTypeChildren(n,r,a,s);break;default:t=this.mapObjectTypeChildren(n,t,a,s);break}}),this.mapArrayTypeChildrenToProps(r,t)}render(){const{children:e,...t}=this.props;let r={...t},{helmetData:n}=t;if(e&&(r=this.mapChildrenToProps(e,r)),n&&!(n instanceof Nu)){const s=n;n=new Nu(s.context,!0),delete r.helmetData}return n?Ve.createElement(em,{...r,context:n.value}):Ve.createElement(cx.Consumer,null,s=>Ve.createElement(em,{...r,context:s}))}},zt(Nc,"defaultProps",{defer:!0,encodeSpecialCharacters:!0,prioritizeSeoTags:!1}),Nc);const dx=x.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"}),sl=x.createContext({}),il=x.createContext(null),ol=typeof document<"u",Jd=ol?x.useLayoutEffect:x.useEffect,hx=x.createContext({strict:!1}),Qd=e=>e.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),V1="framerAppearId",fx="data-"+Qd(V1);function B1(e,t,r,n){const{visualElement:s}=x.useContext(sl),o=x.useContext(hx),a=x.useContext(il),l=x.useContext(dx).reducedMotion,c=x.useRef();n=n||o.renderer,!c.current&&n&&(c.current=n(e,{visualState:t,parent:s,props:r,presenceContext:a,blockInitialAnimation:a?a.initial===!1:!1,reducedMotionConfig:l}));const u=c.current;x.useInsertionEffect(()=>{u&&u.update(r,a)});const d=x.useRef(!!(r[fx]&&!window.HandoffComplete));return Jd(()=>{u&&(u.render(),d.current&&u.animationState&&u.animationState.animateChanges())}),x.useEffect(()=>{u&&(u.updateFeatures(),!d.current&&u.animationState&&u.animationState.animateChanges(),d.current&&(d.current=!1,window.HandoffComplete=!0))}),u}function rs(e){return e&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}function z1(e,t,r){return x.useCallback(n=>{n&&e.mount&&e.mount(n),t&&(n?t.mount(n):t.unmount()),r&&(typeof r=="function"?r(n):rs(r)&&(r.current=n))},[t])}function Vi(e){return typeof e=="string"||Array.isArray(e)}function al(e){return e!==null&&typeof e=="object"&&typeof e.start=="function"}const Zd=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],Xd=["initial",...Zd];function ll(e){return al(e.animate)||Xd.some(t=>Vi(e[t]))}function mx(e){return!!(ll(e)||e.variants)}function q1(e,t){if(ll(e)){const{initial:r,animate:n}=e;return{initial:r===!1||Vi(r)?r:void 0,animate:Vi(n)?n:void 0}}return e.inherit!==!1?t:{}}function W1(e){const{initial:t,animate:r}=q1(e,x.useContext(sl));return x.useMemo(()=>({initial:t,animate:r}),[tm(t),tm(r)])}function tm(e){return Array.isArray(e)?e.join(" "):e}const rm={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Bi={};for(const e in rm)Bi[e]={isEnabled:t=>rm[e].some(r=>!!t[r])};function H1(e){for(const t in e)Bi[t]={...Bi[t],...e[t]}}const eh=x.createContext({}),px=x.createContext({}),K1=Symbol.for("motionComponentSymbol");function G1({preloadedFeatures:e,createVisualElement:t,useRender:r,useVisualState:n,Component:s}){e&&H1(e);function o(l,c){let u;const d={...x.useContext(dx),...l,layoutId:Y1(l)},{isStatic:h}=d,f=W1(l),p=n(l,h);if(!h&&ol){f.visualElement=B1(s,p,d,t);const v=x.useContext(px),b=x.useContext(hx).strict;f.visualElement&&(u=f.visualElement.loadFeatures(d,b,e,v))}return x.createElement(sl.Provider,{value:f},u&&f.visualElement?x.createElement(u,{visualElement:f.visualElement,...d}):null,r(s,l,z1(p,f.visualElement,c),p,h,f.visualElement))}const a=x.forwardRef(o);return a[K1]=s,a}function Y1({layoutId:e}){const t=x.useContext(eh).id;return t&&e!==void 0?t+"-"+e:e}function J1(e){function t(n,s={}){return G1(e(n,s))}if(typeof Proxy>"u")return t;const r=new Map;return new Proxy(t,{get:(n,s)=>(r.has(s)||r.set(s,t(s)),r.get(s))})}const Q1=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function th(e){return typeof e!="string"||e.includes("-")?!1:!!(Q1.indexOf(e)>-1||/[A-Z]/.test(e))}const Pa={};function Z1(e){Object.assign(Pa,e)}const Zi=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Tn=new Set(Zi);function gx(e,{layout:t,layoutId:r}){return Tn.has(e)||e.startsWith("origin")||(t||r!==void 0)&&(!!Pa[e]||e==="opacity")}const lt=e=>!!(e&&e.getVelocity),X1={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},eN=Zi.length;function tN(e,{enableHardwareAcceleration:t=!0,allowTransformNone:r=!0},n,s){let o="";for(let a=0;a<eN;a++){const l=Zi[a];if(e[l]!==void 0){const c=X1[l]||l;o+=`${c}(${e[l]}) `}}return t&&!e.z&&(o+="translateZ(0)"),o=o.trim(),s?o=s(e,n?"":o):r&&n&&(o="none"),o}const yx=e=>t=>typeof t=="string"&&t.startsWith(e),xx=yx("--"),_u=yx("var(--"),rN=/var\s*\(\s*--[\w-]+(\s*,\s*(?:(?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)+)?\s*\)/g,nN=(e,t)=>t&&typeof e=="number"?t.transform(e):e,Jr=(e,t,r)=>Math.min(Math.max(r,e),t),An={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},gi={...An,transform:e=>Jr(0,1,e)},Co={...An,default:1},yi=e=>Math.round(e*1e5)/1e5,cl=/(-)?([\d]*\.?[\d])+/g,vx=/(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))/gi,sN=/^(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))$/i;function Xi(e){return typeof e=="string"}const eo=e=>({test:t=>Xi(t)&&t.endsWith(e)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${e}`}),wr=eo("deg"),Yt=eo("%"),Y=eo("px"),iN=eo("vh"),oN=eo("vw"),nm={...Yt,parse:e=>Yt.parse(e)/100,transform:e=>Yt.transform(e*100)},sm={...An,transform:Math.round},wx={borderWidth:Y,borderTopWidth:Y,borderRightWidth:Y,borderBottomWidth:Y,borderLeftWidth:Y,borderRadius:Y,radius:Y,borderTopLeftRadius:Y,borderTopRightRadius:Y,borderBottomRightRadius:Y,borderBottomLeftRadius:Y,width:Y,maxWidth:Y,height:Y,maxHeight:Y,size:Y,top:Y,right:Y,bottom:Y,left:Y,padding:Y,paddingTop:Y,paddingRight:Y,paddingBottom:Y,paddingLeft:Y,margin:Y,marginTop:Y,marginRight:Y,marginBottom:Y,marginLeft:Y,rotate:wr,rotateX:wr,rotateY:wr,rotateZ:wr,scale:Co,scaleX:Co,scaleY:Co,scaleZ:Co,skew:wr,skewX:wr,skewY:wr,distance:Y,translateX:Y,translateY:Y,translateZ:Y,x:Y,y:Y,z:Y,perspective:Y,transformPerspective:Y,opacity:gi,originX:nm,originY:nm,originZ:Y,zIndex:sm,fillOpacity:gi,strokeOpacity:gi,numOctaves:sm};function rh(e,t,r,n){const{style:s,vars:o,transform:a,transformOrigin:l}=e;let c=!1,u=!1,d=!0;for(const h in t){const f=t[h];if(xx(h)){o[h]=f;continue}const p=wx[h],v=nN(f,p);if(Tn.has(h)){if(c=!0,a[h]=v,!d)continue;f!==(p.default||0)&&(d=!1)}else h.startsWith("origin")?(u=!0,l[h]=v):s[h]=v}if(t.transform||(c||n?s.transform=tN(e.transform,r,d,n):s.transform&&(s.transform="none")),u){const{originX:h="50%",originY:f="50%",originZ:p=0}=l;s.transformOrigin=`${h} ${f} ${p}`}}const nh=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function bx(e,t,r){for(const n in t)!lt(t[n])&&!gx(n,r)&&(e[n]=t[n])}function aN({transformTemplate:e},t,r){return x.useMemo(()=>{const n=nh();return rh(n,t,{enableHardwareAcceleration:!r},e),Object.assign({},n.vars,n.style)},[t])}function lN(e,t,r){const n=e.style||{},s={};return bx(s,n,e),Object.assign(s,aN(e,t,r)),e.transformValues?e.transformValues(s):s}function cN(e,t,r){const n={},s=lN(e,t,r);return e.drag&&e.dragListener!==!1&&(n.draggable=!1,s.userSelect=s.WebkitUserSelect=s.WebkitTouchCallout="none",s.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(n.tabIndex=0),n.style=s,n}const uN=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","transformValues","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Ca(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||uN.has(e)}let jx=e=>!Ca(e);function dN(e){e&&(jx=t=>t.startsWith("on")?!Ca(t):e(t))}try{dN(require("@emotion/is-prop-valid").default)}catch{}function hN(e,t,r){const n={};for(const s in e)s==="values"&&typeof e.values=="object"||(jx(s)||r===!0&&Ca(s)||!t&&!Ca(s)||e.draggable&&s.startsWith("onDrag"))&&(n[s]=e[s]);return n}function im(e,t,r){return typeof e=="string"?e:Y.transform(t+r*e)}function fN(e,t,r){const n=im(t,e.x,e.width),s=im(r,e.y,e.height);return`${n} ${s}`}const mN={offset:"stroke-dashoffset",array:"stroke-dasharray"},pN={offset:"strokeDashoffset",array:"strokeDasharray"};function gN(e,t,r=1,n=0,s=!0){e.pathLength=1;const o=s?mN:pN;e[o.offset]=Y.transform(-n);const a=Y.transform(t),l=Y.transform(r);e[o.array]=`${a} ${l}`}function sh(e,{attrX:t,attrY:r,attrScale:n,originX:s,originY:o,pathLength:a,pathSpacing:l=1,pathOffset:c=0,...u},d,h,f){if(rh(e,u,d,f),h){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};const{attrs:p,style:v,dimensions:b}=e;p.transform&&(b&&(v.transform=p.transform),delete p.transform),b&&(s!==void 0||o!==void 0||v.transform)&&(v.transformOrigin=fN(b,s!==void 0?s:.5,o!==void 0?o:.5)),t!==void 0&&(p.x=t),r!==void 0&&(p.y=r),n!==void 0&&(p.scale=n),a!==void 0&&gN(p,a,l,c,!1)}const Nx=()=>({...nh(),attrs:{}}),ih=e=>typeof e=="string"&&e.toLowerCase()==="svg";function yN(e,t,r,n){const s=x.useMemo(()=>{const o=Nx();return sh(o,t,{enableHardwareAcceleration:!1},ih(n),e.transformTemplate),{...o.attrs,style:{...o.style}}},[t]);if(e.style){const o={};bx(o,e.style,e),s.style={...o,...s.style}}return s}function xN(e=!1){return(r,n,s,{latestValues:o},a)=>{const c=(th(r)?yN:cN)(n,o,a,r),d={...hN(n,typeof r=="string",e),...c,ref:s},{children:h}=n,f=x.useMemo(()=>lt(h)?h.get():h,[h]);return x.createElement(r,{...d,children:f})}}function Sx(e,{style:t,vars:r},n,s){Object.assign(e.style,t,s&&s.getProjectionStyles(n));for(const o in r)e.style.setProperty(o,r[o])}const _x=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function kx(e,t,r,n){Sx(e,t,void 0,n);for(const s in t.attrs)e.setAttribute(_x.has(s)?s:Qd(s),t.attrs[s])}function oh(e,t){const{style:r}=e,n={};for(const s in r)(lt(r[s])||t.style&&lt(t.style[s])||gx(s,e))&&(n[s]=r[s]);return n}function Px(e,t){const r=oh(e,t);for(const n in e)if(lt(e[n])||lt(t[n])){const s=Zi.indexOf(n)!==-1?"attr"+n.charAt(0).toUpperCase()+n.substring(1):n;r[s]=e[n]}return r}function ah(e,t,r,n={},s={}){return typeof t=="function"&&(t=t(r!==void 0?r:e.custom,n,s)),typeof t=="string"&&(t=e.variants&&e.variants[t]),typeof t=="function"&&(t=t(r!==void 0?r:e.custom,n,s)),t}function Cx(e){const t=x.useRef(null);return t.current===null&&(t.current=e()),t.current}const Ea=e=>Array.isArray(e),vN=e=>!!(e&&typeof e=="object"&&e.mix&&e.toValue),wN=e=>Ea(e)?e[e.length-1]||0:e;function Qo(e){const t=lt(e)?e.get():e;return vN(t)?t.toValue():t}function bN({scrapeMotionValuesFromProps:e,createRenderState:t,onMount:r},n,s,o){const a={latestValues:jN(n,s,o,e),renderState:t()};return r&&(a.mount=l=>r(n,l,a)),a}const Ex=e=>(t,r)=>{const n=x.useContext(sl),s=x.useContext(il),o=()=>bN(e,t,n,s);return r?o():Cx(o)};function jN(e,t,r,n){const s={},o=n(e,{});for(const f in o)s[f]=Qo(o[f]);let{initial:a,animate:l}=e;const c=ll(e),u=mx(e);t&&u&&!c&&e.inherit!==!1&&(a===void 0&&(a=t.initial),l===void 0&&(l=t.animate));let d=r?r.initial===!1:!1;d=d||a===!1;const h=d?l:a;return h&&typeof h!="boolean"&&!al(h)&&(Array.isArray(h)?h:[h]).forEach(p=>{const v=ah(e,p);if(!v)return;const{transitionEnd:b,transition:w,...g}=v;for(const y in g){let m=g[y];if(Array.isArray(m)){const j=d?m.length-1:0;m=m[j]}m!==null&&(s[y]=m)}for(const y in b)s[y]=b[y]}),s}const ye=e=>e;class om{constructor(){this.order=[],this.scheduled=new Set}add(t){if(!this.scheduled.has(t))return this.scheduled.add(t),this.order.push(t),!0}remove(t){const r=this.order.indexOf(t);r!==-1&&(this.order.splice(r,1),this.scheduled.delete(t))}clear(){this.order.length=0,this.scheduled.clear()}}function NN(e){let t=new om,r=new om,n=0,s=!1,o=!1;const a=new WeakSet,l={schedule:(c,u=!1,d=!1)=>{const h=d&&s,f=h?t:r;return u&&a.add(c),f.add(c)&&h&&s&&(n=t.order.length),c},cancel:c=>{r.remove(c),a.delete(c)},process:c=>{if(s){o=!0;return}if(s=!0,[t,r]=[r,t],r.clear(),n=t.order.length,n)for(let u=0;u<n;u++){const d=t.order[u];d(c),a.has(d)&&(l.schedule(d),e())}s=!1,o&&(o=!1,l.process(c))}};return l}const Eo=["prepare","read","update","preRender","render","postRender"],SN=40;function _N(e,t){let r=!1,n=!0;const s={delta:0,timestamp:0,isProcessing:!1},o=Eo.reduce((h,f)=>(h[f]=NN(()=>r=!0),h),{}),a=h=>o[h].process(s),l=()=>{const h=performance.now();r=!1,s.delta=n?1e3/60:Math.max(Math.min(h-s.timestamp,SN),1),s.timestamp=h,s.isProcessing=!0,Eo.forEach(a),s.isProcessing=!1,r&&t&&(n=!1,e(l))},c=()=>{r=!0,n=!0,s.isProcessing||e(l)};return{schedule:Eo.reduce((h,f)=>{const p=o[f];return h[f]=(v,b=!1,w=!1)=>(r||c(),p.schedule(v,b,w)),h},{}),cancel:h=>Eo.forEach(f=>o[f].cancel(h)),state:s,steps:o}}const{schedule:ae,cancel:fr,state:Ue,steps:Zl}=_N(typeof requestAnimationFrame<"u"?requestAnimationFrame:ye,!0),kN={useVisualState:Ex({scrapeMotionValuesFromProps:Px,createRenderState:Nx,onMount:(e,t,{renderState:r,latestValues:n})=>{ae.read(()=>{try{r.dimensions=typeof t.getBBox=="function"?t.getBBox():t.getBoundingClientRect()}catch{r.dimensions={x:0,y:0,width:0,height:0}}}),ae.render(()=>{sh(r,n,{enableHardwareAcceleration:!1},ih(t.tagName),e.transformTemplate),kx(t,r)})}})},PN={useVisualState:Ex({scrapeMotionValuesFromProps:oh,createRenderState:nh})};function CN(e,{forwardMotionProps:t=!1},r,n){return{...th(e)?kN:PN,preloadedFeatures:r,useRender:xN(t),createVisualElement:n,Component:e}}function ir(e,t,r,n={passive:!0}){return e.addEventListener(t,r,n),()=>e.removeEventListener(t,r)}const Tx=e=>e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1;function ul(e,t="page"){return{point:{x:e[t+"X"],y:e[t+"Y"]}}}const EN=e=>t=>Tx(t)&&e(t,ul(t));function ar(e,t,r,n){return ir(e,t,EN(r),n)}const TN=(e,t)=>r=>t(e(r)),Br=(...e)=>e.reduce(TN);function Ax(e){let t=null;return()=>{const r=()=>{t=null};return t===null?(t=e,r):!1}}const am=Ax("dragHorizontal"),lm=Ax("dragVertical");function Ix(e){let t=!1;if(e==="y")t=lm();else if(e==="x")t=am();else{const r=am(),n=lm();r&&n?t=()=>{r(),n()}:(r&&r(),n&&n())}return t}function Rx(){const e=Ix(!0);return e?(e(),!1):!0}class rn{constructor(t){this.isMounted=!1,this.node=t}update(){}}function cm(e,t){const r="pointer"+(t?"enter":"leave"),n="onHover"+(t?"Start":"End"),s=(o,a)=>{if(o.pointerType==="touch"||Rx())return;const l=e.getProps();e.animationState&&l.whileHover&&e.animationState.setActive("whileHover",t),l[n]&&ae.update(()=>l[n](o,a))};return ar(e.current,r,s,{passive:!e.getProps()[n]})}class AN extends rn{mount(){this.unmount=Br(cm(this.node,!0),cm(this.node,!1))}unmount(){}}class IN extends rn{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Br(ir(this.node.current,"focus",()=>this.onFocus()),ir(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}const Ox=(e,t)=>t?e===t?!0:Ox(e,t.parentElement):!1;function Xl(e,t){if(!t)return;const r=new PointerEvent("pointer"+e);t(r,ul(r))}class RN extends rn{constructor(){super(...arguments),this.removeStartListeners=ye,this.removeEndListeners=ye,this.removeAccessibleListeners=ye,this.startPointerPress=(t,r)=>{if(this.isPressing)return;this.removeEndListeners();const n=this.node.getProps(),o=ar(window,"pointerup",(l,c)=>{if(!this.checkPressEnd())return;const{onTap:u,onTapCancel:d,globalTapTarget:h}=this.node.getProps();ae.update(()=>{!h&&!Ox(this.node.current,l.target)?d&&d(l,c):u&&u(l,c)})},{passive:!(n.onTap||n.onPointerUp)}),a=ar(window,"pointercancel",(l,c)=>this.cancelPress(l,c),{passive:!(n.onTapCancel||n.onPointerCancel)});this.removeEndListeners=Br(o,a),this.startPress(t,r)},this.startAccessiblePress=()=>{const t=o=>{if(o.key!=="Enter"||this.isPressing)return;const a=l=>{l.key!=="Enter"||!this.checkPressEnd()||Xl("up",(c,u)=>{const{onTap:d}=this.node.getProps();d&&ae.update(()=>d(c,u))})};this.removeEndListeners(),this.removeEndListeners=ir(this.node.current,"keyup",a),Xl("down",(l,c)=>{this.startPress(l,c)})},r=ir(this.node.current,"keydown",t),n=()=>{this.isPressing&&Xl("cancel",(o,a)=>this.cancelPress(o,a))},s=ir(this.node.current,"blur",n);this.removeAccessibleListeners=Br(r,s)}}startPress(t,r){this.isPressing=!0;const{onTapStart:n,whileTap:s}=this.node.getProps();s&&this.node.animationState&&this.node.animationState.setActive("whileTap",!0),n&&ae.update(()=>n(t,r))}checkPressEnd(){return this.removeEndListeners(),this.isPressing=!1,this.node.getProps().whileTap&&this.node.animationState&&this.node.animationState.setActive("whileTap",!1),!Rx()}cancelPress(t,r){if(!this.checkPressEnd())return;const{onTapCancel:n}=this.node.getProps();n&&ae.update(()=>n(t,r))}mount(){const t=this.node.getProps(),r=ar(t.globalTapTarget?window:this.node.current,"pointerdown",this.startPointerPress,{passive:!(t.onTapStart||t.onPointerStart)}),n=ir(this.node.current,"focus",this.startAccessiblePress);this.removeStartListeners=Br(r,n)}unmount(){this.removeStartListeners(),this.removeEndListeners(),this.removeAccessibleListeners()}}const ku=new WeakMap,ec=new WeakMap,ON=e=>{const t=ku.get(e.target);t&&t(e)},LN=e=>{e.forEach(ON)};function DN({root:e,...t}){const r=e||document;ec.has(r)||ec.set(r,{});const n=ec.get(r),s=JSON.stringify(t);return n[s]||(n[s]=new IntersectionObserver(LN,{root:e,...t})),n[s]}function MN(e,t,r){const n=DN(t);return ku.set(e,r),n.observe(e),()=>{ku.delete(e),n.unobserve(e)}}const UN={some:0,all:1};class FN extends rn{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:r,margin:n,amount:s="some",once:o}=t,a={root:r?r.current:void 0,rootMargin:n,threshold:typeof s=="number"?s:UN[s]},l=c=>{const{isIntersecting:u}=c;if(this.isInView===u||(this.isInView=u,o&&!u&&this.hasEnteredView))return;u&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",u);const{onViewportEnter:d,onViewportLeave:h}=this.node.getProps(),f=u?d:h;f&&f(c)};return MN(this.node.current,a,l)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:r}=this.node;["amount","margin","root"].some($N(t,r))&&this.startObserver()}unmount(){}}function $N({viewport:e={}},{viewport:t={}}={}){return r=>e[r]!==t[r]}const VN={inView:{Feature:FN},tap:{Feature:RN},focus:{Feature:IN},hover:{Feature:AN}};function Lx(e,t){if(!Array.isArray(t))return!1;const r=t.length;if(r!==e.length)return!1;for(let n=0;n<r;n++)if(t[n]!==e[n])return!1;return!0}function BN(e){const t={};return e.values.forEach((r,n)=>t[n]=r.get()),t}function zN(e){const t={};return e.values.forEach((r,n)=>t[n]=r.getVelocity()),t}function dl(e,t,r){const n=e.getProps();return ah(n,t,r!==void 0?r:n.custom,BN(e),zN(e))}let qN=ye,lh=ye;const zr=e=>e*1e3,lr=e=>e/1e3,WN={current:!1},Dx=e=>Array.isArray(e)&&typeof e[0]=="number";function Mx(e){return!!(!e||typeof e=="string"&&Ux[e]||Dx(e)||Array.isArray(e)&&e.every(Mx))}const si=([e,t,r,n])=>`cubic-bezier(${e}, ${t}, ${r}, ${n})`,Ux={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:si([0,.65,.55,1]),circOut:si([.55,0,1,.45]),backIn:si([.31,.01,.66,-.59]),backOut:si([.33,1.53,.69,.99])};function Fx(e){if(e)return Dx(e)?si(e):Array.isArray(e)?e.map(Fx):Ux[e]}function HN(e,t,r,{delay:n=0,duration:s,repeat:o=0,repeatType:a="loop",ease:l,times:c}={}){const u={[t]:r};c&&(u.offset=c);const d=Fx(l);return Array.isArray(d)&&(u.easing=d),e.animate(u,{delay:n,duration:s,easing:Array.isArray(d)?"linear":d,fill:"both",iterations:o+1,direction:a==="reverse"?"alternate":"normal"})}function KN(e,{repeat:t,repeatType:r="loop"}){const n=t&&r!=="loop"&&t%2===1?0:e.length-1;return e[n]}const $x=(e,t,r)=>(((1-3*r+3*t)*e+(3*r-6*t))*e+3*t)*e,GN=1e-7,YN=12;function JN(e,t,r,n,s){let o,a,l=0;do a=t+(r-t)/2,o=$x(a,n,s)-e,o>0?r=a:t=a;while(Math.abs(o)>GN&&++l<YN);return a}function to(e,t,r,n){if(e===t&&r===n)return ye;const s=o=>JN(o,0,1,e,r);return o=>o===0||o===1?o:$x(s(o),t,n)}const QN=to(.42,0,1,1),ZN=to(0,0,.58,1),Vx=to(.42,0,.58,1),XN=e=>Array.isArray(e)&&typeof e[0]!="number",Bx=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,zx=e=>t=>1-e(1-t),ch=e=>1-Math.sin(Math.acos(e)),qx=zx(ch),eS=Bx(ch),Wx=to(.33,1.53,.69,.99),uh=zx(Wx),tS=Bx(uh),rS=e=>(e*=2)<1?.5*uh(e):.5*(2-Math.pow(2,-10*(e-1))),nS={linear:ye,easeIn:QN,easeInOut:Vx,easeOut:ZN,circIn:ch,circInOut:eS,circOut:qx,backIn:uh,backInOut:tS,backOut:Wx,anticipate:rS},um=e=>{if(Array.isArray(e)){lh(e.length===4);const[t,r,n,s]=e;return to(t,r,n,s)}else if(typeof e=="string")return nS[e];return e},dh=(e,t)=>r=>!!(Xi(r)&&sN.test(r)&&r.startsWith(e)||t&&Object.prototype.hasOwnProperty.call(r,t)),Hx=(e,t,r)=>n=>{if(!Xi(n))return n;const[s,o,a,l]=n.match(cl);return{[e]:parseFloat(s),[t]:parseFloat(o),[r]:parseFloat(a),alpha:l!==void 0?parseFloat(l):1}},sS=e=>Jr(0,255,e),tc={...An,transform:e=>Math.round(sS(e))},xn={test:dh("rgb","red"),parse:Hx("red","green","blue"),transform:({red:e,green:t,blue:r,alpha:n=1})=>"rgba("+tc.transform(e)+", "+tc.transform(t)+", "+tc.transform(r)+", "+yi(gi.transform(n))+")"};function iS(e){let t="",r="",n="",s="";return e.length>5?(t=e.substring(1,3),r=e.substring(3,5),n=e.substring(5,7),s=e.substring(7,9)):(t=e.substring(1,2),r=e.substring(2,3),n=e.substring(3,4),s=e.substring(4,5),t+=t,r+=r,n+=n,s+=s),{red:parseInt(t,16),green:parseInt(r,16),blue:parseInt(n,16),alpha:s?parseInt(s,16)/255:1}}const Pu={test:dh("#"),parse:iS,transform:xn.transform},ns={test:dh("hsl","hue"),parse:Hx("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:r,alpha:n=1})=>"hsla("+Math.round(e)+", "+Yt.transform(yi(t))+", "+Yt.transform(yi(r))+", "+yi(gi.transform(n))+")"},We={test:e=>xn.test(e)||Pu.test(e)||ns.test(e),parse:e=>xn.test(e)?xn.parse(e):ns.test(e)?ns.parse(e):Pu.parse(e),transform:e=>Xi(e)?e:e.hasOwnProperty("red")?xn.transform(e):ns.transform(e)},he=(e,t,r)=>-r*e+r*t+e;function rc(e,t,r){return r<0&&(r+=1),r>1&&(r-=1),r<1/6?e+(t-e)*6*r:r<1/2?t:r<2/3?e+(t-e)*(2/3-r)*6:e}function oS({hue:e,saturation:t,lightness:r,alpha:n}){e/=360,t/=100,r/=100;let s=0,o=0,a=0;if(!t)s=o=a=r;else{const l=r<.5?r*(1+t):r+t-r*t,c=2*r-l;s=rc(c,l,e+1/3),o=rc(c,l,e),a=rc(c,l,e-1/3)}return{red:Math.round(s*255),green:Math.round(o*255),blue:Math.round(a*255),alpha:n}}const nc=(e,t,r)=>{const n=e*e;return Math.sqrt(Math.max(0,r*(t*t-n)+n))},aS=[Pu,xn,ns],lS=e=>aS.find(t=>t.test(e));function dm(e){const t=lS(e);let r=t.parse(e);return t===ns&&(r=oS(r)),r}const Kx=(e,t)=>{const r=dm(e),n=dm(t),s={...r};return o=>(s.red=nc(r.red,n.red,o),s.green=nc(r.green,n.green,o),s.blue=nc(r.blue,n.blue,o),s.alpha=he(r.alpha,n.alpha,o),xn.transform(s))};function cS(e){var t,r;return isNaN(e)&&Xi(e)&&(((t=e.match(cl))===null||t===void 0?void 0:t.length)||0)+(((r=e.match(vx))===null||r===void 0?void 0:r.length)||0)>0}const Gx={regex:rN,countKey:"Vars",token:"${v}",parse:ye},Yx={regex:vx,countKey:"Colors",token:"${c}",parse:We.parse},Jx={regex:cl,countKey:"Numbers",token:"${n}",parse:An.parse};function sc(e,{regex:t,countKey:r,token:n,parse:s}){const o=e.tokenised.match(t);o&&(e["num"+r]=o.length,e.tokenised=e.tokenised.replace(t,n),e.values.push(...o.map(s)))}function Ta(e){const t=e.toString(),r={value:t,tokenised:t,values:[],numVars:0,numColors:0,numNumbers:0};return r.value.includes("var(--")&&sc(r,Gx),sc(r,Yx),sc(r,Jx),r}function Qx(e){return Ta(e).values}function Zx(e){const{values:t,numColors:r,numVars:n,tokenised:s}=Ta(e),o=t.length;return a=>{let l=s;for(let c=0;c<o;c++)c<n?l=l.replace(Gx.token,a[c]):c<n+r?l=l.replace(Yx.token,We.transform(a[c])):l=l.replace(Jx.token,yi(a[c]));return l}}const uS=e=>typeof e=="number"?0:e;function dS(e){const t=Qx(e);return Zx(e)(t.map(uS))}const Qr={test:cS,parse:Qx,createTransformer:Zx,getAnimatableNone:dS},Xx=(e,t)=>r=>`${r>0?t:e}`;function e0(e,t){return typeof e=="number"?r=>he(e,t,r):We.test(e)?Kx(e,t):e.startsWith("var(")?Xx(e,t):r0(e,t)}const t0=(e,t)=>{const r=[...e],n=r.length,s=e.map((o,a)=>e0(o,t[a]));return o=>{for(let a=0;a<n;a++)r[a]=s[a](o);return r}},hS=(e,t)=>{const r={...e,...t},n={};for(const s in r)e[s]!==void 0&&t[s]!==void 0&&(n[s]=e0(e[s],t[s]));return s=>{for(const o in n)r[o]=n[o](s);return r}},r0=(e,t)=>{const r=Qr.createTransformer(t),n=Ta(e),s=Ta(t);return n.numVars===s.numVars&&n.numColors===s.numColors&&n.numNumbers>=s.numNumbers?Br(t0(n.values,s.values),r):Xx(e,t)},zi=(e,t,r)=>{const n=t-e;return n===0?1:(r-e)/n},hm=(e,t)=>r=>he(e,t,r);function fS(e){return typeof e=="number"?hm:typeof e=="string"?We.test(e)?Kx:r0:Array.isArray(e)?t0:typeof e=="object"?hS:hm}function mS(e,t,r){const n=[],s=r||fS(e[0]),o=e.length-1;for(let a=0;a<o;a++){let l=s(e[a],e[a+1]);if(t){const c=Array.isArray(t)?t[a]||ye:t;l=Br(c,l)}n.push(l)}return n}function n0(e,t,{clamp:r=!0,ease:n,mixer:s}={}){const o=e.length;if(lh(o===t.length),o===1)return()=>t[0];e[0]>e[o-1]&&(e=[...e].reverse(),t=[...t].reverse());const a=mS(t,n,s),l=a.length,c=u=>{let d=0;if(l>1)for(;d<e.length-2&&!(u<e[d+1]);d++);const h=zi(e[d],e[d+1],u);return a[d](h)};return r?u=>c(Jr(e[0],e[o-1],u)):c}function pS(e,t){const r=e[e.length-1];for(let n=1;n<=t;n++){const s=zi(0,t,n);e.push(he(r,1,s))}}function gS(e){const t=[0];return pS(t,e.length-1),t}function yS(e,t){return e.map(r=>r*t)}function xS(e,t){return e.map(()=>t||Vx).splice(0,e.length-1)}function Aa({duration:e=300,keyframes:t,times:r,ease:n="easeInOut"}){const s=XN(n)?n.map(um):um(n),o={done:!1,value:t[0]},a=yS(r&&r.length===t.length?r:gS(t),e),l=n0(a,t,{ease:Array.isArray(s)?s:xS(t,s)});return{calculatedDuration:e,next:c=>(o.value=l(c),o.done=c>=e,o)}}function s0(e,t){return t?e*(1e3/t):0}const vS=5;function i0(e,t,r){const n=Math.max(t-vS,0);return s0(r-e(n),t-n)}const ic=.001,wS=.01,fm=10,bS=.05,jS=1;function NS({duration:e=800,bounce:t=.25,velocity:r=0,mass:n=1}){let s,o;qN(e<=zr(fm));let a=1-t;a=Jr(bS,jS,a),e=Jr(wS,fm,lr(e)),a<1?(s=u=>{const d=u*a,h=d*e,f=d-r,p=Cu(u,a),v=Math.exp(-h);return ic-f/p*v},o=u=>{const h=u*a*e,f=h*r+r,p=Math.pow(a,2)*Math.pow(u,2)*e,v=Math.exp(-h),b=Cu(Math.pow(u,2),a);return(-s(u)+ic>0?-1:1)*((f-p)*v)/b}):(s=u=>{const d=Math.exp(-u*e),h=(u-r)*e+1;return-ic+d*h},o=u=>{const d=Math.exp(-u*e),h=(r-u)*(e*e);return d*h});const l=5/e,c=_S(s,o,l);if(e=zr(e),isNaN(c))return{stiffness:100,damping:10,duration:e};{const u=Math.pow(c,2)*n;return{stiffness:u,damping:a*2*Math.sqrt(n*u),duration:e}}}const SS=12;function _S(e,t,r){let n=r;for(let s=1;s<SS;s++)n=n-e(n)/t(n);return n}function Cu(e,t){return e*Math.sqrt(1-t*t)}const kS=["duration","bounce"],PS=["stiffness","damping","mass"];function mm(e,t){return t.some(r=>e[r]!==void 0)}function CS(e){let t={velocity:0,stiffness:100,damping:10,mass:1,isResolvedFromDuration:!1,...e};if(!mm(e,PS)&&mm(e,kS)){const r=NS(e);t={...t,...r,mass:1},t.isResolvedFromDuration=!0}return t}function o0({keyframes:e,restDelta:t,restSpeed:r,...n}){const s=e[0],o=e[e.length-1],a={done:!1,value:s},{stiffness:l,damping:c,mass:u,duration:d,velocity:h,isResolvedFromDuration:f}=CS({...n,velocity:-lr(n.velocity||0)}),p=h||0,v=c/(2*Math.sqrt(l*u)),b=o-s,w=lr(Math.sqrt(l/u)),g=Math.abs(b)<5;r||(r=g?.01:2),t||(t=g?.005:.5);let y;if(v<1){const m=Cu(w,v);y=j=>{const N=Math.exp(-v*w*j);return o-N*((p+v*w*b)/m*Math.sin(m*j)+b*Math.cos(m*j))}}else if(v===1)y=m=>o-Math.exp(-w*m)*(b+(p+w*b)*m);else{const m=w*Math.sqrt(v*v-1);y=j=>{const N=Math.exp(-v*w*j),E=Math.min(m*j,300);return o-N*((p+v*w*b)*Math.sinh(E)+m*b*Math.cosh(E))/m}}return{calculatedDuration:f&&d||null,next:m=>{const j=y(m);if(f)a.done=m>=d;else{let N=p;m!==0&&(v<1?N=i0(y,m,j):N=0);const E=Math.abs(N)<=r,P=Math.abs(o-j)<=t;a.done=E&&P}return a.value=a.done?o:j,a}}}function pm({keyframes:e,velocity:t=0,power:r=.8,timeConstant:n=325,bounceDamping:s=10,bounceStiffness:o=500,modifyTarget:a,min:l,max:c,restDelta:u=.5,restSpeed:d}){const h=e[0],f={done:!1,value:h},p=T=>l!==void 0&&T<l||c!==void 0&&T>c,v=T=>l===void 0?c:c===void 0||Math.abs(l-T)<Math.abs(c-T)?l:c;let b=r*t;const w=h+b,g=a===void 0?w:a(w);g!==w&&(b=g-h);const y=T=>-b*Math.exp(-T/n),m=T=>g+y(T),j=T=>{const $=y(T),V=m(T);f.done=Math.abs($)<=u,f.value=f.done?g:V};let N,E;const P=T=>{p(f.value)&&(N=T,E=o0({keyframes:[f.value,v(f.value)],velocity:i0(m,T,f.value),damping:s,stiffness:o,restDelta:u,restSpeed:d}))};return P(0),{calculatedDuration:null,next:T=>{let $=!1;return!E&&N===void 0&&($=!0,j(T),P(T)),N!==void 0&&T>N?E.next(T-N):(!$&&j(T),f)}}}const ES=e=>{const t=({timestamp:r})=>e(r);return{start:()=>ae.update(t,!0),stop:()=>fr(t),now:()=>Ue.isProcessing?Ue.timestamp:performance.now()}},gm=2e4;function ym(e){let t=0;const r=50;let n=e.next(t);for(;!n.done&&t<gm;)t+=r,n=e.next(t);return t>=gm?1/0:t}const TS={decay:pm,inertia:pm,tween:Aa,keyframes:Aa,spring:o0};function Ia({autoplay:e=!0,delay:t=0,driver:r=ES,keyframes:n,type:s="keyframes",repeat:o=0,repeatDelay:a=0,repeatType:l="loop",onPlay:c,onStop:u,onComplete:d,onUpdate:h,...f}){let p=1,v=!1,b,w;const g=()=>{w=new Promise(S=>{b=S})};g();let y;const m=TS[s]||Aa;let j;m!==Aa&&typeof n[0]!="number"&&(j=n0([0,100],n,{clamp:!1}),n=[0,100]);const N=m({...f,keyframes:n});let E;l==="mirror"&&(E=m({...f,keyframes:[...n].reverse(),velocity:-(f.velocity||0)}));let P="idle",T=null,$=null,V=null;N.calculatedDuration===null&&o&&(N.calculatedDuration=ym(N));const{calculatedDuration:D}=N;let z=1/0,k=1/0;D!==null&&(z=D+a,k=z*(o+1)-a);let _=0;const R=S=>{if($===null)return;p>0&&($=Math.min($,S)),p<0&&($=Math.min(S-k/p,$)),T!==null?_=T:_=Math.round(S-$)*p;const F=_-t*(p>=0?1:-1),se=p>=0?F<0:F>k;_=Math.max(F,0),P==="finished"&&T===null&&(_=k);let B=_,ee=N;if(o){const ct=Math.min(_,k)/z;let Qt=Math.floor(ct),Zt=ct%1;!Zt&&ct>=1&&(Zt=1),Zt===1&&Qt--,Qt=Math.min(Qt,o+1),!!(Qt%2)&&(l==="reverse"?(Zt=1-Zt,a&&(Zt-=a/z)):l==="mirror"&&(ee=E)),B=Jr(0,1,Zt)*z}const re=se?{done:!1,value:n[0]}:ee.next(B);j&&(re.value=j(re.value));let{done:Se}=re;!se&&D!==null&&(Se=p>=0?_>=k:_<=0);const Jt=T===null&&(P==="finished"||P==="running"&&Se);return h&&h(re.value),Jt&&C(),re},M=()=>{y&&y.stop(),y=void 0},q=()=>{P="idle",M(),b(),g(),$=V=null},C=()=>{P="finished",d&&d(),M(),b()},A=()=>{if(v)return;y||(y=r(R));const S=y.now();c&&c(),T!==null?$=S-T:(!$||P==="finished")&&($=S),P==="finished"&&g(),V=$,T=null,P="running",y.start()};e&&A();const I={then(S,F){return w.then(S,F)},get time(){return lr(_)},set time(S){S=zr(S),_=S,T!==null||!y||p===0?T=S:$=y.now()-S/p},get duration(){const S=N.calculatedDuration===null?ym(N):N.calculatedDuration;return lr(S)},get speed(){return p},set speed(S){S===p||!y||(p=S,I.time=lr(_))},get state(){return P},play:A,pause:()=>{P="paused",T=_},stop:()=>{v=!0,P!=="idle"&&(P="idle",u&&u(),q())},cancel:()=>{V!==null&&R(V),q()},complete:()=>{P="finished"},sample:S=>($=0,R(S))};return I}function AS(e){let t;return()=>(t===void 0&&(t=e()),t)}const IS=AS(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),RS=new Set(["opacity","clipPath","filter","transform","backgroundColor"]),To=10,OS=2e4,LS=(e,t)=>t.type==="spring"||e==="backgroundColor"||!Mx(t.ease);function DS(e,t,{onUpdate:r,onComplete:n,...s}){if(!(IS()&&RS.has(t)&&!s.repeatDelay&&s.repeatType!=="mirror"&&s.damping!==0&&s.type!=="inertia"))return!1;let a=!1,l,c,u=!1;const d=()=>{c=new Promise(m=>{l=m})};d();let{keyframes:h,duration:f=300,ease:p,times:v}=s;if(LS(t,s)){const m=Ia({...s,repeat:0,delay:0});let j={done:!1,value:h[0]};const N=[];let E=0;for(;!j.done&&E<OS;)j=m.sample(E),N.push(j.value),E+=To;v=void 0,h=N,f=E-To,p="linear"}const b=HN(e.owner.current,t,h,{...s,duration:f,ease:p,times:v}),w=()=>{u=!1,b.cancel()},g=()=>{u=!0,ae.update(w),l(),d()};return b.onfinish=()=>{u||(e.set(KN(h,s)),n&&n(),g())},{then(m,j){return c.then(m,j)},attachTimeline(m){return b.timeline=m,b.onfinish=null,ye},get time(){return lr(b.currentTime||0)},set time(m){b.currentTime=zr(m)},get speed(){return b.playbackRate},set speed(m){b.playbackRate=m},get duration(){return lr(f)},play:()=>{a||(b.play(),fr(w))},pause:()=>b.pause(),stop:()=>{if(a=!0,b.playState==="idle")return;const{currentTime:m}=b;if(m){const j=Ia({...s,autoplay:!1});e.setWithVelocity(j.sample(m-To).value,j.sample(m).value,To)}g()},complete:()=>{u||b.finish()},cancel:g}}function MS({keyframes:e,delay:t,onUpdate:r,onComplete:n}){const s=()=>(r&&r(e[e.length-1]),n&&n(),{time:0,speed:1,duration:0,play:ye,pause:ye,stop:ye,then:o=>(o(),Promise.resolve()),cancel:ye,complete:ye});return t?Ia({keyframes:[0,1],duration:0,delay:t,onComplete:s}):s()}const US={type:"spring",stiffness:500,damping:25,restSpeed:10},FS=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),$S={type:"keyframes",duration:.8},VS={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},BS=(e,{keyframes:t})=>t.length>2?$S:Tn.has(e)?e.startsWith("scale")?FS(t[1]):US:VS,Eu=(e,t)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(Qr.test(t)||t==="0")&&!t.startsWith("url(")),zS=new Set(["brightness","contrast","saturate","opacity"]);function qS(e){const[t,r]=e.slice(0,-1).split("(");if(t==="drop-shadow")return e;const[n]=r.match(cl)||[];if(!n)return e;const s=r.replace(n,"");let o=zS.has(t)?1:0;return n!==r&&(o*=100),t+"("+o+s+")"}const WS=/([a-z-]*)\(.*?\)/g,Tu={...Qr,getAnimatableNone:e=>{const t=e.match(WS);return t?t.map(qS).join(" "):e}},HS={...wx,color:We,backgroundColor:We,outlineColor:We,fill:We,stroke:We,borderColor:We,borderTopColor:We,borderRightColor:We,borderBottomColor:We,borderLeftColor:We,filter:Tu,WebkitFilter:Tu},hh=e=>HS[e];function a0(e,t){let r=hh(e);return r!==Tu&&(r=Qr),r.getAnimatableNone?r.getAnimatableNone(t):void 0}const l0=e=>/^0[^.\s]+$/.test(e);function KS(e){if(typeof e=="number")return e===0;if(e!==null)return e==="none"||e==="0"||l0(e)}function GS(e,t,r,n){const s=Eu(t,r);let o;Array.isArray(r)?o=[...r]:o=[null,r];const a=n.from!==void 0?n.from:e.get();let l;const c=[];for(let u=0;u<o.length;u++)o[u]===null&&(o[u]=u===0?a:o[u-1]),KS(o[u])&&c.push(u),typeof o[u]=="string"&&o[u]!=="none"&&o[u]!=="0"&&(l=o[u]);if(s&&c.length&&l)for(let u=0;u<c.length;u++){const d=c[u];o[d]=a0(t,l)}return o}function YS({when:e,delay:t,delayChildren:r,staggerChildren:n,staggerDirection:s,repeat:o,repeatType:a,repeatDelay:l,from:c,elapsed:u,...d}){return!!Object.keys(d).length}function fh(e,t){return e[t]||e.default||e}const JS={skipAnimations:!1},mh=(e,t,r,n={})=>s=>{const o=fh(n,e)||{},a=o.delay||n.delay||0;let{elapsed:l=0}=n;l=l-zr(a);const c=GS(t,e,r,o),u=c[0],d=c[c.length-1],h=Eu(e,u),f=Eu(e,d);let p={keyframes:c,velocity:t.getVelocity(),ease:"easeOut",...o,delay:-l,onUpdate:v=>{t.set(v),o.onUpdate&&o.onUpdate(v)},onComplete:()=>{s(),o.onComplete&&o.onComplete()}};if(YS(o)||(p={...p,...BS(e,p)}),p.duration&&(p.duration=zr(p.duration)),p.repeatDelay&&(p.repeatDelay=zr(p.repeatDelay)),!h||!f||WN.current||o.type===!1||JS.skipAnimations)return MS(p);if(!n.isHandoff&&t.owner&&t.owner.current instanceof HTMLElement&&!t.owner.getProps().onUpdate){const v=DS(t,e,p);if(v)return v}return Ia(p)};function Ra(e){return!!(lt(e)&&e.add)}const c0=e=>/^\-?\d*\.?\d+$/.test(e);function ph(e,t){e.indexOf(t)===-1&&e.push(t)}function gh(e,t){const r=e.indexOf(t);r>-1&&e.splice(r,1)}class yh{constructor(){this.subscriptions=[]}add(t){return ph(this.subscriptions,t),()=>gh(this.subscriptions,t)}notify(t,r,n){const s=this.subscriptions.length;if(s)if(s===1)this.subscriptions[0](t,r,n);else for(let o=0;o<s;o++){const a=this.subscriptions[o];a&&a(t,r,n)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const QS=e=>!isNaN(parseFloat(e));class ZS{constructor(t,r={}){this.version="10.18.0",this.timeDelta=0,this.lastUpdated=0,this.canTrackVelocity=!1,this.events={},this.updateAndNotify=(n,s=!0)=>{this.prev=this.current,this.current=n;const{delta:o,timestamp:a}=Ue;this.lastUpdated!==a&&(this.timeDelta=o,this.lastUpdated=a,ae.postRender(this.scheduleVelocityCheck)),this.prev!==this.current&&this.events.change&&this.events.change.notify(this.current),this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()),s&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.scheduleVelocityCheck=()=>ae.postRender(this.velocityCheck),this.velocityCheck=({timestamp:n})=>{n!==this.lastUpdated&&(this.prev=this.current,this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()))},this.hasAnimated=!1,this.prev=this.current=t,this.canTrackVelocity=QS(this.current),this.owner=r.owner}onChange(t){return this.on("change",t)}on(t,r){this.events[t]||(this.events[t]=new yh);const n=this.events[t].add(r);return t==="change"?()=>{n(),ae.read(()=>{this.events.change.getSize()||this.stop()})}:n}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,r){this.passiveEffect=t,this.stopPassiveEffect=r}set(t,r=!0){!r||!this.passiveEffect?this.updateAndNotify(t,r):this.passiveEffect(t,this.updateAndNotify)}setWithVelocity(t,r,n){this.set(r),this.prev=t,this.timeDelta=n}jump(t){this.updateAndNotify(t),this.prev=t,this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){return this.canTrackVelocity?s0(parseFloat(this.current)-parseFloat(this.prev),this.timeDelta):0}start(t){return this.stop(),new Promise(r=>{this.hasAnimated=!0,this.animation=t(r),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Ns(e,t){return new ZS(e,t)}const u0=e=>t=>t.test(e),XS={test:e=>e==="auto",parse:e=>e},d0=[An,Y,Yt,wr,oN,iN,XS],Ys=e=>d0.find(u0(e)),e_=[...d0,We,Qr],t_=e=>e_.find(u0(e));function r_(e,t,r){e.hasValue(t)?e.getValue(t).set(r):e.addValue(t,Ns(r))}function n_(e,t){const r=dl(e,t);let{transitionEnd:n={},transition:s={},...o}=r?e.makeTargetAnimatable(r,!1):{};o={...o,...n};for(const a in o){const l=wN(o[a]);r_(e,a,l)}}function s_(e,t,r){var n,s;const o=Object.keys(t).filter(l=>!e.hasValue(l)),a=o.length;if(a)for(let l=0;l<a;l++){const c=o[l],u=t[c];let d=null;Array.isArray(u)&&(d=u[0]),d===null&&(d=(s=(n=r[c])!==null&&n!==void 0?n:e.readValue(c))!==null&&s!==void 0?s:t[c]),d!=null&&(typeof d=="string"&&(c0(d)||l0(d))?d=parseFloat(d):!t_(d)&&Qr.test(u)&&(d=a0(c,u)),e.addValue(c,Ns(d,{owner:e})),r[c]===void 0&&(r[c]=d),d!==null&&e.setBaseTarget(c,d))}}function i_(e,t){return t?(t[e]||t.default||t).from:void 0}function o_(e,t,r){const n={};for(const s in e){const o=i_(s,t);if(o!==void 0)n[s]=o;else{const a=r.getValue(s);a&&(n[s]=a.get())}}return n}function a_({protectedKeys:e,needsAnimating:t},r){const n=e.hasOwnProperty(r)&&t[r]!==!0;return t[r]=!1,n}function l_(e,t){const r=e.get();if(Array.isArray(t)){for(let n=0;n<t.length;n++)if(t[n]!==r)return!0}else return r!==t}function h0(e,t,{delay:r=0,transitionOverride:n,type:s}={}){let{transition:o=e.getDefaultTransition(),transitionEnd:a,...l}=e.makeTargetAnimatable(t);const c=e.getValue("willChange");n&&(o=n);const u=[],d=s&&e.animationState&&e.animationState.getState()[s];for(const h in l){const f=e.getValue(h),p=l[h];if(!f||p===void 0||d&&a_(d,h))continue;const v={delay:r,elapsed:0,...fh(o||{},h)};if(window.HandoffAppearAnimations){const g=e.getProps()[fx];if(g){const y=window.HandoffAppearAnimations(g,h,f,ae);y!==null&&(v.elapsed=y,v.isHandoff=!0)}}let b=!v.isHandoff&&!l_(f,p);if(v.type==="spring"&&(f.getVelocity()||v.velocity)&&(b=!1),f.animation&&(b=!1),b)continue;f.start(mh(h,f,p,e.shouldReduceMotion&&Tn.has(h)?{type:!1}:v));const w=f.animation;Ra(c)&&(c.add(h),w.then(()=>c.remove(h))),u.push(w)}return a&&Promise.all(u).then(()=>{a&&n_(e,a)}),u}function Au(e,t,r={}){const n=dl(e,t,r.custom);let{transition:s=e.getDefaultTransition()||{}}=n||{};r.transitionOverride&&(s=r.transitionOverride);const o=n?()=>Promise.all(h0(e,n,r)):()=>Promise.resolve(),a=e.variantChildren&&e.variantChildren.size?(c=0)=>{const{delayChildren:u=0,staggerChildren:d,staggerDirection:h}=s;return c_(e,t,u+c,d,h,r)}:()=>Promise.resolve(),{when:l}=s;if(l){const[c,u]=l==="beforeChildren"?[o,a]:[a,o];return c().then(()=>u())}else return Promise.all([o(),a(r.delay)])}function c_(e,t,r=0,n=0,s=1,o){const a=[],l=(e.variantChildren.size-1)*n,c=s===1?(u=0)=>u*n:(u=0)=>l-u*n;return Array.from(e.variantChildren).sort(u_).forEach((u,d)=>{u.notify("AnimationStart",t),a.push(Au(u,t,{...o,delay:r+c(d)}).then(()=>u.notify("AnimationComplete",t)))}),Promise.all(a)}function u_(e,t){return e.sortNodePosition(t)}function d_(e,t,r={}){e.notify("AnimationStart",t);let n;if(Array.isArray(t)){const s=t.map(o=>Au(e,o,r));n=Promise.all(s)}else if(typeof t=="string")n=Au(e,t,r);else{const s=typeof t=="function"?dl(e,t,r.custom):t;n=Promise.all(h0(e,s,r))}return n.then(()=>e.notify("AnimationComplete",t))}const h_=[...Zd].reverse(),f_=Zd.length;function m_(e){return t=>Promise.all(t.map(({animation:r,options:n})=>d_(e,r,n)))}function p_(e){let t=m_(e);const r=y_();let n=!0;const s=(c,u)=>{const d=dl(e,u);if(d){const{transition:h,transitionEnd:f,...p}=d;c={...c,...p,...f}}return c};function o(c){t=c(e)}function a(c,u){const d=e.getProps(),h=e.getVariantContext(!0)||{},f=[],p=new Set;let v={},b=1/0;for(let g=0;g<f_;g++){const y=h_[g],m=r[y],j=d[y]!==void 0?d[y]:h[y],N=Vi(j),E=y===u?m.isActive:null;E===!1&&(b=g);let P=j===h[y]&&j!==d[y]&&N;if(P&&n&&e.manuallyAnimateOnMount&&(P=!1),m.protectedKeys={...v},!m.isActive&&E===null||!j&&!m.prevProp||al(j)||typeof j=="boolean")continue;let $=g_(m.prevProp,j)||y===u&&m.isActive&&!P&&N||g>b&&N,V=!1;const D=Array.isArray(j)?j:[j];let z=D.reduce(s,{});E===!1&&(z={});const{prevResolvedValues:k={}}=m,_={...k,...z},R=M=>{$=!0,p.has(M)&&(V=!0,p.delete(M)),m.needsAnimating[M]=!0};for(const M in _){const q=z[M],C=k[M];if(v.hasOwnProperty(M))continue;let A=!1;Ea(q)&&Ea(C)?A=!Lx(q,C):A=q!==C,A?q!==void 0?R(M):p.add(M):q!==void 0&&p.has(M)?R(M):m.protectedKeys[M]=!0}m.prevProp=j,m.prevResolvedValues=z,m.isActive&&(v={...v,...z}),n&&e.blockInitialAnimation&&($=!1),$&&(!P||V)&&f.push(...D.map(M=>({animation:M,options:{type:y,...c}})))}if(p.size){const g={};p.forEach(y=>{const m=e.getBaseTarget(y);m!==void 0&&(g[y]=m)}),f.push({animation:g})}let w=!!f.length;return n&&(d.initial===!1||d.initial===d.animate)&&!e.manuallyAnimateOnMount&&(w=!1),n=!1,w?t(f):Promise.resolve()}function l(c,u,d){var h;if(r[c].isActive===u)return Promise.resolve();(h=e.variantChildren)===null||h===void 0||h.forEach(p=>{var v;return(v=p.animationState)===null||v===void 0?void 0:v.setActive(c,u)}),r[c].isActive=u;const f=a(d,c);for(const p in r)r[p].protectedKeys={};return f}return{animateChanges:a,setActive:l,setAnimateFunction:o,getState:()=>r}}function g_(e,t){return typeof t=="string"?t!==e:Array.isArray(t)?!Lx(t,e):!1}function sn(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function y_(){return{animate:sn(!0),whileInView:sn(),whileHover:sn(),whileTap:sn(),whileDrag:sn(),whileFocus:sn(),exit:sn()}}class x_ extends rn{constructor(t){super(t),t.animationState||(t.animationState=p_(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();this.unmount(),al(t)&&(this.unmount=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:r}=this.node.prevProps||{};t!==r&&this.updateAnimationControlsSubscription()}unmount(){}}let v_=0;class w_ extends rn{constructor(){super(...arguments),this.id=v_++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:r,custom:n}=this.node.presenceContext,{isPresent:s}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===s)return;const o=this.node.animationState.setActive("exit",!t,{custom:n??this.node.getProps().custom});r&&!t&&o.then(()=>r(this.id))}mount(){const{register:t}=this.node.presenceContext||{};t&&(this.unmount=t(this.id))}unmount(){}}const b_={animation:{Feature:x_},exit:{Feature:w_}},xm=(e,t)=>Math.abs(e-t);function j_(e,t){const r=xm(e.x,t.x),n=xm(e.y,t.y);return Math.sqrt(r**2+n**2)}class f0{constructor(t,r,{transformPagePoint:n,contextWindow:s,dragSnapToOrigin:o=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const h=ac(this.lastMoveEventInfo,this.history),f=this.startEvent!==null,p=j_(h.offset,{x:0,y:0})>=3;if(!f&&!p)return;const{point:v}=h,{timestamp:b}=Ue;this.history.push({...v,timestamp:b});const{onStart:w,onMove:g}=this.handlers;f||(w&&w(this.lastMoveEvent,h),this.startEvent=this.lastMoveEvent),g&&g(this.lastMoveEvent,h)},this.handlePointerMove=(h,f)=>{this.lastMoveEvent=h,this.lastMoveEventInfo=oc(f,this.transformPagePoint),ae.update(this.updatePoint,!0)},this.handlePointerUp=(h,f)=>{this.end();const{onEnd:p,onSessionEnd:v,resumeAnimation:b}=this.handlers;if(this.dragSnapToOrigin&&b&&b(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const w=ac(h.type==="pointercancel"?this.lastMoveEventInfo:oc(f,this.transformPagePoint),this.history);this.startEvent&&p&&p(h,w),v&&v(h,w)},!Tx(t))return;this.dragSnapToOrigin=o,this.handlers=r,this.transformPagePoint=n,this.contextWindow=s||window;const a=ul(t),l=oc(a,this.transformPagePoint),{point:c}=l,{timestamp:u}=Ue;this.history=[{...c,timestamp:u}];const{onSessionStart:d}=r;d&&d(t,ac(l,this.history)),this.removeListeners=Br(ar(this.contextWindow,"pointermove",this.handlePointerMove),ar(this.contextWindow,"pointerup",this.handlePointerUp),ar(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),fr(this.updatePoint)}}function oc(e,t){return t?{point:t(e.point)}:e}function vm(e,t){return{x:e.x-t.x,y:e.y-t.y}}function ac({point:e},t){return{point:e,delta:vm(e,m0(t)),offset:vm(e,N_(t)),velocity:S_(t,.1)}}function N_(e){return e[0]}function m0(e){return e[e.length-1]}function S_(e,t){if(e.length<2)return{x:0,y:0};let r=e.length-1,n=null;const s=m0(e);for(;r>=0&&(n=e[r],!(s.timestamp-n.timestamp>zr(t)));)r--;if(!n)return{x:0,y:0};const o=lr(s.timestamp-n.timestamp);if(o===0)return{x:0,y:0};const a={x:(s.x-n.x)/o,y:(s.y-n.y)/o};return a.x===1/0&&(a.x=0),a.y===1/0&&(a.y=0),a}function pt(e){return e.max-e.min}function Iu(e,t=0,r=.01){return Math.abs(e-t)<=r}function wm(e,t,r,n=.5){e.origin=n,e.originPoint=he(t.min,t.max,e.origin),e.scale=pt(r)/pt(t),(Iu(e.scale,1,1e-4)||isNaN(e.scale))&&(e.scale=1),e.translate=he(r.min,r.max,e.origin)-e.originPoint,(Iu(e.translate)||isNaN(e.translate))&&(e.translate=0)}function xi(e,t,r,n){wm(e.x,t.x,r.x,n?n.originX:void 0),wm(e.y,t.y,r.y,n?n.originY:void 0)}function bm(e,t,r){e.min=r.min+t.min,e.max=e.min+pt(t)}function __(e,t,r){bm(e.x,t.x,r.x),bm(e.y,t.y,r.y)}function jm(e,t,r){e.min=t.min-r.min,e.max=e.min+pt(t)}function vi(e,t,r){jm(e.x,t.x,r.x),jm(e.y,t.y,r.y)}function k_(e,{min:t,max:r},n){return t!==void 0&&e<t?e=n?he(t,e,n.min):Math.max(e,t):r!==void 0&&e>r&&(e=n?he(r,e,n.max):Math.min(e,r)),e}function Nm(e,t,r){return{min:t!==void 0?e.min+t:void 0,max:r!==void 0?e.max+r-(e.max-e.min):void 0}}function P_(e,{top:t,left:r,bottom:n,right:s}){return{x:Nm(e.x,r,s),y:Nm(e.y,t,n)}}function Sm(e,t){let r=t.min-e.min,n=t.max-e.max;return t.max-t.min<e.max-e.min&&([r,n]=[n,r]),{min:r,max:n}}function C_(e,t){return{x:Sm(e.x,t.x),y:Sm(e.y,t.y)}}function E_(e,t){let r=.5;const n=pt(e),s=pt(t);return s>n?r=zi(t.min,t.max-n,e.min):n>s&&(r=zi(e.min,e.max-s,t.min)),Jr(0,1,r)}function T_(e,t){const r={};return t.min!==void 0&&(r.min=t.min-e.min),t.max!==void 0&&(r.max=t.max-e.min),r}const Ru=.35;function A_(e=Ru){return e===!1?e=0:e===!0&&(e=Ru),{x:_m(e,"left","right"),y:_m(e,"top","bottom")}}function _m(e,t,r){return{min:km(e,t),max:km(e,r)}}function km(e,t){return typeof e=="number"?e:e[t]||0}const Pm=()=>({translate:0,scale:1,origin:0,originPoint:0}),ss=()=>({x:Pm(),y:Pm()}),Cm=()=>({min:0,max:0}),be=()=>({x:Cm(),y:Cm()});function wt(e){return[e("x"),e("y")]}function p0({top:e,left:t,right:r,bottom:n}){return{x:{min:t,max:r},y:{min:e,max:n}}}function I_({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}function R_(e,t){if(!t)return e;const r=t({x:e.left,y:e.top}),n=t({x:e.right,y:e.bottom});return{top:r.y,left:r.x,bottom:n.y,right:n.x}}function lc(e){return e===void 0||e===1}function Ou({scale:e,scaleX:t,scaleY:r}){return!lc(e)||!lc(t)||!lc(r)}function un(e){return Ou(e)||g0(e)||e.z||e.rotate||e.rotateX||e.rotateY}function g0(e){return Em(e.x)||Em(e.y)}function Em(e){return e&&e!=="0%"}function Oa(e,t,r){const n=e-r,s=t*n;return r+s}function Tm(e,t,r,n,s){return s!==void 0&&(e=Oa(e,s,n)),Oa(e,r,n)+t}function Lu(e,t=0,r=1,n,s){e.min=Tm(e.min,t,r,n,s),e.max=Tm(e.max,t,r,n,s)}function y0(e,{x:t,y:r}){Lu(e.x,t.translate,t.scale,t.originPoint),Lu(e.y,r.translate,r.scale,r.originPoint)}function O_(e,t,r,n=!1){const s=r.length;if(!s)return;t.x=t.y=1;let o,a;for(let l=0;l<s;l++){o=r[l],a=o.projectionDelta;const c=o.instance;c&&c.style&&c.style.display==="contents"||(n&&o.options.layoutScroll&&o.scroll&&o!==o.root&&is(e,{x:-o.scroll.offset.x,y:-o.scroll.offset.y}),a&&(t.x*=a.x.scale,t.y*=a.y.scale,y0(e,a)),n&&un(o.latestValues)&&is(e,o.latestValues))}t.x=Am(t.x),t.y=Am(t.y)}function Am(e){return Number.isInteger(e)||e>1.0000000000001||e<.999999999999?e:1}function Sr(e,t){e.min=e.min+t,e.max=e.max+t}function Im(e,t,[r,n,s]){const o=t[s]!==void 0?t[s]:.5,a=he(e.min,e.max,o);Lu(e,t[r],t[n],a,t.scale)}const L_=["x","scaleX","originX"],D_=["y","scaleY","originY"];function is(e,t){Im(e.x,t,L_),Im(e.y,t,D_)}function x0(e,t){return p0(R_(e.getBoundingClientRect(),t))}function M_(e,t,r){const n=x0(e,r),{scroll:s}=t;return s&&(Sr(n.x,s.offset.x),Sr(n.y,s.offset.y)),n}const v0=({current:e})=>e?e.ownerDocument.defaultView:null,U_=new WeakMap;class F_{constructor(t){this.openGlobalLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=be(),this.visualElement=t}start(t,{snapToCursor:r=!1}={}){const{presenceContext:n}=this.visualElement;if(n&&n.isPresent===!1)return;const s=d=>{const{dragSnapToOrigin:h}=this.getProps();h?this.pauseAnimation():this.stopAnimation(),r&&this.snapToCursor(ul(d,"page").point)},o=(d,h)=>{const{drag:f,dragPropagation:p,onDragStart:v}=this.getProps();if(f&&!p&&(this.openGlobalLock&&this.openGlobalLock(),this.openGlobalLock=Ix(f),!this.openGlobalLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),wt(w=>{let g=this.getAxisMotionValue(w).get()||0;if(Yt.test(g)){const{projection:y}=this.visualElement;if(y&&y.layout){const m=y.layout.layoutBox[w];m&&(g=pt(m)*(parseFloat(g)/100))}}this.originPoint[w]=g}),v&&ae.update(()=>v(d,h),!1,!0);const{animationState:b}=this.visualElement;b&&b.setActive("whileDrag",!0)},a=(d,h)=>{const{dragPropagation:f,dragDirectionLock:p,onDirectionLock:v,onDrag:b}=this.getProps();if(!f&&!this.openGlobalLock)return;const{offset:w}=h;if(p&&this.currentDirection===null){this.currentDirection=$_(w),this.currentDirection!==null&&v&&v(this.currentDirection);return}this.updateAxis("x",h.point,w),this.updateAxis("y",h.point,w),this.visualElement.render(),b&&b(d,h)},l=(d,h)=>this.stop(d,h),c=()=>wt(d=>{var h;return this.getAnimationState(d)==="paused"&&((h=this.getAxisMotionValue(d).animation)===null||h===void 0?void 0:h.play())}),{dragSnapToOrigin:u}=this.getProps();this.panSession=new f0(t,{onSessionStart:s,onStart:o,onMove:a,onSessionEnd:l,resumeAnimation:c},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:u,contextWindow:v0(this.visualElement)})}stop(t,r){const n=this.isDragging;if(this.cancel(),!n)return;const{velocity:s}=r;this.startAnimation(s);const{onDragEnd:o}=this.getProps();o&&ae.update(()=>o(t,r))}cancel(){this.isDragging=!1;const{projection:t,animationState:r}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:n}=this.getProps();!n&&this.openGlobalLock&&(this.openGlobalLock(),this.openGlobalLock=null),r&&r.setActive("whileDrag",!1)}updateAxis(t,r,n){const{drag:s}=this.getProps();if(!n||!Ao(t,s,this.currentDirection))return;const o=this.getAxisMotionValue(t);let a=this.originPoint[t]+n[t];this.constraints&&this.constraints[t]&&(a=k_(a,this.constraints[t],this.elastic[t])),o.set(a)}resolveConstraints(){var t;const{dragConstraints:r,dragElastic:n}=this.getProps(),s=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(t=this.visualElement.projection)===null||t===void 0?void 0:t.layout,o=this.constraints;r&&rs(r)?this.constraints||(this.constraints=this.resolveRefConstraints()):r&&s?this.constraints=P_(s.layoutBox,r):this.constraints=!1,this.elastic=A_(n),o!==this.constraints&&s&&this.constraints&&!this.hasMutatedConstraints&&wt(a=>{this.getAxisMotionValue(a)&&(this.constraints[a]=T_(s.layoutBox[a],this.constraints[a]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:r}=this.getProps();if(!t||!rs(t))return!1;const n=t.current,{projection:s}=this.visualElement;if(!s||!s.layout)return!1;const o=M_(n,s.root,this.visualElement.getTransformPagePoint());let a=C_(s.layout.layoutBox,o);if(r){const l=r(I_(a));this.hasMutatedConstraints=!!l,l&&(a=p0(l))}return a}startAnimation(t){const{drag:r,dragMomentum:n,dragElastic:s,dragTransition:o,dragSnapToOrigin:a,onDragTransitionEnd:l}=this.getProps(),c=this.constraints||{},u=wt(d=>{if(!Ao(d,r,this.currentDirection))return;let h=c&&c[d]||{};a&&(h={min:0,max:0});const f=s?200:1e6,p=s?40:1e7,v={type:"inertia",velocity:n?t[d]:0,bounceStiffness:f,bounceDamping:p,timeConstant:750,restDelta:1,restSpeed:10,...o,...h};return this.startAxisValueAnimation(d,v)});return Promise.all(u).then(l)}startAxisValueAnimation(t,r){const n=this.getAxisMotionValue(t);return n.start(mh(t,n,0,r))}stopAnimation(){wt(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){wt(t=>{var r;return(r=this.getAxisMotionValue(t).animation)===null||r===void 0?void 0:r.pause()})}getAnimationState(t){var r;return(r=this.getAxisMotionValue(t).animation)===null||r===void 0?void 0:r.state}getAxisMotionValue(t){const r="_drag"+t.toUpperCase(),n=this.visualElement.getProps(),s=n[r];return s||this.visualElement.getValue(t,(n.initial?n.initial[t]:void 0)||0)}snapToCursor(t){wt(r=>{const{drag:n}=this.getProps();if(!Ao(r,n,this.currentDirection))return;const{projection:s}=this.visualElement,o=this.getAxisMotionValue(r);if(s&&s.layout){const{min:a,max:l}=s.layout.layoutBox[r];o.set(t[r]-he(a,l,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:r}=this.getProps(),{projection:n}=this.visualElement;if(!rs(r)||!n||!this.constraints)return;this.stopAnimation();const s={x:0,y:0};wt(a=>{const l=this.getAxisMotionValue(a);if(l){const c=l.get();s[a]=E_({min:c,max:c},this.constraints[a])}});const{transformTemplate:o}=this.visualElement.getProps();this.visualElement.current.style.transform=o?o({},""):"none",n.root&&n.root.updateScroll(),n.updateLayout(),this.resolveConstraints(),wt(a=>{if(!Ao(a,t,null))return;const l=this.getAxisMotionValue(a),{min:c,max:u}=this.constraints[a];l.set(he(c,u,s[a]))})}addListeners(){if(!this.visualElement.current)return;U_.set(this.visualElement,this);const t=this.visualElement.current,r=ar(t,"pointerdown",c=>{const{drag:u,dragListener:d=!0}=this.getProps();u&&d&&this.start(c)}),n=()=>{const{dragConstraints:c}=this.getProps();rs(c)&&(this.constraints=this.resolveRefConstraints())},{projection:s}=this.visualElement,o=s.addEventListener("measure",n);s&&!s.layout&&(s.root&&s.root.updateScroll(),s.updateLayout()),n();const a=ir(window,"resize",()=>this.scalePositionWithinConstraints()),l=s.addEventListener("didUpdate",({delta:c,hasLayoutChanged:u})=>{this.isDragging&&u&&(wt(d=>{const h=this.getAxisMotionValue(d);h&&(this.originPoint[d]+=c[d].translate,h.set(h.get()+c[d].translate))}),this.visualElement.render())});return()=>{a(),r(),o(),l&&l()}}getProps(){const t=this.visualElement.getProps(),{drag:r=!1,dragDirectionLock:n=!1,dragPropagation:s=!1,dragConstraints:o=!1,dragElastic:a=Ru,dragMomentum:l=!0}=t;return{...t,drag:r,dragDirectionLock:n,dragPropagation:s,dragConstraints:o,dragElastic:a,dragMomentum:l}}}function Ao(e,t,r){return(t===!0||t===e)&&(r===null||r===e)}function $_(e,t=10){let r=null;return Math.abs(e.y)>t?r="y":Math.abs(e.x)>t&&(r="x"),r}class V_ extends rn{constructor(t){super(t),this.removeGroupControls=ye,this.removeListeners=ye,this.controls=new F_(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||ye}unmount(){this.removeGroupControls(),this.removeListeners()}}const Rm=e=>(t,r)=>{e&&ae.update(()=>e(t,r))};class B_ extends rn{constructor(){super(...arguments),this.removePointerDownListener=ye}onPointerDown(t){this.session=new f0(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:v0(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:r,onPan:n,onPanEnd:s}=this.node.getProps();return{onSessionStart:Rm(t),onStart:Rm(r),onMove:n,onEnd:(o,a)=>{delete this.session,s&&ae.update(()=>s(o,a))}}}mount(){this.removePointerDownListener=ar(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}function z_(){const e=x.useContext(il);if(e===null)return[!0,null];const{isPresent:t,onExitComplete:r,register:n}=e,s=x.useId();return x.useEffect(()=>n(s),[]),!t&&r?[!1,()=>r&&r(s)]:[!0]}const Zo={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function Om(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const Js={correct:(e,t)=>{if(!t.target)return e;if(typeof e=="string")if(Y.test(e))e=parseFloat(e);else return e;const r=Om(e,t.target.x),n=Om(e,t.target.y);return`${r}% ${n}%`}},q_={correct:(e,{treeScale:t,projectionDelta:r})=>{const n=e,s=Qr.parse(e);if(s.length>5)return n;const o=Qr.createTransformer(e),a=typeof s[0]!="number"?1:0,l=r.x.scale*t.x,c=r.y.scale*t.y;s[0+a]/=l,s[1+a]/=c;const u=he(l,c,.5);return typeof s[2+a]=="number"&&(s[2+a]/=u),typeof s[3+a]=="number"&&(s[3+a]/=u),o(s)}};class W_ extends Ve.Component{componentDidMount(){const{visualElement:t,layoutGroup:r,switchLayoutGroup:n,layoutId:s}=this.props,{projection:o}=t;Z1(H_),o&&(r.group&&r.group.add(o),n&&n.register&&s&&n.register(o),o.root.didUpdate(),o.addEventListener("animationComplete",()=>{this.safeToRemove()}),o.setOptions({...o.options,onExitComplete:()=>this.safeToRemove()})),Zo.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:r,visualElement:n,drag:s,isPresent:o}=this.props,a=n.projection;return a&&(a.isPresent=o,s||t.layoutDependency!==r||r===void 0?a.willUpdate():this.safeToRemove(),t.isPresent!==o&&(o?a.promote():a.relegate()||ae.postRender(()=>{const l=a.getStack();(!l||!l.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),queueMicrotask(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:r,switchLayoutGroup:n}=this.props,{projection:s}=t;s&&(s.scheduleCheckAfterUnmount(),r&&r.group&&r.group.remove(s),n&&n.deregister&&n.deregister(s))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function w0(e){const[t,r]=z_(),n=x.useContext(eh);return Ve.createElement(W_,{...e,layoutGroup:n,switchLayoutGroup:x.useContext(px),isPresent:t,safeToRemove:r})}const H_={borderRadius:{...Js,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Js,borderTopRightRadius:Js,borderBottomLeftRadius:Js,borderBottomRightRadius:Js,boxShadow:q_},b0=["TopLeft","TopRight","BottomLeft","BottomRight"],K_=b0.length,Lm=e=>typeof e=="string"?parseFloat(e):e,Dm=e=>typeof e=="number"||Y.test(e);function G_(e,t,r,n,s,o){s?(e.opacity=he(0,r.opacity!==void 0?r.opacity:1,Y_(n)),e.opacityExit=he(t.opacity!==void 0?t.opacity:1,0,J_(n))):o&&(e.opacity=he(t.opacity!==void 0?t.opacity:1,r.opacity!==void 0?r.opacity:1,n));for(let a=0;a<K_;a++){const l=`border${b0[a]}Radius`;let c=Mm(t,l),u=Mm(r,l);if(c===void 0&&u===void 0)continue;c||(c=0),u||(u=0),c===0||u===0||Dm(c)===Dm(u)?(e[l]=Math.max(he(Lm(c),Lm(u),n),0),(Yt.test(u)||Yt.test(c))&&(e[l]+="%")):e[l]=u}(t.rotate||r.rotate)&&(e.rotate=he(t.rotate||0,r.rotate||0,n))}function Mm(e,t){return e[t]!==void 0?e[t]:e.borderRadius}const Y_=j0(0,.5,qx),J_=j0(.5,.95,ye);function j0(e,t,r){return n=>n<e?0:n>t?1:r(zi(e,t,n))}function Um(e,t){e.min=t.min,e.max=t.max}function vt(e,t){Um(e.x,t.x),Um(e.y,t.y)}function Fm(e,t,r,n,s){return e-=t,e=Oa(e,1/r,n),s!==void 0&&(e=Oa(e,1/s,n)),e}function Q_(e,t=0,r=1,n=.5,s,o=e,a=e){if(Yt.test(t)&&(t=parseFloat(t),t=he(a.min,a.max,t/100)-a.min),typeof t!="number")return;let l=he(o.min,o.max,n);e===o&&(l-=t),e.min=Fm(e.min,t,r,l,s),e.max=Fm(e.max,t,r,l,s)}function $m(e,t,[r,n,s],o,a){Q_(e,t[r],t[n],t[s],t.scale,o,a)}const Z_=["x","scaleX","originX"],X_=["y","scaleY","originY"];function Vm(e,t,r,n){$m(e.x,t,Z_,r?r.x:void 0,n?n.x:void 0),$m(e.y,t,X_,r?r.y:void 0,n?n.y:void 0)}function Bm(e){return e.translate===0&&e.scale===1}function N0(e){return Bm(e.x)&&Bm(e.y)}function e2(e,t){return e.x.min===t.x.min&&e.x.max===t.x.max&&e.y.min===t.y.min&&e.y.max===t.y.max}function S0(e,t){return Math.round(e.x.min)===Math.round(t.x.min)&&Math.round(e.x.max)===Math.round(t.x.max)&&Math.round(e.y.min)===Math.round(t.y.min)&&Math.round(e.y.max)===Math.round(t.y.max)}function zm(e){return pt(e.x)/pt(e.y)}class t2{constructor(){this.members=[]}add(t){ph(this.members,t),t.scheduleRender()}remove(t){if(gh(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const r=this.members[this.members.length-1];r&&this.promote(r)}}relegate(t){const r=this.members.findIndex(s=>t===s);if(r===0)return!1;let n;for(let s=r;s>=0;s--){const o=this.members[s];if(o.isPresent!==!1){n=o;break}}return n?(this.promote(n),!0):!1}promote(t,r){const n=this.lead;if(t!==n&&(this.prevLead=n,this.lead=t,t.show(),n)){n.instance&&n.scheduleRender(),t.scheduleRender(),t.resumeFrom=n,r&&(t.resumeFrom.preserveOpacity=!0),n.snapshot&&(t.snapshot=n.snapshot,t.snapshot.latestValues=n.animationValues||n.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:s}=t.options;s===!1&&n.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:r,resumingFrom:n}=t;r.onExitComplete&&r.onExitComplete(),n&&n.options.onExitComplete&&n.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function qm(e,t,r){let n="";const s=e.x.translate/t.x,o=e.y.translate/t.y;if((s||o)&&(n=`translate3d(${s}px, ${o}px, 0) `),(t.x!==1||t.y!==1)&&(n+=`scale(${1/t.x}, ${1/t.y}) `),r){const{rotate:c,rotateX:u,rotateY:d}=r;c&&(n+=`rotate(${c}deg) `),u&&(n+=`rotateX(${u}deg) `),d&&(n+=`rotateY(${d}deg) `)}const a=e.x.scale*t.x,l=e.y.scale*t.y;return(a!==1||l!==1)&&(n+=`scale(${a}, ${l})`),n||"none"}const r2=(e,t)=>e.depth-t.depth;class n2{constructor(){this.children=[],this.isDirty=!1}add(t){ph(this.children,t),this.isDirty=!0}remove(t){gh(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(r2),this.isDirty=!1,this.children.forEach(t)}}function s2(e,t){const r=performance.now(),n=({timestamp:s})=>{const o=s-r;o>=t&&(fr(n),e(o-t))};return ae.read(n,!0),()=>fr(n)}function i2(e){window.MotionDebug&&window.MotionDebug.record(e)}function o2(e){return e instanceof SVGElement&&e.tagName!=="svg"}function a2(e,t,r){const n=lt(e)?e:Ns(e);return n.start(mh("",n,t,r)),n.animation}const Wm=["","X","Y","Z"],l2={visibility:"hidden"},Hm=1e3;let c2=0;const dn={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0};function _0({attachResizeListener:e,defaultParent:t,measureScroll:r,checkIsScrollRoot:n,resetTransform:s}){return class{constructor(a={},l=t==null?void 0:t()){this.id=c2++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,dn.totalNodes=dn.resolvedTargetDeltas=dn.recalculatedProjection=0,this.nodes.forEach(h2),this.nodes.forEach(y2),this.nodes.forEach(x2),this.nodes.forEach(f2),i2(dn)},this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=a,this.root=l?l.root||l:this,this.path=l?[...l.path,l]:[],this.parent=l,this.depth=l?l.depth+1:0;for(let c=0;c<this.path.length;c++)this.path[c].shouldResetTransform=!0;this.root===this&&(this.nodes=new n2)}addEventListener(a,l){return this.eventHandlers.has(a)||this.eventHandlers.set(a,new yh),this.eventHandlers.get(a).add(l)}notifyListeners(a,...l){const c=this.eventHandlers.get(a);c&&c.notify(...l)}hasListeners(a){return this.eventHandlers.has(a)}mount(a,l=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=o2(a),this.instance=a;const{layoutId:c,layout:u,visualElement:d}=this.options;if(d&&!d.current&&d.mount(a),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),l&&(u||c)&&(this.isLayoutDirty=!0),e){let h;const f=()=>this.root.updateBlockedByResize=!1;e(a,()=>{this.root.updateBlockedByResize=!0,h&&h(),h=s2(f,250),Zo.hasAnimatedSinceResize&&(Zo.hasAnimatedSinceResize=!1,this.nodes.forEach(Gm))})}c&&this.root.registerSharedNode(c,this),this.options.animate!==!1&&d&&(c||u)&&this.addEventListener("didUpdate",({delta:h,hasLayoutChanged:f,hasRelativeTargetChanged:p,layout:v})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const b=this.options.transition||d.getDefaultTransition()||N2,{onLayoutAnimationStart:w,onLayoutAnimationComplete:g}=d.getProps(),y=!this.targetLayout||!S0(this.targetLayout,v)||p,m=!f&&p;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||m||f&&(y||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(h,m);const j={...fh(b,"layout"),onPlay:w,onComplete:g};(d.shouldReduceMotion||this.options.layoutRoot)&&(j.delay=0,j.type=!1),this.startAnimation(j)}else f||Gm(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=v})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const a=this.getStack();a&&a.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,fr(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(v2),this.animationId++)}getTransformTemplate(){const{visualElement:a}=this.options;return a&&a.getProps().transformTemplate}willUpdate(a=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let d=0;d<this.path.length;d++){const h=this.path[d];h.shouldResetTransform=!0,h.updateScroll("snapshot"),h.options.layoutRoot&&h.willUpdate(!1)}const{layoutId:l,layout:c}=this.options;if(l===void 0&&!c)return;const u=this.getTransformTemplate();this.prevTransformTemplateValue=u?u(this.latestValues,""):void 0,this.updateSnapshot(),a&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(Km);return}this.isUpdating||this.nodes.forEach(p2),this.isUpdating=!1,this.nodes.forEach(g2),this.nodes.forEach(u2),this.nodes.forEach(d2),this.clearAllSnapshots();const l=performance.now();Ue.delta=Jr(0,1e3/60,l-Ue.timestamp),Ue.timestamp=l,Ue.isProcessing=!0,Zl.update.process(Ue),Zl.preRender.process(Ue),Zl.render.process(Ue),Ue.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,queueMicrotask(()=>this.update()))}clearAllSnapshots(){this.nodes.forEach(m2),this.sharedNodes.forEach(w2)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,ae.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){ae.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let c=0;c<this.path.length;c++)this.path[c].updateScroll();const a=this.layout;this.layout=this.measure(!1),this.layoutCorrected=be(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:l}=this.options;l&&l.notify("LayoutMeasure",this.layout.layoutBox,a?a.layoutBox:void 0)}updateScroll(a="measure"){let l=!!(this.options.layoutScroll&&this.instance);this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===a&&(l=!1),l&&(this.scroll={animationId:this.root.animationId,phase:a,isRoot:n(this.instance),offset:r(this.instance)})}resetTransform(){if(!s)return;const a=this.isLayoutDirty||this.shouldResetTransform,l=this.projectionDelta&&!N0(this.projectionDelta),c=this.getTransformTemplate(),u=c?c(this.latestValues,""):void 0,d=u!==this.prevTransformTemplateValue;a&&(l||un(this.latestValues)||d)&&(s(this.instance,u),this.shouldResetTransform=!1,this.scheduleRender())}measure(a=!0){const l=this.measurePageBox();let c=this.removeElementScroll(l);return a&&(c=this.removeTransform(c)),S2(c),{animationId:this.root.animationId,measuredBox:l,layoutBox:c,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:a}=this.options;if(!a)return be();const l=a.measureViewportBox(),{scroll:c}=this.root;return c&&(Sr(l.x,c.offset.x),Sr(l.y,c.offset.y)),l}removeElementScroll(a){const l=be();vt(l,a);for(let c=0;c<this.path.length;c++){const u=this.path[c],{scroll:d,options:h}=u;if(u!==this.root&&d&&h.layoutScroll){if(d.isRoot){vt(l,a);const{scroll:f}=this.root;f&&(Sr(l.x,-f.offset.x),Sr(l.y,-f.offset.y))}Sr(l.x,d.offset.x),Sr(l.y,d.offset.y)}}return l}applyTransform(a,l=!1){const c=be();vt(c,a);for(let u=0;u<this.path.length;u++){const d=this.path[u];!l&&d.options.layoutScroll&&d.scroll&&d!==d.root&&is(c,{x:-d.scroll.offset.x,y:-d.scroll.offset.y}),un(d.latestValues)&&is(c,d.latestValues)}return un(this.latestValues)&&is(c,this.latestValues),c}removeTransform(a){const l=be();vt(l,a);for(let c=0;c<this.path.length;c++){const u=this.path[c];if(!u.instance||!un(u.latestValues))continue;Ou(u.latestValues)&&u.updateSnapshot();const d=be(),h=u.measurePageBox();vt(d,h),Vm(l,u.latestValues,u.snapshot?u.snapshot.layoutBox:void 0,d)}return un(this.latestValues)&&Vm(l,this.latestValues),l}setTargetDelta(a){this.targetDelta=a,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(a){this.options={...this.options,...a,crossfade:a.crossfade!==void 0?a.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Ue.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(a=!1){var l;const c=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=c.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=c.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=c.isSharedProjectionDirty);const u=!!this.resumingFrom||this!==c;if(!(a||u&&this.isSharedProjectionDirty||this.isProjectionDirty||!((l=this.parent)===null||l===void 0)&&l.isProjectionDirty||this.attemptToResolveRelativeTarget))return;const{layout:h,layoutId:f}=this.options;if(!(!this.layout||!(h||f))){if(this.resolvedRelativeTargetAt=Ue.timestamp,!this.targetDelta&&!this.relativeTarget){const p=this.getClosestProjectingParent();p&&p.layout&&this.animationProgress!==1?(this.relativeParent=p,this.forceRelativeParentToResolveTarget(),this.relativeTarget=be(),this.relativeTargetOrigin=be(),vi(this.relativeTargetOrigin,this.layout.layoutBox,p.layout.layoutBox),vt(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=be(),this.targetWithTransforms=be()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),__(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):vt(this.target,this.layout.layoutBox),y0(this.target,this.targetDelta)):vt(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const p=this.getClosestProjectingParent();p&&!!p.resumingFrom==!!this.resumingFrom&&!p.options.layoutScroll&&p.target&&this.animationProgress!==1?(this.relativeParent=p,this.forceRelativeParentToResolveTarget(),this.relativeTarget=be(),this.relativeTargetOrigin=be(),vi(this.relativeTargetOrigin,this.target,p.target),vt(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}dn.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||Ou(this.parent.latestValues)||g0(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var a;const l=this.getLead(),c=!!this.resumingFrom||this!==l;let u=!0;if((this.isProjectionDirty||!((a=this.parent)===null||a===void 0)&&a.isProjectionDirty)&&(u=!1),c&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(u=!1),this.resolvedRelativeTargetAt===Ue.timestamp&&(u=!1),u)return;const{layout:d,layoutId:h}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(d||h))return;vt(this.layoutCorrected,this.layout.layoutBox);const f=this.treeScale.x,p=this.treeScale.y;O_(this.layoutCorrected,this.treeScale,this.path,c),l.layout&&!l.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(l.target=l.layout.layoutBox);const{target:v}=l;if(!v){this.projectionTransform&&(this.projectionDelta=ss(),this.projectionTransform="none",this.scheduleRender());return}this.projectionDelta||(this.projectionDelta=ss(),this.projectionDeltaWithTransform=ss());const b=this.projectionTransform;xi(this.projectionDelta,this.layoutCorrected,v,this.latestValues),this.projectionTransform=qm(this.projectionDelta,this.treeScale),(this.projectionTransform!==b||this.treeScale.x!==f||this.treeScale.y!==p)&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",v)),dn.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(a=!0){if(this.options.scheduleRender&&this.options.scheduleRender(),a){const l=this.getStack();l&&l.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}setAnimationOrigin(a,l=!1){const c=this.snapshot,u=c?c.latestValues:{},d={...this.latestValues},h=ss();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!l;const f=be(),p=c?c.source:void 0,v=this.layout?this.layout.source:void 0,b=p!==v,w=this.getStack(),g=!w||w.members.length<=1,y=!!(b&&!g&&this.options.crossfade===!0&&!this.path.some(j2));this.animationProgress=0;let m;this.mixTargetDelta=j=>{const N=j/1e3;Ym(h.x,a.x,N),Ym(h.y,a.y,N),this.setTargetDelta(h),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(vi(f,this.layout.layoutBox,this.relativeParent.layout.layoutBox),b2(this.relativeTarget,this.relativeTargetOrigin,f,N),m&&e2(this.relativeTarget,m)&&(this.isProjectionDirty=!1),m||(m=be()),vt(m,this.relativeTarget)),b&&(this.animationValues=d,G_(d,u,this.latestValues,N,y,g)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=N},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(a){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(fr(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=ae.update(()=>{Zo.hasAnimatedSinceResize=!0,this.currentAnimation=a2(0,Hm,{...a,onUpdate:l=>{this.mixTargetDelta(l),a.onUpdate&&a.onUpdate(l)},onComplete:()=>{a.onComplete&&a.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const a=this.getStack();a&&a.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(Hm),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const a=this.getLead();let{targetWithTransforms:l,target:c,layout:u,latestValues:d}=a;if(!(!l||!c||!u)){if(this!==a&&this.layout&&u&&k0(this.options.animationType,this.layout.layoutBox,u.layoutBox)){c=this.target||be();const h=pt(this.layout.layoutBox.x);c.x.min=a.target.x.min,c.x.max=c.x.min+h;const f=pt(this.layout.layoutBox.y);c.y.min=a.target.y.min,c.y.max=c.y.min+f}vt(l,c),is(l,d),xi(this.projectionDeltaWithTransform,this.layoutCorrected,l,d)}}registerSharedNode(a,l){this.sharedNodes.has(a)||this.sharedNodes.set(a,new t2),this.sharedNodes.get(a).add(l);const u=l.options.initialPromotionConfig;l.promote({transition:u?u.transition:void 0,preserveFollowOpacity:u&&u.shouldPreserveFollowOpacity?u.shouldPreserveFollowOpacity(l):void 0})}isLead(){const a=this.getStack();return a?a.lead===this:!0}getLead(){var a;const{layoutId:l}=this.options;return l?((a=this.getStack())===null||a===void 0?void 0:a.lead)||this:this}getPrevLead(){var a;const{layoutId:l}=this.options;return l?(a=this.getStack())===null||a===void 0?void 0:a.prevLead:void 0}getStack(){const{layoutId:a}=this.options;if(a)return this.root.sharedNodes.get(a)}promote({needsReset:a,transition:l,preserveFollowOpacity:c}={}){const u=this.getStack();u&&u.promote(this,c),a&&(this.projectionDelta=void 0,this.needsReset=!0),l&&this.setOptions({transition:l})}relegate(){const a=this.getStack();return a?a.relegate(this):!1}resetRotation(){const{visualElement:a}=this.options;if(!a)return;let l=!1;const{latestValues:c}=a;if((c.rotate||c.rotateX||c.rotateY||c.rotateZ)&&(l=!0),!l)return;const u={};for(let d=0;d<Wm.length;d++){const h="rotate"+Wm[d];c[h]&&(u[h]=c[h],a.setStaticValue(h,0))}a.render();for(const d in u)a.setStaticValue(d,u[d]);a.scheduleRender()}getProjectionStyles(a){var l,c;if(!this.instance||this.isSVG)return;if(!this.isVisible)return l2;const u={visibility:""},d=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,u.opacity="",u.pointerEvents=Qo(a==null?void 0:a.pointerEvents)||"",u.transform=d?d(this.latestValues,""):"none",u;const h=this.getLead();if(!this.projectionDelta||!this.layout||!h.target){const b={};return this.options.layoutId&&(b.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,b.pointerEvents=Qo(a==null?void 0:a.pointerEvents)||""),this.hasProjected&&!un(this.latestValues)&&(b.transform=d?d({},""):"none",this.hasProjected=!1),b}const f=h.animationValues||h.latestValues;this.applyTransformsToTarget(),u.transform=qm(this.projectionDeltaWithTransform,this.treeScale,f),d&&(u.transform=d(f,u.transform));const{x:p,y:v}=this.projectionDelta;u.transformOrigin=`${p.origin*100}% ${v.origin*100}% 0`,h.animationValues?u.opacity=h===this?(c=(l=f.opacity)!==null&&l!==void 0?l:this.latestValues.opacity)!==null&&c!==void 0?c:1:this.preserveOpacity?this.latestValues.opacity:f.opacityExit:u.opacity=h===this?f.opacity!==void 0?f.opacity:"":f.opacityExit!==void 0?f.opacityExit:0;for(const b in Pa){if(f[b]===void 0)continue;const{correct:w,applyTo:g}=Pa[b],y=u.transform==="none"?f[b]:w(f[b],h);if(g){const m=g.length;for(let j=0;j<m;j++)u[g[j]]=y}else u[b]=y}return this.options.layoutId&&(u.pointerEvents=h===this?Qo(a==null?void 0:a.pointerEvents)||"":"none"),u}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(a=>{var l;return(l=a.currentAnimation)===null||l===void 0?void 0:l.stop()}),this.root.nodes.forEach(Km),this.root.sharedNodes.clear()}}}function u2(e){e.updateLayout()}function d2(e){var t;const r=((t=e.resumeFrom)===null||t===void 0?void 0:t.snapshot)||e.snapshot;if(e.isLead()&&e.layout&&r&&e.hasListeners("didUpdate")){const{layoutBox:n,measuredBox:s}=e.layout,{animationType:o}=e.options,a=r.source!==e.layout.source;o==="size"?wt(h=>{const f=a?r.measuredBox[h]:r.layoutBox[h],p=pt(f);f.min=n[h].min,f.max=f.min+p}):k0(o,r.layoutBox,n)&&wt(h=>{const f=a?r.measuredBox[h]:r.layoutBox[h],p=pt(n[h]);f.max=f.min+p,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[h].max=e.relativeTarget[h].min+p)});const l=ss();xi(l,n,r.layoutBox);const c=ss();a?xi(c,e.applyTransform(s,!0),r.measuredBox):xi(c,n,r.layoutBox);const u=!N0(l);let d=!1;if(!e.resumeFrom){const h=e.getClosestProjectingParent();if(h&&!h.resumeFrom){const{snapshot:f,layout:p}=h;if(f&&p){const v=be();vi(v,r.layoutBox,f.layoutBox);const b=be();vi(b,n,p.layoutBox),S0(v,b)||(d=!0),h.options.layoutRoot&&(e.relativeTarget=b,e.relativeTargetOrigin=v,e.relativeParent=h)}}}e.notifyListeners("didUpdate",{layout:n,snapshot:r,delta:c,layoutDelta:l,hasLayoutChanged:u,hasRelativeTargetChanged:d})}else if(e.isLead()){const{onExitComplete:n}=e.options;n&&n()}e.options.transition=void 0}function h2(e){dn.totalNodes++,e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function f2(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function m2(e){e.clearSnapshot()}function Km(e){e.clearMeasurements()}function p2(e){e.isLayoutDirty=!1}function g2(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function Gm(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function y2(e){e.resolveTargetDelta()}function x2(e){e.calcProjection()}function v2(e){e.resetRotation()}function w2(e){e.removeLeadSnapshot()}function Ym(e,t,r){e.translate=he(t.translate,0,r),e.scale=he(t.scale,1,r),e.origin=t.origin,e.originPoint=t.originPoint}function Jm(e,t,r,n){e.min=he(t.min,r.min,n),e.max=he(t.max,r.max,n)}function b2(e,t,r,n){Jm(e.x,t.x,r.x,n),Jm(e.y,t.y,r.y,n)}function j2(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}const N2={duration:.45,ease:[.4,0,.1,1]},Qm=e=>typeof navigator<"u"&&navigator.userAgent.toLowerCase().includes(e),Zm=Qm("applewebkit/")&&!Qm("chrome/")?Math.round:ye;function Xm(e){e.min=Zm(e.min),e.max=Zm(e.max)}function S2(e){Xm(e.x),Xm(e.y)}function k0(e,t,r){return e==="position"||e==="preserve-aspect"&&!Iu(zm(t),zm(r),.2)}const _2=_0({attachResizeListener:(e,t)=>ir(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),cc={current:void 0},P0=_0({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!cc.current){const e=new _2({});e.mount(window),e.setOptions({layoutScroll:!0}),cc.current=e}return cc.current},resetTransform:(e,t)=>{e.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:e=>window.getComputedStyle(e).position==="fixed"}),k2={pan:{Feature:B_},drag:{Feature:V_,ProjectionNode:P0,MeasureLayout:w0}},P2=/var\((--[a-zA-Z0-9-_]+),? ?([a-zA-Z0-9 ()%#.,-]+)?\)/;function C2(e){const t=P2.exec(e);if(!t)return[,];const[,r,n]=t;return[r,n]}function Du(e,t,r=1){const[n,s]=C2(e);if(!n)return;const o=window.getComputedStyle(t).getPropertyValue(n);if(o){const a=o.trim();return c0(a)?parseFloat(a):a}else return _u(s)?Du(s,t,r+1):s}function E2(e,{...t},r){const n=e.current;if(!(n instanceof Element))return{target:t,transitionEnd:r};r&&(r={...r}),e.values.forEach(s=>{const o=s.get();if(!_u(o))return;const a=Du(o,n);a&&s.set(a)});for(const s in t){const o=t[s];if(!_u(o))continue;const a=Du(o,n);a&&(t[s]=a,r||(r={}),r[s]===void 0&&(r[s]=o))}return{target:t,transitionEnd:r}}const T2=new Set(["width","height","top","left","right","bottom","x","y","translateX","translateY"]),C0=e=>T2.has(e),A2=e=>Object.keys(e).some(C0),ep=e=>e===An||e===Y,tp=(e,t)=>parseFloat(e.split(", ")[t]),rp=(e,t)=>(r,{transform:n})=>{if(n==="none"||!n)return 0;const s=n.match(/^matrix3d\((.+)\)$/);if(s)return tp(s[1],t);{const o=n.match(/^matrix\((.+)\)$/);return o?tp(o[1],e):0}},I2=new Set(["x","y","z"]),R2=Zi.filter(e=>!I2.has(e));function O2(e){const t=[];return R2.forEach(r=>{const n=e.getValue(r);n!==void 0&&(t.push([r,n.get()]),n.set(r.startsWith("scale")?1:0))}),t.length&&e.render(),t}const Ss={width:({x:e},{paddingLeft:t="0",paddingRight:r="0"})=>e.max-e.min-parseFloat(t)-parseFloat(r),height:({y:e},{paddingTop:t="0",paddingBottom:r="0"})=>e.max-e.min-parseFloat(t)-parseFloat(r),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:rp(4,13),y:rp(5,14)};Ss.translateX=Ss.x;Ss.translateY=Ss.y;const L2=(e,t,r)=>{const n=t.measureViewportBox(),s=t.current,o=getComputedStyle(s),{display:a}=o,l={};a==="none"&&t.setStaticValue("display",e.display||"block"),r.forEach(u=>{l[u]=Ss[u](n,o)}),t.render();const c=t.measureViewportBox();return r.forEach(u=>{const d=t.getValue(u);d&&d.jump(l[u]),e[u]=Ss[u](c,o)}),e},D2=(e,t,r={},n={})=>{t={...t},n={...n};const s=Object.keys(t).filter(C0);let o=[],a=!1;const l=[];if(s.forEach(c=>{const u=e.getValue(c);if(!e.hasValue(c))return;let d=r[c],h=Ys(d);const f=t[c];let p;if(Ea(f)){const v=f.length,b=f[0]===null?1:0;d=f[b],h=Ys(d);for(let w=b;w<v&&f[w]!==null;w++)p?lh(Ys(f[w])===p):p=Ys(f[w])}else p=Ys(f);if(h!==p)if(ep(h)&&ep(p)){const v=u.get();typeof v=="string"&&u.set(parseFloat(v)),typeof f=="string"?t[c]=parseFloat(f):Array.isArray(f)&&p===Y&&(t[c]=f.map(parseFloat))}else h!=null&&h.transform&&(p!=null&&p.transform)&&(d===0||f===0)?d===0?u.set(p.transform(d)):t[c]=h.transform(f):(a||(o=O2(e),a=!0),l.push(c),n[c]=n[c]!==void 0?n[c]:t[c],u.jump(f))}),l.length){const c=l.indexOf("height")>=0?window.pageYOffset:null,u=L2(t,e,l);return o.length&&o.forEach(([d,h])=>{e.getValue(d).set(h)}),e.render(),ol&&c!==null&&window.scrollTo({top:c}),{target:u,transitionEnd:n}}else return{target:t,transitionEnd:n}};function M2(e,t,r,n){return A2(t)?D2(e,t,r,n):{target:t,transitionEnd:n}}const U2=(e,t,r,n)=>{const s=E2(e,t,n);return t=s.target,n=s.transitionEnd,M2(e,t,r,n)},Mu={current:null},E0={current:!1};function F2(){if(E0.current=!0,!!ol)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>Mu.current=e.matches;e.addListener(t),t()}else Mu.current=!1}function $2(e,t,r){const{willChange:n}=t;for(const s in t){const o=t[s],a=r[s];if(lt(o))e.addValue(s,o),Ra(n)&&n.add(s);else if(lt(a))e.addValue(s,Ns(o,{owner:e})),Ra(n)&&n.remove(s);else if(a!==o)if(e.hasValue(s)){const l=e.getValue(s);!l.hasAnimated&&l.set(o)}else{const l=e.getStaticValue(s);e.addValue(s,Ns(l!==void 0?l:o,{owner:e}))}}for(const s in r)t[s]===void 0&&e.removeValue(s);return t}const np=new WeakMap,T0=Object.keys(Bi),V2=T0.length,sp=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"],B2=Xd.length;class z2{constructor({parent:t,props:r,presenceContext:n,reducedMotionConfig:s,visualState:o},a={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.scheduleRender=()=>ae.render(this.render,!1,!0);const{latestValues:l,renderState:c}=o;this.latestValues=l,this.baseTarget={...l},this.initialValues=r.initial?{...l}:{},this.renderState=c,this.parent=t,this.props=r,this.presenceContext=n,this.depth=t?t.depth+1:0,this.reducedMotionConfig=s,this.options=a,this.isControllingVariants=ll(r),this.isVariantNode=mx(r),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:u,...d}=this.scrapeMotionValuesFromProps(r,{});for(const h in d){const f=d[h];l[h]!==void 0&&lt(f)&&(f.set(l[h],!1),Ra(u)&&u.add(h))}}scrapeMotionValuesFromProps(t,r){return{}}mount(t){this.current=t,np.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((r,n)=>this.bindToMotionValue(n,r)),E0.current||F2(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:Mu.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){np.delete(this.current),this.projection&&this.projection.unmount(),fr(this.notifyUpdate),fr(this.render),this.valueSubscriptions.forEach(t=>t()),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const t in this.events)this.events[t].clear();for(const t in this.features)this.features[t].unmount();this.current=null}bindToMotionValue(t,r){const n=Tn.has(t),s=r.on("change",a=>{this.latestValues[t]=a,this.props.onUpdate&&ae.update(this.notifyUpdate,!1,!0),n&&this.projection&&(this.projection.isTransformDirty=!0)}),o=r.on("renderRequest",this.scheduleRender);this.valueSubscriptions.set(t,()=>{s(),o()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}loadFeatures({children:t,...r},n,s,o){let a,l;for(let c=0;c<V2;c++){const u=T0[c],{isEnabled:d,Feature:h,ProjectionNode:f,MeasureLayout:p}=Bi[u];f&&(a=f),d(r)&&(!this.features[u]&&h&&(this.features[u]=new h(this)),p&&(l=p))}if((this.type==="html"||this.type==="svg")&&!this.projection&&a){this.projection=new a(this.latestValues,this.parent&&this.parent.projection);const{layoutId:c,layout:u,drag:d,dragConstraints:h,layoutScroll:f,layoutRoot:p}=r;this.projection.setOptions({layoutId:c,layout:u,alwaysMeasureLayout:!!d||h&&rs(h),visualElement:this,scheduleRender:()=>this.scheduleRender(),animationType:typeof u=="string"?u:"both",initialPromotionConfig:o,layoutScroll:f,layoutRoot:p})}return l}updateFeatures(){for(const t in this.features){const r=this.features[t];r.isMounted?r.update():(r.mount(),r.isMounted=!0)}}triggerBuild(){this.build(this.renderState,this.latestValues,this.options,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):be()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,r){this.latestValues[t]=r}makeTargetAnimatable(t,r=!0){return this.makeTargetAnimatableFromInstance(t,this.props,r)}update(t,r){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=r;for(let n=0;n<sp.length;n++){const s=sp[n];this.propEventSubscriptions[s]&&(this.propEventSubscriptions[s](),delete this.propEventSubscriptions[s]);const o=t["on"+s];o&&(this.propEventSubscriptions[s]=this.on(s,o))}this.prevMotionValues=$2(this,this.scrapeMotionValuesFromProps(t,this.prevProps),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}getVariantContext(t=!1){if(t)return this.parent?this.parent.getVariantContext():void 0;if(!this.isControllingVariants){const n=this.parent?this.parent.getVariantContext()||{}:{};return this.props.initial!==void 0&&(n.initial=this.props.initial),n}const r={};for(let n=0;n<B2;n++){const s=Xd[n],o=this.props[s];(Vi(o)||o===!1)&&(r[s]=o)}return r}addVariantChild(t){const r=this.getClosestVariantNode();if(r)return r.variantChildren&&r.variantChildren.add(t),()=>r.variantChildren.delete(t)}addValue(t,r){r!==this.values.get(t)&&(this.removeValue(t),this.bindToMotionValue(t,r)),this.values.set(t,r),this.latestValues[t]=r.get()}removeValue(t){this.values.delete(t);const r=this.valueSubscriptions.get(t);r&&(r(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,r){if(this.props.values&&this.props.values[t])return this.props.values[t];let n=this.values.get(t);return n===void 0&&r!==void 0&&(n=Ns(r,{owner:this}),this.addValue(t,n)),n}readValue(t){var r;return this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:(r=this.getBaseTargetFromProps(this.props,t))!==null&&r!==void 0?r:this.readValueFromInstance(this.current,t,this.options)}setBaseTarget(t,r){this.baseTarget[t]=r}getBaseTarget(t){var r;const{initial:n}=this.props,s=typeof n=="string"||typeof n=="object"?(r=ah(this.props,n))===null||r===void 0?void 0:r[t]:void 0;if(n&&s!==void 0)return s;const o=this.getBaseTargetFromProps(this.props,t);return o!==void 0&&!lt(o)?o:this.initialValues[t]!==void 0&&s===void 0?void 0:this.baseTarget[t]}on(t,r){return this.events[t]||(this.events[t]=new yh),this.events[t].add(r)}notify(t,...r){this.events[t]&&this.events[t].notify(...r)}}class A0 extends z2{sortInstanceNodePosition(t,r){return t.compareDocumentPosition(r)&2?1:-1}getBaseTargetFromProps(t,r){return t.style?t.style[r]:void 0}removeValueFromRenderState(t,{vars:r,style:n}){delete r[t],delete n[t]}makeTargetAnimatableFromInstance({transition:t,transitionEnd:r,...n},{transformValues:s},o){let a=o_(n,t||{},this);if(s&&(r&&(r=s(r)),n&&(n=s(n)),a&&(a=s(a))),o){s_(this,n,a);const l=U2(this,n,a,r);r=l.transitionEnd,n=l.target}return{transition:t,transitionEnd:r,...n}}}function q2(e){return window.getComputedStyle(e)}class W2 extends A0{constructor(){super(...arguments),this.type="html"}readValueFromInstance(t,r){if(Tn.has(r)){const n=hh(r);return n&&n.default||0}else{const n=q2(t),s=(xx(r)?n.getPropertyValue(r):n[r])||0;return typeof s=="string"?s.trim():s}}measureInstanceViewportBox(t,{transformPagePoint:r}){return x0(t,r)}build(t,r,n,s){rh(t,r,n,s.transformTemplate)}scrapeMotionValuesFromProps(t,r){return oh(t,r)}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;lt(t)&&(this.childSubscription=t.on("change",r=>{this.current&&(this.current.textContent=`${r}`)}))}renderInstance(t,r,n,s){Sx(t,r,n,s)}}class H2 extends A0{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1}getBaseTargetFromProps(t,r){return t[r]}readValueFromInstance(t,r){if(Tn.has(r)){const n=hh(r);return n&&n.default||0}return r=_x.has(r)?r:Qd(r),t.getAttribute(r)}measureInstanceViewportBox(){return be()}scrapeMotionValuesFromProps(t,r){return Px(t,r)}build(t,r,n,s){sh(t,r,n,this.isSVGTag,s.transformTemplate)}renderInstance(t,r,n,s){kx(t,r,n,s)}mount(t){this.isSVGTag=ih(t.tagName),super.mount(t)}}const K2=(e,t)=>th(e)?new H2(t,{enableHardwareAcceleration:!1}):new W2(t,{enableHardwareAcceleration:!0}),G2={layout:{ProjectionNode:P0,MeasureLayout:w0}},Y2={...b_,...VN,...k2,...G2},U=J1((e,t)=>CN(e,t,Y2,K2));function I0(){const e=x.useRef(!1);return Jd(()=>(e.current=!0,()=>{e.current=!1}),[]),e}function J2(){const e=I0(),[t,r]=x.useState(0),n=x.useCallback(()=>{e.current&&r(t+1)},[t]);return[x.useCallback(()=>ae.postRender(n),[n]),t]}class Q2 extends x.Component{getSnapshotBeforeUpdate(t){const r=this.props.childRef.current;if(r&&t.isPresent&&!this.props.isPresent){const n=this.props.sizeRef.current;n.height=r.offsetHeight||0,n.width=r.offsetWidth||0,n.top=r.offsetTop,n.left=r.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function Z2({children:e,isPresent:t}){const r=x.useId(),n=x.useRef(null),s=x.useRef({width:0,height:0,top:0,left:0});return x.useInsertionEffect(()=>{const{width:o,height:a,top:l,left:c}=s.current;if(t||!n.current||!o||!a)return;n.current.dataset.motionPopId=r;const u=document.createElement("style");return document.head.appendChild(u),u.sheet&&u.sheet.insertRule(`
          [data-motion-pop-id="${r}"] {
            position: absolute !important;
            width: ${o}px !important;
            height: ${a}px !important;
            top: ${l}px !important;
            left: ${c}px !important;
          }
        `),()=>{document.head.removeChild(u)}},[t]),x.createElement(Q2,{isPresent:t,childRef:n,sizeRef:s},x.cloneElement(e,{ref:n}))}const uc=({children:e,initial:t,isPresent:r,onExitComplete:n,custom:s,presenceAffectsLayout:o,mode:a})=>{const l=Cx(X2),c=x.useId(),u=x.useMemo(()=>({id:c,initial:t,isPresent:r,custom:s,onExitComplete:d=>{l.set(d,!0);for(const h of l.values())if(!h)return;n&&n()},register:d=>(l.set(d,!1),()=>l.delete(d))}),o?void 0:[r]);return x.useMemo(()=>{l.forEach((d,h)=>l.set(h,!1))},[r]),x.useEffect(()=>{!r&&!l.size&&n&&n()},[r]),a==="popLayout"&&(e=x.createElement(Z2,{isPresent:r},e)),x.createElement(il.Provider,{value:u},e)};function X2(){return new Map}function ek(e){return x.useEffect(()=>()=>e(),[])}const hn=e=>e.key||"";function tk(e,t){e.forEach(r=>{const n=hn(r);t.set(n,r)})}function rk(e){const t=[];return x.Children.forEach(e,r=>{x.isValidElement(r)&&t.push(r)}),t}const _s=({children:e,custom:t,initial:r=!0,onExitComplete:n,exitBeforeEnter:s,presenceAffectsLayout:o=!0,mode:a="sync"})=>{const l=x.useContext(eh).forceRender||J2()[0],c=I0(),u=rk(e);let d=u;const h=x.useRef(new Map).current,f=x.useRef(d),p=x.useRef(new Map).current,v=x.useRef(!0);if(Jd(()=>{v.current=!1,tk(u,p),f.current=d}),ek(()=>{v.current=!0,p.clear(),h.clear()}),v.current)return x.createElement(x.Fragment,null,d.map(y=>x.createElement(uc,{key:hn(y),isPresent:!0,initial:r?void 0:!1,presenceAffectsLayout:o,mode:a},y)));d=[...d];const b=f.current.map(hn),w=u.map(hn),g=b.length;for(let y=0;y<g;y++){const m=b[y];w.indexOf(m)===-1&&!h.has(m)&&h.set(m,void 0)}return a==="wait"&&h.size&&(d=[]),h.forEach((y,m)=>{if(w.indexOf(m)!==-1)return;const j=p.get(m);if(!j)return;const N=b.indexOf(m);let E=y;if(!E){const P=()=>{h.delete(m);const T=Array.from(p.keys()).filter($=>!w.includes($));if(T.forEach($=>p.delete($)),f.current=u.filter($=>{const V=hn($);return V===m||T.includes(V)}),!h.size){if(c.current===!1)return;l(),n&&n()}};E=x.createElement(uc,{key:hn(j),isPresent:!1,onExitComplete:P,custom:t,presenceAffectsLayout:o,mode:a},j),h.set(m,E)}d.splice(N,0,E)}),d=d.map(y=>{const m=y.key;return h.has(m)?y:x.createElement(uc,{key:hn(y),isPresent:!0,presenceAffectsLayout:o,mode:a},y)}),x.createElement(x.Fragment,null,h.size?d:d.map(y=>x.cloneElement(y)))},nk="modulepreload",sk=function(e){return"/"+e},ip={},ro=function(t,r,n){if(!r||r.length===0)return t();const s=document.getElementsByTagName("link");return Promise.all(r.map(o=>{if(o=sk(o),o in ip)return;ip[o]=!0;const a=o.endsWith(".css"),l=a?'[rel="stylesheet"]':"";if(!!n)for(let d=s.length-1;d>=0;d--){const h=s[d];if(h.href===o&&(!a||h.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${o}"]${l}`))return;const u=document.createElement("link");if(u.rel=a?"stylesheet":nk,a||(u.as="script",u.crossOrigin=""),u.href=o,document.head.appendChild(u),a)return new Promise((d,h)=>{u.addEventListener("load",d),u.addEventListener("error",()=>h(new Error(`Unable to preload CSS for ${o}`)))})})).then(()=>t()).catch(o=>{const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=o,window.dispatchEvent(a),!a.defaultPrevented)throw o})},ik=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>ro(()=>Promise.resolve().then(()=>Ls),void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)};class xh extends Error{constructor(t,r="FunctionsError",n){super(t),this.name=r,this.context=n}}class ok extends xh{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class op extends xh{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class ap extends xh{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var Uu;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(Uu||(Uu={}));var ak=globalThis&&globalThis.__awaiter||function(e,t,r,n){function s(o){return o instanceof r?o:new r(function(a){a(o)})}return new(r||(r=Promise))(function(o,a){function l(d){try{u(n.next(d))}catch(h){a(h)}}function c(d){try{u(n.throw(d))}catch(h){a(h)}}function u(d){d.done?o(d.value):s(d.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};class lk{constructor(t,{headers:r={},customFetch:n,region:s=Uu.Any}={}){this.url=t,this.headers=r,this.region=s,this.fetch=ik(n)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t,r={}){var n;return ak(this,void 0,void 0,function*(){try{const{headers:s,method:o,body:a}=r;let l={},{region:c}=r;c||(c=this.region);const u=new URL(`${this.url}/${t}`);c&&c!=="any"&&(l["x-region"]=c,u.searchParams.set("forceFunctionRegion",c));let d;a&&(s&&!Object.prototype.hasOwnProperty.call(s,"Content-Type")||!s)&&(typeof Blob<"u"&&a instanceof Blob||a instanceof ArrayBuffer?(l["Content-Type"]="application/octet-stream",d=a):typeof a=="string"?(l["Content-Type"]="text/plain",d=a):typeof FormData<"u"&&a instanceof FormData?d=a:(l["Content-Type"]="application/json",d=JSON.stringify(a)));const h=yield this.fetch(u.toString(),{method:o||"POST",headers:Object.assign(Object.assign(Object.assign({},l),this.headers),s),body:d}).catch(b=>{throw new ok(b)}),f=h.headers.get("x-relay-error");if(f&&f==="true")throw new op(h);if(!h.ok)throw new ap(h);let p=((n=h.headers.get("Content-Type"))!==null&&n!==void 0?n:"text/plain").split(";")[0].trim(),v;return p==="application/json"?v=yield h.json():p==="application/octet-stream"?v=yield h.blob():p==="text/event-stream"?v=h:p==="multipart/form-data"?v=yield h.formData():v=yield h.text(),{data:v,error:null,response:h}}catch(s){return{data:null,error:s,response:s instanceof ap||s instanceof op?s.context:void 0}}})}}var rt={},vh={},hl={},no={},fl={},ml={},ck=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},ks=ck();const uk=ks.fetch,R0=ks.fetch.bind(ks),O0=ks.Headers,dk=ks.Request,hk=ks.Response,Ls=Object.freeze(Object.defineProperty({__proto__:null,Headers:O0,Request:dk,Response:hk,default:R0,fetch:uk},Symbol.toStringTag,{value:"Module"})),fk=Mv(Ls);var pl={};Object.defineProperty(pl,"__esModule",{value:!0});let mk=class extends Error{constructor(t){super(t.message),this.name="PostgrestError",this.details=t.details,this.hint=t.hint,this.code=t.code}};pl.default=mk;var L0=Pt&&Pt.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(ml,"__esModule",{value:!0});const pk=L0(fk),gk=L0(pl);let yk=class{constructor(t){this.shouldThrowOnError=!1,this.method=t.method,this.url=t.url,this.headers=t.headers,this.schema=t.schema,this.body=t.body,this.shouldThrowOnError=t.shouldThrowOnError,this.signal=t.signal,this.isMaybeSingle=t.isMaybeSingle,t.fetch?this.fetch=t.fetch:typeof fetch>"u"?this.fetch=pk.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(t,r){return this.headers=Object.assign({},this.headers),this.headers[t]=r,this}then(t,r){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const n=this.fetch;let s=n(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async o=>{var a,l,c;let u=null,d=null,h=null,f=o.status,p=o.statusText;if(o.ok){if(this.method!=="HEAD"){const g=await o.text();g===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?d=g:d=JSON.parse(g))}const b=(a=this.headers.Prefer)===null||a===void 0?void 0:a.match(/count=(exact|planned|estimated)/),w=(l=o.headers.get("content-range"))===null||l===void 0?void 0:l.split("/");b&&w&&w.length>1&&(h=parseInt(w[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(d)&&(d.length>1?(u={code:"PGRST116",details:`Results contain ${d.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},d=null,h=null,f=406,p="Not Acceptable"):d.length===1?d=d[0]:d=null)}else{const b=await o.text();try{u=JSON.parse(b),Array.isArray(u)&&o.status===404&&(d=[],u=null,f=200,p="OK")}catch{o.status===404&&b===""?(f=204,p="No Content"):u={message:b}}if(u&&this.isMaybeSingle&&(!((c=u==null?void 0:u.details)===null||c===void 0)&&c.includes("0 rows"))&&(u=null,f=200,p="OK"),u&&this.shouldThrowOnError)throw new gk.default(u)}return{error:u,data:d,count:h,status:f,statusText:p}});return this.shouldThrowOnError||(s=s.catch(o=>{var a,l,c;return{error:{message:`${(a=o==null?void 0:o.name)!==null&&a!==void 0?a:"FetchError"}: ${o==null?void 0:o.message}`,details:`${(l=o==null?void 0:o.stack)!==null&&l!==void 0?l:""}`,hint:"",code:`${(c=o==null?void 0:o.code)!==null&&c!==void 0?c:""}`},data:null,count:null,status:0,statusText:""}})),s.then(t,r)}returns(){return this}overrideTypes(){return this}};ml.default=yk;var xk=Pt&&Pt.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(fl,"__esModule",{value:!0});const vk=xk(ml);let wk=class extends vk.default{select(t){let r=!1;const n=(t??"*").split("").map(s=>/\s/.test(s)&&!r?"":(s==='"'&&(r=!r),s)).join("");return this.url.searchParams.set("select",n),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(t,{ascending:r=!0,nullsFirst:n,foreignTable:s,referencedTable:o=s}={}){const a=o?`${o}.order`:"order",l=this.url.searchParams.get(a);return this.url.searchParams.set(a,`${l?`${l},`:""}${t}.${r?"asc":"desc"}${n===void 0?"":n?".nullsfirst":".nullslast"}`),this}limit(t,{foreignTable:r,referencedTable:n=r}={}){const s=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(s,`${t}`),this}range(t,r,{foreignTable:n,referencedTable:s=n}={}){const o=typeof s>"u"?"offset":`${s}.offset`,a=typeof s>"u"?"limit":`${s}.limit`;return this.url.searchParams.set(o,`${t}`),this.url.searchParams.set(a,`${r-t+1}`),this}abortSignal(t){return this.signal=t,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:t=!1,verbose:r=!1,settings:n=!1,buffers:s=!1,wal:o=!1,format:a="text"}={}){var l;const c=[t?"analyze":null,r?"verbose":null,n?"settings":null,s?"buffers":null,o?"wal":null].filter(Boolean).join("|"),u=(l=this.headers.Accept)!==null&&l!==void 0?l:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${a}; for="${u}"; options=${c};`,a==="json"?this:this}rollback(){var t;return((t=this.headers.Prefer)!==null&&t!==void 0?t:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}};fl.default=wk;var bk=Pt&&Pt.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(no,"__esModule",{value:!0});const jk=bk(fl);let Nk=class extends jk.default{eq(t,r){return this.url.searchParams.append(t,`eq.${r}`),this}neq(t,r){return this.url.searchParams.append(t,`neq.${r}`),this}gt(t,r){return this.url.searchParams.append(t,`gt.${r}`),this}gte(t,r){return this.url.searchParams.append(t,`gte.${r}`),this}lt(t,r){return this.url.searchParams.append(t,`lt.${r}`),this}lte(t,r){return this.url.searchParams.append(t,`lte.${r}`),this}like(t,r){return this.url.searchParams.append(t,`like.${r}`),this}likeAllOf(t,r){return this.url.searchParams.append(t,`like(all).{${r.join(",")}}`),this}likeAnyOf(t,r){return this.url.searchParams.append(t,`like(any).{${r.join(",")}}`),this}ilike(t,r){return this.url.searchParams.append(t,`ilike.${r}`),this}ilikeAllOf(t,r){return this.url.searchParams.append(t,`ilike(all).{${r.join(",")}}`),this}ilikeAnyOf(t,r){return this.url.searchParams.append(t,`ilike(any).{${r.join(",")}}`),this}is(t,r){return this.url.searchParams.append(t,`is.${r}`),this}in(t,r){const n=Array.from(new Set(r)).map(s=>typeof s=="string"&&new RegExp("[,()]").test(s)?`"${s}"`:`${s}`).join(",");return this.url.searchParams.append(t,`in.(${n})`),this}contains(t,r){return typeof r=="string"?this.url.searchParams.append(t,`cs.${r}`):Array.isArray(r)?this.url.searchParams.append(t,`cs.{${r.join(",")}}`):this.url.searchParams.append(t,`cs.${JSON.stringify(r)}`),this}containedBy(t,r){return typeof r=="string"?this.url.searchParams.append(t,`cd.${r}`):Array.isArray(r)?this.url.searchParams.append(t,`cd.{${r.join(",")}}`):this.url.searchParams.append(t,`cd.${JSON.stringify(r)}`),this}rangeGt(t,r){return this.url.searchParams.append(t,`sr.${r}`),this}rangeGte(t,r){return this.url.searchParams.append(t,`nxl.${r}`),this}rangeLt(t,r){return this.url.searchParams.append(t,`sl.${r}`),this}rangeLte(t,r){return this.url.searchParams.append(t,`nxr.${r}`),this}rangeAdjacent(t,r){return this.url.searchParams.append(t,`adj.${r}`),this}overlaps(t,r){return typeof r=="string"?this.url.searchParams.append(t,`ov.${r}`):this.url.searchParams.append(t,`ov.{${r.join(",")}}`),this}textSearch(t,r,{config:n,type:s}={}){let o="";s==="plain"?o="pl":s==="phrase"?o="ph":s==="websearch"&&(o="w");const a=n===void 0?"":`(${n})`;return this.url.searchParams.append(t,`${o}fts${a}.${r}`),this}match(t){return Object.entries(t).forEach(([r,n])=>{this.url.searchParams.append(r,`eq.${n}`)}),this}not(t,r,n){return this.url.searchParams.append(t,`not.${r}.${n}`),this}or(t,{foreignTable:r,referencedTable:n=r}={}){const s=n?`${n}.or`:"or";return this.url.searchParams.append(s,`(${t})`),this}filter(t,r,n){return this.url.searchParams.append(t,`${r}.${n}`),this}};no.default=Nk;var Sk=Pt&&Pt.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(hl,"__esModule",{value:!0});const Qs=Sk(no);let _k=class{constructor(t,{headers:r={},schema:n,fetch:s}){this.url=t,this.headers=r,this.schema=n,this.fetch=s}select(t,{head:r=!1,count:n}={}){const s=r?"HEAD":"GET";let o=!1;const a=(t??"*").split("").map(l=>/\s/.test(l)&&!o?"":(l==='"'&&(o=!o),l)).join("");return this.url.searchParams.set("select",a),n&&(this.headers.Prefer=`count=${n}`),new Qs.default({method:s,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(t,{count:r,defaultToNull:n=!0}={}){const s="POST",o=[];if(this.headers.Prefer&&o.push(this.headers.Prefer),r&&o.push(`count=${r}`),n||o.push("missing=default"),this.headers.Prefer=o.join(","),Array.isArray(t)){const a=t.reduce((l,c)=>l.concat(Object.keys(c)),[]);if(a.length>0){const l=[...new Set(a)].map(c=>`"${c}"`);this.url.searchParams.set("columns",l.join(","))}}return new Qs.default({method:s,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}upsert(t,{onConflict:r,ignoreDuplicates:n=!1,count:s,defaultToNull:o=!0}={}){const a="POST",l=[`resolution=${n?"ignore":"merge"}-duplicates`];if(r!==void 0&&this.url.searchParams.set("on_conflict",r),this.headers.Prefer&&l.push(this.headers.Prefer),s&&l.push(`count=${s}`),o||l.push("missing=default"),this.headers.Prefer=l.join(","),Array.isArray(t)){const c=t.reduce((u,d)=>u.concat(Object.keys(d)),[]);if(c.length>0){const u=[...new Set(c)].map(d=>`"${d}"`);this.url.searchParams.set("columns",u.join(","))}}return new Qs.default({method:a,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}update(t,{count:r}={}){const n="PATCH",s=[];return this.headers.Prefer&&s.push(this.headers.Prefer),r&&s.push(`count=${r}`),this.headers.Prefer=s.join(","),new Qs.default({method:n,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}delete({count:t}={}){const r="DELETE",n=[];return t&&n.push(`count=${t}`),this.headers.Prefer&&n.unshift(this.headers.Prefer),this.headers.Prefer=n.join(","),new Qs.default({method:r,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}};hl.default=_k;var gl={},yl={};Object.defineProperty(yl,"__esModule",{value:!0});yl.version=void 0;yl.version="0.0.0-automated";Object.defineProperty(gl,"__esModule",{value:!0});gl.DEFAULT_HEADERS=void 0;const kk=yl;gl.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${kk.version}`};var D0=Pt&&Pt.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(vh,"__esModule",{value:!0});const Pk=D0(hl),Ck=D0(no),Ek=gl;let Tk=class M0{constructor(t,{headers:r={},schema:n,fetch:s}={}){this.url=t,this.headers=Object.assign(Object.assign({},Ek.DEFAULT_HEADERS),r),this.schemaName=n,this.fetch=s}from(t){const r=new URL(`${this.url}/${t}`);return new Pk.default(r,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(t){return new M0(this.url,{headers:this.headers,schema:t,fetch:this.fetch})}rpc(t,r={},{head:n=!1,get:s=!1,count:o}={}){let a;const l=new URL(`${this.url}/rpc/${t}`);let c;n||s?(a=n?"HEAD":"GET",Object.entries(r).filter(([d,h])=>h!==void 0).map(([d,h])=>[d,Array.isArray(h)?`{${h.join(",")}}`:`${h}`]).forEach(([d,h])=>{l.searchParams.append(d,h)})):(a="POST",c=r);const u=Object.assign({},this.headers);return o&&(u.Prefer=`count=${o}`),new Ck.default({method:a,url:l,headers:u,schema:this.schemaName,body:c,fetch:this.fetch,allowEmpty:!1})}};vh.default=Tk;var Ds=Pt&&Pt.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(rt,"__esModule",{value:!0});rt.PostgrestError=rt.PostgrestBuilder=rt.PostgrestTransformBuilder=rt.PostgrestFilterBuilder=rt.PostgrestQueryBuilder=rt.PostgrestClient=void 0;const U0=Ds(vh);rt.PostgrestClient=U0.default;const F0=Ds(hl);rt.PostgrestQueryBuilder=F0.default;const $0=Ds(no);rt.PostgrestFilterBuilder=$0.default;const V0=Ds(fl);rt.PostgrestTransformBuilder=V0.default;const B0=Ds(ml);rt.PostgrestBuilder=B0.default;const z0=Ds(pl);rt.PostgrestError=z0.default;var Ak=rt.default={PostgrestClient:U0.default,PostgrestQueryBuilder:F0.default,PostgrestFilterBuilder:$0.default,PostgrestTransformBuilder:V0.default,PostgrestBuilder:B0.default,PostgrestError:z0.default};const{PostgrestClient:Ik,PostgrestQueryBuilder:KT,PostgrestFilterBuilder:GT,PostgrestTransformBuilder:YT,PostgrestBuilder:JT,PostgrestError:QT}=Ak;function Rk(){if(typeof WebSocket<"u")return WebSocket;if(typeof global.WebSocket<"u")return global.WebSocket;if(typeof window.WebSocket<"u")return window.WebSocket;if(typeof self.WebSocket<"u")return self.WebSocket;throw new Error("`WebSocket` is not supported in this environment")}const Ok=Rk(),Lk="2.11.15",Dk=`realtime-js/${Lk}`,Mk="1.0.0",q0=1e4,Uk=1e3;var wi;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(wi||(wi={}));var Me;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(Me||(Me={}));var Lt;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(Lt||(Lt={}));var Fu;(function(e){e.websocket="websocket"})(Fu||(Fu={}));var mn;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(mn||(mn={}));class Fk{constructor(){this.HEADER_LENGTH=1}decode(t,r){return t.constructor===ArrayBuffer?r(this._binaryDecode(t)):r(typeof t=="string"?JSON.parse(t):{})}_binaryDecode(t){const r=new DataView(t),n=new TextDecoder;return this._decodeBroadcast(t,r,n)}_decodeBroadcast(t,r,n){const s=r.getUint8(1),o=r.getUint8(2);let a=this.HEADER_LENGTH+2;const l=n.decode(t.slice(a,a+s));a=a+s;const c=n.decode(t.slice(a,a+o));a=a+o;const u=JSON.parse(n.decode(t.slice(a,t.byteLength)));return{ref:null,topic:l,event:c,payload:u}}}class W0{constructor(t,r){this.callback=t,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var ie;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(ie||(ie={}));const lp=(e,t,r={})=>{var n;const s=(n=r.skipTypes)!==null&&n!==void 0?n:[];return Object.keys(t).reduce((o,a)=>(o[a]=$k(a,e,t,s),o),{})},$k=(e,t,r,n)=>{const s=t.find(l=>l.name===e),o=s==null?void 0:s.type,a=r[e];return o&&!n.includes(o)?H0(o,a):$u(a)},H0=(e,t)=>{if(e.charAt(0)==="_"){const r=e.slice(1,e.length);return qk(t,r)}switch(e){case ie.bool:return Vk(t);case ie.float4:case ie.float8:case ie.int2:case ie.int4:case ie.int8:case ie.numeric:case ie.oid:return Bk(t);case ie.json:case ie.jsonb:return zk(t);case ie.timestamp:return Wk(t);case ie.abstime:case ie.date:case ie.daterange:case ie.int4range:case ie.int8range:case ie.money:case ie.reltime:case ie.text:case ie.time:case ie.timestamptz:case ie.timetz:case ie.tsrange:case ie.tstzrange:return $u(t);default:return $u(t)}},$u=e=>e,Vk=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},Bk=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},zk=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(t){return console.log(`JSON parse error: ${t}`),e}return e},qk=(e,t)=>{if(typeof e!="string")return e;const r=e.length-1,n=e[r];if(e[0]==="{"&&n==="}"){let o;const a=e.slice(1,r);try{o=JSON.parse("["+a+"]")}catch{o=a?a.split(","):[]}return o.map(l=>H0(t,l))}return e},Wk=e=>typeof e=="string"?e.replace(" ","T"):e,K0=e=>{let t=e;return t=t.replace(/^ws/i,"http"),t=t.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),t.replace(/\/+$/,"")};class dc{constructor(t,r,n={},s=q0){this.channel=t,this.event=r,this.payload=n,this.timeout=s,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,r){var n;return this._hasReceived(t)&&r((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:t,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:r}){this.recHooks.filter(n=>n.status===t).forEach(n=>n.callback(r))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var cp;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(cp||(cp={}));class bi{constructor(t,r){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=(r==null?void 0:r.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},s=>{const{onJoin:o,onLeave:a,onSync:l}=this.caller;this.joinRef=this.channel._joinRef(),this.state=bi.syncState(this.state,s,o,a),this.pendingDiffs.forEach(c=>{this.state=bi.syncDiff(this.state,c,o,a)}),this.pendingDiffs=[],l()}),this.channel._on(n.diff,{},s=>{const{onJoin:o,onLeave:a,onSync:l}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(s):(this.state=bi.syncDiff(this.state,s,o,a),l())}),this.onJoin((s,o,a)=>{this.channel._trigger("presence",{event:"join",key:s,currentPresences:o,newPresences:a})}),this.onLeave((s,o,a)=>{this.channel._trigger("presence",{event:"leave",key:s,currentPresences:o,leftPresences:a})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,r,n,s){const o=this.cloneDeep(t),a=this.transformState(r),l={},c={};return this.map(o,(u,d)=>{a[u]||(c[u]=d)}),this.map(a,(u,d)=>{const h=o[u];if(h){const f=d.map(w=>w.presence_ref),p=h.map(w=>w.presence_ref),v=d.filter(w=>p.indexOf(w.presence_ref)<0),b=h.filter(w=>f.indexOf(w.presence_ref)<0);v.length>0&&(l[u]=v),b.length>0&&(c[u]=b)}else l[u]=d}),this.syncDiff(o,{joins:l,leaves:c},n,s)}static syncDiff(t,r,n,s){const{joins:o,leaves:a}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return n||(n=()=>{}),s||(s=()=>{}),this.map(o,(l,c)=>{var u;const d=(u=t[l])!==null&&u!==void 0?u:[];if(t[l]=this.cloneDeep(c),d.length>0){const h=t[l].map(p=>p.presence_ref),f=d.filter(p=>h.indexOf(p.presence_ref)<0);t[l].unshift(...f)}n(l,d,c)}),this.map(a,(l,c)=>{let u=t[l];if(!u)return;const d=c.map(h=>h.presence_ref);u=u.filter(h=>d.indexOf(h.presence_ref)<0),t[l]=u,s(l,u,c),u.length===0&&delete t[l]}),t}static map(t,r){return Object.getOwnPropertyNames(t).map(n=>r(n,t[n]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((r,n)=>{const s=t[n];return"metas"in s?r[n]=s.metas.map(o=>(o.presence_ref=o.phx_ref,delete o.phx_ref,delete o.phx_ref_prev,o)):r[n]=s,r},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var up;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(up||(up={}));var dp;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(dp||(dp={}));var tr;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(tr||(tr={}));class wh{constructor(t,r={config:{}},n){this.topic=t,this.params=r,this.socket=n,this.bindings={},this.state=Me.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new dc(this,Lt.join,this.params,this.timeout),this.rejoinTimer=new W0(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Me.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(s=>s.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Me.closed,this.socket._remove(this)}),this._onError(s=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,s),this.state=Me.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Me.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Lt.reply,{},(s,o)=>{this._trigger(this._replyEventName(o),s)}),this.presence=new bi(this),this.broadcastEndpointURL=K0(this.socket.endPoint)+"/api/broadcast",this.private=this.params.config.private||!1}subscribe(t,r=this.timeout){var n,s;if(this.socket.isConnected()||this.socket.connect(),this.state==Me.closed){const{config:{broadcast:o,presence:a,private:l}}=this.params;this._onError(d=>t==null?void 0:t(tr.CHANNEL_ERROR,d)),this._onClose(()=>t==null?void 0:t(tr.CLOSED));const c={},u={broadcast:o,presence:a,postgres_changes:(s=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(d=>d.filter))!==null&&s!==void 0?s:[],private:l};this.socket.accessTokenValue&&(c.access_token=this.socket.accessTokenValue),this.updateJoinPayload(Object.assign({config:u},c)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:d})=>{var h;if(this.socket.setAuth(),d===void 0){t==null||t(tr.SUBSCRIBED);return}else{const f=this.bindings.postgres_changes,p=(h=f==null?void 0:f.length)!==null&&h!==void 0?h:0,v=[];for(let b=0;b<p;b++){const w=f[b],{filter:{event:g,schema:y,table:m,filter:j}}=w,N=d&&d[b];if(N&&N.event===g&&N.schema===y&&N.table===m&&N.filter===j)v.push(Object.assign(Object.assign({},w),{id:N.id}));else{this.unsubscribe(),this.state=Me.errored,t==null||t(tr.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=v,t&&t(tr.SUBSCRIBED);return}}).receive("error",d=>{this.state=Me.errored,t==null||t(tr.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(d).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(tr.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,r={}){return await this.send({type:"presence",event:"track",payload:t},r.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,r,n){return this._on(t,r,n)}async send(t,r={}){var n,s;if(!this._canPush()&&t.type==="broadcast"){const{event:o,payload:a}=t,c={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:o,payload:a,private:this.private}]})};try{const u=await this._fetchWithTimeout(this.broadcastEndpointURL,c,(n=r.timeout)!==null&&n!==void 0?n:this.timeout);return await((s=u.body)===null||s===void 0?void 0:s.cancel()),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(o=>{var a,l,c;const u=this._push(t.type,t,r.timeout||this.timeout);t.type==="broadcast"&&!(!((c=(l=(a=this.params)===null||a===void 0?void 0:a.config)===null||l===void 0?void 0:l.broadcast)===null||c===void 0)&&c.ack)&&o("ok"),u.receive("ok",()=>o("ok")),u.receive("error",()=>o("error")),u.receive("timeout",()=>o("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=Me.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Lt.close,"leave",this._joinRef())};this.joinPush.destroy();let n=null;return new Promise(s=>{n=new dc(this,Lt.leave,{},t),n.receive("ok",()=>{r(),s("ok")}).receive("timeout",()=>{r(),s("timed out")}).receive("error",()=>{s("error")}),n.send(),this._canPush()||n.trigger("ok",{})}).finally(()=>{n==null||n.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.rejoinTimer&&clearTimeout(this.rejoinTimer.timer),this.joinPush.destroy()}async _fetchWithTimeout(t,r,n){const s=new AbortController,o=setTimeout(()=>s.abort(),n),a=await this.socket.fetch(t,Object.assign(Object.assign({},r),{signal:s.signal}));return clearTimeout(o),a}_push(t,r,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let s=new dc(this,t,r,n);return this._canPush()?s.send():(s.startTimeout(),this.pushBuffer.push(s)),s}_onMessage(t,r,n){return r}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,r,n){var s,o;const a=t.toLocaleLowerCase(),{close:l,error:c,leave:u,join:d}=Lt;if(n&&[l,c,u,d].indexOf(a)>=0&&n!==this._joinRef())return;let f=this._onMessage(a,r,n);if(r&&!f)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(a)?(s=this.bindings.postgres_changes)===null||s===void 0||s.filter(p=>{var v,b,w;return((v=p.filter)===null||v===void 0?void 0:v.event)==="*"||((w=(b=p.filter)===null||b===void 0?void 0:b.event)===null||w===void 0?void 0:w.toLocaleLowerCase())===a}).map(p=>p.callback(f,n)):(o=this.bindings[a])===null||o===void 0||o.filter(p=>{var v,b,w,g,y,m;if(["broadcast","presence","postgres_changes"].includes(a))if("id"in p){const j=p.id,N=(v=p.filter)===null||v===void 0?void 0:v.event;return j&&((b=r.ids)===null||b===void 0?void 0:b.includes(j))&&(N==="*"||(N==null?void 0:N.toLocaleLowerCase())===((w=r.data)===null||w===void 0?void 0:w.type.toLocaleLowerCase()))}else{const j=(y=(g=p==null?void 0:p.filter)===null||g===void 0?void 0:g.event)===null||y===void 0?void 0:y.toLocaleLowerCase();return j==="*"||j===((m=r==null?void 0:r.event)===null||m===void 0?void 0:m.toLocaleLowerCase())}else return p.type.toLocaleLowerCase()===a}).map(p=>{if(typeof f=="object"&&"ids"in f){const v=f.data,{schema:b,table:w,commit_timestamp:g,type:y,errors:m}=v;f=Object.assign(Object.assign({},{schema:b,table:w,commit_timestamp:g,eventType:y,new:{},old:{},errors:m}),this._getPayloadRecords(v))}p.callback(f,n)})}_isClosed(){return this.state===Me.closed}_isJoined(){return this.state===Me.joined}_isJoining(){return this.state===Me.joining}_isLeaving(){return this.state===Me.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,r,n){const s=t.toLocaleLowerCase(),o={type:s,filter:r,callback:n};return this.bindings[s]?this.bindings[s].push(o):this.bindings[s]=[o],this}_off(t,r){const n=t.toLocaleLowerCase();return this.bindings[n]=this.bindings[n].filter(s=>{var o;return!(((o=s.type)===null||o===void 0?void 0:o.toLocaleLowerCase())===n&&wh.isEqual(s.filter,r))}),this}static isEqual(t,r){if(Object.keys(t).length!==Object.keys(r).length)return!1;for(const n in t)if(t[n]!==r[n])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(Lt.close,{},t)}_onError(t){this._on(Lt.error,{},r=>t(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Me.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const r={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(r.new=lp(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(r.old=lp(t.columns,t.old_record)),r}}const hp=()=>{},Hk=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class Kk{constructor(t,r){var n;this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=q0,this.heartbeatIntervalMs=25e3,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=hp,this.ref=0,this.logger=hp,this.conn=null,this.sendBuffer=[],this.serializer=new Fk,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._resolveFetch=o=>{let a;return o?a=o:typeof fetch>"u"?a=(...l)=>ro(()=>Promise.resolve().then(()=>Ls),void 0).then(({default:c})=>c(...l)):a=fetch,(...l)=>a(...l)},this.endPoint=`${t}/${Fu.websocket}`,this.httpEndpoint=K0(t),r!=null&&r.transport?this.transport=r.transport:this.transport=null,r!=null&&r.params&&(this.params=r.params),r!=null&&r.timeout&&(this.timeout=r.timeout),r!=null&&r.logger&&(this.logger=r.logger),(r!=null&&r.logLevel||r!=null&&r.log_level)&&(this.logLevel=r.logLevel||r.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),r!=null&&r.heartbeatIntervalMs&&(this.heartbeatIntervalMs=r.heartbeatIntervalMs);const s=(n=r==null?void 0:r.params)===null||n===void 0?void 0:n.apikey;if(s&&(this.accessTokenValue=s,this.apiKey=s),this.reconnectAfterMs=r!=null&&r.reconnectAfterMs?r.reconnectAfterMs:o=>[1e3,2e3,5e3,1e4][o-1]||1e4,this.encode=r!=null&&r.encode?r.encode:(o,a)=>a(JSON.stringify(o)),this.decode=r!=null&&r.decode?r.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new W0(async()=>{this.disconnect(),this.connect()},this.reconnectAfterMs),this.fetch=this._resolveFetch(r==null?void 0:r.fetch),r!=null&&r.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.worker=(r==null?void 0:r.worker)||!1,this.workerUrl=r==null?void 0:r.workerUrl}this.accessToken=(r==null?void 0:r.accessToken)||null}connect(){if(!this.conn){if(this.transport||(this.transport=Ok),!this.transport)throw new Error("No transport provided");this.conn=new this.transport(this.endpointURL()),this.setupConnection()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:Mk}))}disconnect(t,r){this.conn&&(this.conn.onclose=function(){},t?this.conn.close(t,r??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset(),this.channels.forEach(n=>n.teardown()))}getChannels(){return this.channels}async removeChannel(t){const r=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const t=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,r,n){this.logger(t,r,n)}connectionState(){switch(this.conn&&this.conn.readyState){case wi.connecting:return mn.Connecting;case wi.open:return mn.Open;case wi.closing:return mn.Closing;default:return mn.Closed}}isConnected(){return this.connectionState()===mn.Open}channel(t,r={config:{}}){const n=`realtime:${t}`,s=this.getChannels().find(o=>o.topic===n);if(s)return s;{const o=new wh(`realtime:${t}`,r,this);return this.channels.push(o),o}}push(t){const{topic:r,event:n,payload:s,ref:o}=t,a=()=>{this.encode(t,l=>{var c;(c=this.conn)===null||c===void 0||c.send(l)})};this.log("push",`${r} ${n} (${o})`,s),this.isConnected()?a():this.sendBuffer.push(a)}async setAuth(t=null){let r=t||this.accessToken&&await this.accessToken()||this.accessTokenValue;this.accessTokenValue!=r&&(this.accessTokenValue=r,this.channels.forEach(n=>{const s={access_token:r,version:Dk};r&&n.updateJoinPayload(s),n.joinedOnce&&n._isJoined()&&n._push(Lt.access_token,{access_token:r})}))}async sendHeartbeat(){var t;if(!this.isConnected()){this.heartbeatCallback("disconnected");return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),this.heartbeatCallback("timeout"),(t=this.conn)===null||t===void 0||t.close(Uk,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.heartbeatCallback("sent"),await this.setAuth()}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let r=this.channels.find(n=>n.topic===t&&(n._isJoined()||n._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${t}"`),r.unsubscribe())}_remove(t){this.channels=this.channels.filter(r=>r.topic!==t.topic)}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_onConnMessage(t){this.decode(t.data,r=>{let{topic:n,event:s,payload:o,ref:a}=r;n==="phoenix"&&s==="phx_reply"&&this.heartbeatCallback(r.payload.status=="ok"?"ok":"error"),a&&a===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null),this.log("receive",`${o.status||""} ${n} ${s} ${a&&"("+a+")"||""}`,o),Array.from(this.channels).filter(l=>l._isMember(n)).forEach(l=>l._trigger(s,o,a)),this.stateChangeCallbacks.message.forEach(l=>l(r))})}_onConnOpen(){this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this.reconnectTimer.reset(),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this.stateChangeCallbacks.open.forEach(t=>t())}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this.workerRef.terminate()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(t){this.log("transport","close",t),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(r=>r(t))}_onConnError(t){this.log("transport",`${t}`),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(r=>r(t))}_triggerChanError(){this.channels.forEach(t=>t._trigger(Lt.error))}_appendParams(t,r){if(Object.keys(r).length===0)return t;const n=t.match(/\?/)?"&":"?",s=new URLSearchParams(r);return`${t}${n}${s}`}_workerObjectUrl(t){let r;if(t)r=t;else{const n=new Blob([Hk],{type:"application/javascript"});r=URL.createObjectURL(n)}return r}}class bh extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function Pe(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}class Gk extends bh{constructor(t,r){super(t),this.name="StorageApiError",this.status=r}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class Vu extends bh{constructor(t,r){super(t),this.name="StorageUnknownError",this.originalError=r}}var Yk=globalThis&&globalThis.__awaiter||function(e,t,r,n){function s(o){return o instanceof r?o:new r(function(a){a(o)})}return new(r||(r=Promise))(function(o,a){function l(d){try{u(n.next(d))}catch(h){a(h)}}function c(d){try{u(n.throw(d))}catch(h){a(h)}}function u(d){d.done?o(d.value):s(d.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};const G0=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>ro(()=>Promise.resolve().then(()=>Ls),void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)},Jk=()=>Yk(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield ro(()=>Promise.resolve().then(()=>Ls),void 0)).Response:Response}),Bu=e=>{if(Array.isArray(e))return e.map(r=>Bu(r));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([r,n])=>{const s=r.replace(/([-_][a-z])/gi,o=>o.toUpperCase().replace(/[-_]/g,""));t[s]=Bu(n)}),t};var In=globalThis&&globalThis.__awaiter||function(e,t,r,n){function s(o){return o instanceof r?o:new r(function(a){a(o)})}return new(r||(r=Promise))(function(o,a){function l(d){try{u(n.next(d))}catch(h){a(h)}}function c(d){try{u(n.throw(d))}catch(h){a(h)}}function u(d){d.done?o(d.value):s(d.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};const hc=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),Qk=(e,t,r)=>In(void 0,void 0,void 0,function*(){const n=yield Jk();e instanceof n&&!(r!=null&&r.noResolveJson)?e.json().then(s=>{t(new Gk(hc(s),e.status||500))}).catch(s=>{t(new Vu(hc(s),s))}):t(new Vu(hc(e),e))}),Zk=(e,t,r,n)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),n&&(s.body=JSON.stringify(n)),Object.assign(Object.assign({},s),r))};function so(e,t,r,n,s,o){return In(this,void 0,void 0,function*(){return new Promise((a,l)=>{e(r,Zk(t,n,s,o)).then(c=>{if(!c.ok)throw c;return n!=null&&n.noResolveJson?c:c.json()}).then(c=>a(c)).catch(c=>Qk(c,l,n))})})}function La(e,t,r,n){return In(this,void 0,void 0,function*(){return so(e,"GET",t,r,n)})}function _r(e,t,r,n,s){return In(this,void 0,void 0,function*(){return so(e,"POST",t,n,s,r)})}function Xk(e,t,r,n,s){return In(this,void 0,void 0,function*(){return so(e,"PUT",t,n,s,r)})}function eP(e,t,r,n){return In(this,void 0,void 0,function*(){return so(e,"HEAD",t,Object.assign(Object.assign({},r),{noResolveJson:!0}),n)})}function Y0(e,t,r,n,s){return In(this,void 0,void 0,function*(){return so(e,"DELETE",t,n,s,r)})}var Xe=globalThis&&globalThis.__awaiter||function(e,t,r,n){function s(o){return o instanceof r?o:new r(function(a){a(o)})}return new(r||(r=Promise))(function(o,a){function l(d){try{u(n.next(d))}catch(h){a(h)}}function c(d){try{u(n.throw(d))}catch(h){a(h)}}function u(d){d.done?o(d.value):s(d.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};const tP={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},fp={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class rP{constructor(t,r={},n,s){this.url=t,this.headers=r,this.bucketId=n,this.fetch=G0(s)}uploadOrUpdate(t,r,n,s){return Xe(this,void 0,void 0,function*(){try{let o;const a=Object.assign(Object.assign({},fp),s);let l=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(a.upsert)});const c=a.metadata;typeof Blob<"u"&&n instanceof Blob?(o=new FormData,o.append("cacheControl",a.cacheControl),c&&o.append("metadata",this.encodeMetadata(c)),o.append("",n)):typeof FormData<"u"&&n instanceof FormData?(o=n,o.append("cacheControl",a.cacheControl),c&&o.append("metadata",this.encodeMetadata(c))):(o=n,l["cache-control"]=`max-age=${a.cacheControl}`,l["content-type"]=a.contentType,c&&(l["x-metadata"]=this.toBase64(this.encodeMetadata(c)))),s!=null&&s.headers&&(l=Object.assign(Object.assign({},l),s.headers));const u=this._removeEmptyFolders(r),d=this._getFinalPath(u),h=yield this.fetch(`${this.url}/object/${d}`,Object.assign({method:t,body:o,headers:l},a!=null&&a.duplex?{duplex:a.duplex}:{})),f=yield h.json();return h.ok?{data:{path:u,id:f.Id,fullPath:f.Key},error:null}:{data:null,error:f}}catch(o){if(Pe(o))return{data:null,error:o};throw o}})}upload(t,r,n){return Xe(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,r,n)})}uploadToSignedUrl(t,r,n,s){return Xe(this,void 0,void 0,function*(){const o=this._removeEmptyFolders(t),a=this._getFinalPath(o),l=new URL(this.url+`/object/upload/sign/${a}`);l.searchParams.set("token",r);try{let c;const u=Object.assign({upsert:fp.upsert},s),d=Object.assign(Object.assign({},this.headers),{"x-upsert":String(u.upsert)});typeof Blob<"u"&&n instanceof Blob?(c=new FormData,c.append("cacheControl",u.cacheControl),c.append("",n)):typeof FormData<"u"&&n instanceof FormData?(c=n,c.append("cacheControl",u.cacheControl)):(c=n,d["cache-control"]=`max-age=${u.cacheControl}`,d["content-type"]=u.contentType);const h=yield this.fetch(l.toString(),{method:"PUT",body:c,headers:d}),f=yield h.json();return h.ok?{data:{path:o,fullPath:f.Key},error:null}:{data:null,error:f}}catch(c){if(Pe(c))return{data:null,error:c};throw c}})}createSignedUploadUrl(t,r){return Xe(this,void 0,void 0,function*(){try{let n=this._getFinalPath(t);const s=Object.assign({},this.headers);r!=null&&r.upsert&&(s["x-upsert"]="true");const o=yield _r(this.fetch,`${this.url}/object/upload/sign/${n}`,{},{headers:s}),a=new URL(this.url+o.url),l=a.searchParams.get("token");if(!l)throw new bh("No token returned by API");return{data:{signedUrl:a.toString(),path:t,token:l},error:null}}catch(n){if(Pe(n))return{data:null,error:n};throw n}})}update(t,r,n){return Xe(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,r,n)})}move(t,r,n){return Xe(this,void 0,void 0,function*(){try{return{data:yield _r(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers}),error:null}}catch(s){if(Pe(s))return{data:null,error:s};throw s}})}copy(t,r,n){return Xe(this,void 0,void 0,function*(){try{return{data:{path:(yield _r(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers})).Key},error:null}}catch(s){if(Pe(s))return{data:null,error:s};throw s}})}createSignedUrl(t,r,n){return Xe(this,void 0,void 0,function*(){try{let s=this._getFinalPath(t),o=yield _r(this.fetch,`${this.url}/object/sign/${s}`,Object.assign({expiresIn:r},n!=null&&n.transform?{transform:n.transform}:{}),{headers:this.headers});const a=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return o={signedUrl:encodeURI(`${this.url}${o.signedURL}${a}`)},{data:o,error:null}}catch(s){if(Pe(s))return{data:null,error:s};throw s}})}createSignedUrls(t,r,n){return Xe(this,void 0,void 0,function*(){try{const s=yield _r(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:r,paths:t},{headers:this.headers}),o=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return{data:s.map(a=>Object.assign(Object.assign({},a),{signedUrl:a.signedURL?encodeURI(`${this.url}${a.signedURL}${o}`):null})),error:null}}catch(s){if(Pe(s))return{data:null,error:s};throw s}})}download(t,r){return Xe(this,void 0,void 0,function*(){const s=typeof(r==null?void 0:r.transform)<"u"?"render/image/authenticated":"object",o=this.transformOptsToQueryString((r==null?void 0:r.transform)||{}),a=o?`?${o}`:"";try{const l=this._getFinalPath(t);return{data:yield(yield La(this.fetch,`${this.url}/${s}/${l}${a}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(l){if(Pe(l))return{data:null,error:l};throw l}})}info(t){return Xe(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{const n=yield La(this.fetch,`${this.url}/object/info/${r}`,{headers:this.headers});return{data:Bu(n),error:null}}catch(n){if(Pe(n))return{data:null,error:n};throw n}})}exists(t){return Xe(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{return yield eP(this.fetch,`${this.url}/object/${r}`,{headers:this.headers}),{data:!0,error:null}}catch(n){if(Pe(n)&&n instanceof Vu){const s=n.originalError;if([400,404].includes(s==null?void 0:s.status))return{data:!1,error:n}}throw n}})}getPublicUrl(t,r){const n=this._getFinalPath(t),s=[],o=r!=null&&r.download?`download=${r.download===!0?"":r.download}`:"";o!==""&&s.push(o);const l=typeof(r==null?void 0:r.transform)<"u"?"render/image":"object",c=this.transformOptsToQueryString((r==null?void 0:r.transform)||{});c!==""&&s.push(c);let u=s.join("&");return u!==""&&(u=`?${u}`),{data:{publicUrl:encodeURI(`${this.url}/${l}/public/${n}${u}`)}}}remove(t){return Xe(this,void 0,void 0,function*(){try{return{data:yield Y0(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(r){if(Pe(r))return{data:null,error:r};throw r}})}list(t,r,n){return Xe(this,void 0,void 0,function*(){try{const s=Object.assign(Object.assign(Object.assign({},tP),r),{prefix:t||""});return{data:yield _r(this.fetch,`${this.url}/object/list/${this.bucketId}`,s,{headers:this.headers},n),error:null}}catch(s){if(Pe(s))return{data:null,error:s};throw s}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const r=[];return t.width&&r.push(`width=${t.width}`),t.height&&r.push(`height=${t.height}`),t.resize&&r.push(`resize=${t.resize}`),t.format&&r.push(`format=${t.format}`),t.quality&&r.push(`quality=${t.quality}`),r.join("&")}}const nP="2.7.1",sP={"X-Client-Info":`storage-js/${nP}`};var Dn=globalThis&&globalThis.__awaiter||function(e,t,r,n){function s(o){return o instanceof r?o:new r(function(a){a(o)})}return new(r||(r=Promise))(function(o,a){function l(d){try{u(n.next(d))}catch(h){a(h)}}function c(d){try{u(n.throw(d))}catch(h){a(h)}}function u(d){d.done?o(d.value):s(d.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};class iP{constructor(t,r={},n){this.url=t,this.headers=Object.assign(Object.assign({},sP),r),this.fetch=G0(n)}listBuckets(){return Dn(this,void 0,void 0,function*(){try{return{data:yield La(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(t){if(Pe(t))return{data:null,error:t};throw t}})}getBucket(t){return Dn(this,void 0,void 0,function*(){try{return{data:yield La(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(r){if(Pe(r))return{data:null,error:r};throw r}})}createBucket(t,r={public:!1}){return Dn(this,void 0,void 0,function*(){try{return{data:yield _r(this.fetch,`${this.url}/bucket`,{id:t,name:t,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(Pe(n))return{data:null,error:n};throw n}})}updateBucket(t,r){return Dn(this,void 0,void 0,function*(){try{return{data:yield Xk(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(Pe(n))return{data:null,error:n};throw n}})}emptyBucket(t){return Dn(this,void 0,void 0,function*(){try{return{data:yield _r(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(r){if(Pe(r))return{data:null,error:r};throw r}})}deleteBucket(t){return Dn(this,void 0,void 0,function*(){try{return{data:yield Y0(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(r){if(Pe(r))return{data:null,error:r};throw r}})}}class oP extends iP{constructor(t,r={},n){super(t,r,n)}from(t){return new rP(this.url,this.headers,t,this.fetch)}}const aP="2.51.0";let ii="";typeof Deno<"u"?ii="deno":typeof document<"u"?ii="web":typeof navigator<"u"&&navigator.product==="ReactNative"?ii="react-native":ii="node";const lP={"X-Client-Info":`supabase-js-${ii}/${aP}`},cP={headers:lP},uP={schema:"public"},dP={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},hP={};var fP=globalThis&&globalThis.__awaiter||function(e,t,r,n){function s(o){return o instanceof r?o:new r(function(a){a(o)})}return new(r||(r=Promise))(function(o,a){function l(d){try{u(n.next(d))}catch(h){a(h)}}function c(d){try{u(n.throw(d))}catch(h){a(h)}}function u(d){d.done?o(d.value):s(d.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};const mP=e=>{let t;return e?t=e:typeof fetch>"u"?t=R0:t=fetch,(...r)=>t(...r)},pP=()=>typeof Headers>"u"?O0:Headers,gP=(e,t,r)=>{const n=mP(r),s=pP();return(o,a)=>fP(void 0,void 0,void 0,function*(){var l;const c=(l=yield t())!==null&&l!==void 0?l:e;let u=new s(a==null?void 0:a.headers);return u.has("apikey")||u.set("apikey",e),u.has("Authorization")||u.set("Authorization",`Bearer ${c}`),n(o,Object.assign(Object.assign({},a),{headers:u}))})};var yP=globalThis&&globalThis.__awaiter||function(e,t,r,n){function s(o){return o instanceof r?o:new r(function(a){a(o)})}return new(r||(r=Promise))(function(o,a){function l(d){try{u(n.next(d))}catch(h){a(h)}}function c(d){try{u(n.throw(d))}catch(h){a(h)}}function u(d){d.done?o(d.value):s(d.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};function xP(e){return e.endsWith("/")?e:e+"/"}function vP(e,t){var r,n;const{db:s,auth:o,realtime:a,global:l}=e,{db:c,auth:u,realtime:d,global:h}=t,f={db:Object.assign(Object.assign({},c),s),auth:Object.assign(Object.assign({},u),o),realtime:Object.assign(Object.assign({},d),a),global:Object.assign(Object.assign(Object.assign({},h),l),{headers:Object.assign(Object.assign({},(r=h==null?void 0:h.headers)!==null&&r!==void 0?r:{}),(n=l==null?void 0:l.headers)!==null&&n!==void 0?n:{})}),accessToken:()=>yP(this,void 0,void 0,function*(){return""})};return e.accessToken?f.accessToken=e.accessToken:delete f.accessToken,f}const J0="2.71.0",Bn=30*1e3,zu=3,fc=zu*Bn,wP="http://localhost:9999",bP="supabase.auth.token",jP={"X-Client-Info":`gotrue-js/${J0}`},qu="X-Supabase-Api-Version",Q0={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},NP=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,SP=10*60*1e3;class jh extends Error{constructor(t,r,n){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=n}}function Q(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class _P extends jh{constructor(t,r,n){super(t,r,n),this.name="AuthApiError",this.status=r,this.code=n}}function kP(e){return Q(e)&&e.name==="AuthApiError"}class Z0 extends jh{constructor(t,r){super(t),this.name="AuthUnknownError",this.originalError=r}}class nn extends jh{constructor(t,r,n,s){super(t,n,s),this.name=r,this.status=n}}class br extends nn{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function PP(e){return Q(e)&&e.name==="AuthSessionMissingError"}class Io extends nn{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Ro extends nn{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class Oo extends nn{constructor(t,r=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function CP(e){return Q(e)&&e.name==="AuthImplicitGrantRedirectError"}class mp extends nn{constructor(t,r=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Wu extends nn{constructor(t,r){super(t,"AuthRetryableFetchError",r,void 0)}}function mc(e){return Q(e)&&e.name==="AuthRetryableFetchError"}class pp extends nn{constructor(t,r,n){super(t,"AuthWeakPasswordError",r,"weak_password"),this.reasons=n}}class Hu extends nn{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const Da="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),gp=` 	
\r=`.split(""),EP=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<gp.length;t+=1)e[gp[t].charCodeAt(0)]=-2;for(let t=0;t<Da.length;t+=1)e[Da[t].charCodeAt(0)]=t;return e})();function yp(e,t,r){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r(Da[n]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r(Da[n]),t.queuedBits-=6}}function X0(e,t,r){const n=EP[e];if(n>-1)for(t.queue=t.queue<<6|n,t.queuedBits+=6;t.queuedBits>=8;)r(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(n===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function xp(e){const t=[],r=a=>{t.push(String.fromCodePoint(a))},n={utf8seq:0,codepoint:0},s={queue:0,queuedBits:0},o=a=>{IP(a,n,r)};for(let a=0;a<e.length;a+=1)X0(e.charCodeAt(a),s,o);return t.join("")}function TP(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function AP(e,t){for(let r=0;r<e.length;r+=1){let n=e.charCodeAt(r);if(n>55295&&n<=56319){const s=(n-55296)*1024&65535;n=(e.charCodeAt(r+1)-56320&65535|s)+65536,r+=1}TP(n,t)}}function IP(e,t,r){if(t.utf8seq===0){if(e<=127){r(e);return}for(let n=1;n<6;n+=1)if(!(e>>7-n&1)){t.utf8seq=n;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&r(t.codepoint)}}function RP(e){const t=[],r={queue:0,queuedBits:0},n=s=>{t.push(s)};for(let s=0;s<e.length;s+=1)X0(e.charCodeAt(s),r,n);return new Uint8Array(t)}function OP(e){const t=[];return AP(e,r=>t.push(r)),new Uint8Array(t)}function LP(e){const t=[],r={queue:0,queuedBits:0},n=s=>{t.push(s)};return e.forEach(s=>yp(s,r,n)),yp(null,r,n),t.join("")}function DP(e){return Math.round(Date.now()/1e3)+e}function MP(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){const t=Math.random()*16|0;return(e=="x"?t:t&3|8).toString(16)})}const It=()=>typeof window<"u"&&typeof document<"u",on={tested:!1,writable:!1},ev=()=>{if(!It())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(on.tested)return on.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),on.tested=!0,on.writable=!0}catch{on.tested=!0,on.writable=!1}return on.writable};function UP(e){const t={},r=new URL(e);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((s,o)=>{t[o]=s})}catch{}return r.searchParams.forEach((n,s)=>{t[s]=n}),t}const tv=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>ro(()=>Promise.resolve().then(()=>Ls),void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)},FP=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",zn=async(e,t,r)=>{await e.setItem(t,JSON.stringify(r))},an=async(e,t)=>{const r=await e.getItem(t);if(!r)return null;try{return JSON.parse(r)}catch{return r}},xr=async(e,t)=>{await e.removeItem(t)};class xl{constructor(){this.promise=new xl.promiseConstructor((t,r)=>{this.resolve=t,this.reject=r})}}xl.promiseConstructor=Promise;function pc(e){const t=e.split(".");if(t.length!==3)throw new Hu("Invalid JWT structure");for(let n=0;n<t.length;n++)if(!NP.test(t[n]))throw new Hu("JWT not in base64url format");return{header:JSON.parse(xp(t[0])),payload:JSON.parse(xp(t[1])),signature:RP(t[2]),raw:{header:t[0],payload:t[1]}}}async function $P(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function VP(e,t){return new Promise((n,s)=>{(async()=>{for(let o=0;o<1/0;o++)try{const a=await e(o);if(!t(o,null,a)){n(a);return}}catch(a){if(!t(o,a)){s(a);return}}})()})}function BP(e){return("0"+e.toString(16)).substr(-2)}function zP(){const t=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=r.length;let s="";for(let o=0;o<56;o++)s+=r.charAt(Math.floor(Math.random()*n));return s}return crypto.getRandomValues(t),Array.from(t,BP).join("")}async function qP(e){const r=new TextEncoder().encode(e),n=await crypto.subtle.digest("SHA-256",r),s=new Uint8Array(n);return Array.from(s).map(o=>String.fromCharCode(o)).join("")}async function WP(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const r=await qP(e);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Mn(e,t,r=!1){const n=zP();let s=n;r&&(s+="/PASSWORD_RECOVERY"),await zn(e,`${t}-code-verifier`,s);const o=await WP(n);return[o,n===o?"plain":"s256"]}const HP=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function KP(e){const t=e.headers.get(qu);if(!t||!t.match(HP))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function GP(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function YP(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const JP=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Un(e){if(!JP.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function gc(){const e={};return new Proxy(e,{get:(t,r)=>{if(r==="__isUserNotAvailableProxy")return!0;if(typeof r=="symbol"){const n=r.toString();if(n==="Symbol(Symbol.toPrimitive)"||n==="Symbol(Symbol.toStringTag)"||n==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${r}" property of the session object is not supported. Please use getUser() instead.`)},set:(t,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(t,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}var QP=globalThis&&globalThis.__rest||function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(e);s<n.length;s++)t.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(e,n[s])&&(r[n[s]]=e[n[s]]);return r};const fn=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),ZP=[502,503,504];async function vp(e){var t;if(!FP(e))throw new Wu(fn(e),0);if(ZP.includes(e.status))throw new Wu(fn(e),e.status);let r;try{r=await e.json()}catch(o){throw new Z0(fn(o),o)}let n;const s=KP(e);if(s&&s.getTime()>=Q0["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?n=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(n=r.error_code),n){if(n==="weak_password")throw new pp(fn(r),e.status,((t=r.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(n==="session_not_found")throw new br}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((o,a)=>o&&typeof a=="string",!0))throw new pp(fn(r),e.status,r.weak_password.reasons);throw new _P(fn(r),e.status||500,n)}const XP=(e,t,r,n)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),s.body=JSON.stringify(n),Object.assign(Object.assign({},s),r))};async function Z(e,t,r,n){var s;const o=Object.assign({},n==null?void 0:n.headers);o[qu]||(o[qu]=Q0["2024-01-01"].name),n!=null&&n.jwt&&(o.Authorization=`Bearer ${n.jwt}`);const a=(s=n==null?void 0:n.query)!==null&&s!==void 0?s:{};n!=null&&n.redirectTo&&(a.redirect_to=n.redirectTo);const l=Object.keys(a).length?"?"+new URLSearchParams(a).toString():"",c=await eC(e,t,r+l,{headers:o,noResolveJson:n==null?void 0:n.noResolveJson},{},n==null?void 0:n.body);return n!=null&&n.xform?n==null?void 0:n.xform(c):{data:Object.assign({},c),error:null}}async function eC(e,t,r,n,s,o){const a=XP(t,n,s,o);let l;try{l=await e(r,Object.assign({},a))}catch(c){throw console.error(c),new Wu(fn(c),0)}if(l.ok||await vp(l),n!=null&&n.noResolveJson)return l;try{return await l.json()}catch(c){await vp(c)}}function Xt(e){var t;let r=null;sC(e)&&(r=Object.assign({},e),e.expires_at||(r.expires_at=DP(e.expires_in)));const n=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:r,user:n},error:null}}function wp(e){const t=Xt(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((r,n)=>r&&typeof n=="string",!0)&&(t.data.weak_password=e.weak_password),t}function Cr(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function tC(e){return{data:e,error:null}}function rC(e){const{action_link:t,email_otp:r,hashed_token:n,redirect_to:s,verification_type:o}=e,a=QP(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),l={action_link:t,email_otp:r,hashed_token:n,redirect_to:s,verification_type:o},c=Object.assign({},a);return{data:{properties:l,user:c},error:null}}function nC(e){return e}function sC(e){return e.access_token&&e.refresh_token&&e.expires_in}const yc=["global","local","others"];var iC=globalThis&&globalThis.__rest||function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(e);s<n.length;s++)t.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(e,n[s])&&(r[n[s]]=e[n[s]]);return r};class oC{constructor({url:t="",headers:r={},fetch:n}){this.url=t,this.headers=r,this.fetch=tv(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(t,r=yc[0]){if(yc.indexOf(r)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${yc.join(", ")}`);try{return await Z(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(n){if(Q(n))return{data:null,error:n};throw n}}async inviteUserByEmail(t,r={}){try{return await Z(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:Cr})}catch(n){if(Q(n))return{data:{user:null},error:n};throw n}}async generateLink(t){try{const{options:r}=t,n=iC(t,["options"]),s=Object.assign(Object.assign({},n),r);return"newEmail"in n&&(s.new_email=n==null?void 0:n.newEmail,delete s.newEmail),await Z(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:s,headers:this.headers,xform:rC,redirectTo:r==null?void 0:r.redirectTo})}catch(r){if(Q(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(t){try{return await Z(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:Cr})}catch(r){if(Q(r))return{data:{user:null},error:r};throw r}}async listUsers(t){var r,n,s,o,a,l,c;try{const u={nextPage:null,lastPage:0,total:0},d=await Z(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=t==null?void 0:t.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(o=(s=t==null?void 0:t.perPage)===null||s===void 0?void 0:s.toString())!==null&&o!==void 0?o:""},xform:nC});if(d.error)throw d.error;const h=await d.json(),f=(a=d.headers.get("x-total-count"))!==null&&a!==void 0?a:0,p=(c=(l=d.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&c!==void 0?c:[];return p.length>0&&(p.forEach(v=>{const b=parseInt(v.split(";")[0].split("=")[1].substring(0,1)),w=JSON.parse(v.split(";")[1].split("=")[1]);u[`${w}Page`]=b}),u.total=parseInt(f)),{data:Object.assign(Object.assign({},h),u),error:null}}catch(u){if(Q(u))return{data:{users:[]},error:u};throw u}}async getUserById(t){Un(t);try{return await Z(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:Cr})}catch(r){if(Q(r))return{data:{user:null},error:r};throw r}}async updateUserById(t,r){Un(t);try{return await Z(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:r,headers:this.headers,xform:Cr})}catch(n){if(Q(n))return{data:{user:null},error:n};throw n}}async deleteUser(t,r=!1){Un(t);try{return await Z(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:r},xform:Cr})}catch(n){if(Q(n))return{data:{user:null},error:n};throw n}}async _listFactors(t){Un(t.userId);try{const{data:r,error:n}=await Z(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:s=>({data:{factors:s},error:null})});return{data:r,error:n}}catch(r){if(Q(r))return{data:null,error:r};throw r}}async _deleteFactor(t){Un(t.userId),Un(t.id);try{return{data:await Z(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(r){if(Q(r))return{data:null,error:r};throw r}}}function bp(e={}){return{getItem:t=>e[t]||null,setItem:(t,r)=>{e[t]=r},removeItem:t=>{delete e[t]}}}function aC(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const Fn={debug:!!(globalThis&&ev()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class rv extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class lC extends rv{}async function cC(e,t,r){Fn.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const n=new globalThis.AbortController;return t>0&&setTimeout(()=>{n.abort(),Fn.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async s=>{if(s){Fn.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,s.name);try{return await r()}finally{Fn.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,s.name)}}else{if(t===0)throw Fn.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new lC(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(Fn.debug)try{const o=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(o,null,"  "))}catch(o){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",o)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}aC();const uC={url:wP,storageKey:bP,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:jP,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function jp(e,t,r){return await r()}const $n={};class qi{constructor(t){var r,n;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=qi.nextInstanceID,qi.nextInstanceID+=1,this.instanceID>0&&It()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const s=Object.assign(Object.assign({},uC),t);if(this.logDebugMessages=!!s.debug,typeof s.debug=="function"&&(this.logger=s.debug),this.persistSession=s.persistSession,this.storageKey=s.storageKey,this.autoRefreshToken=s.autoRefreshToken,this.admin=new oC({url:s.url,headers:s.headers,fetch:s.fetch}),this.url=s.url,this.headers=s.headers,this.fetch=tv(s.fetch),this.lock=s.lock||jp,this.detectSessionInUrl=s.detectSessionInUrl,this.flowType=s.flowType,this.hasCustomAuthorizationHeader=s.hasCustomAuthorizationHeader,s.lock?this.lock=s.lock:It()&&(!((r=globalThis==null?void 0:globalThis.navigator)===null||r===void 0)&&r.locks)?this.lock=cC:this.lock=jp,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?(s.storage?this.storage=s.storage:ev()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=bp(this.memoryStorage)),s.userStorage&&(this.userStorage=s.userStorage)):(this.memoryStorage={},this.storage=bp(this.memoryStorage)),It()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(o){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",o)}(n=this.broadcastChannel)===null||n===void 0||n.addEventListener("message",async o=>{this._debug("received broadcast notification from other tab or client",o),await this._notifyAllSubscribers(o.data.event,o.data.session,!1)})}this.initialize()}get jwks(){var t,r;return(r=(t=$n[this.storageKey])===null||t===void 0?void 0:t.jwks)!==null&&r!==void 0?r:{keys:[]}}set jwks(t){$n[this.storageKey]=Object.assign(Object.assign({},$n[this.storageKey]),{jwks:t})}get jwks_cached_at(){var t,r;return(r=(t=$n[this.storageKey])===null||t===void 0?void 0:t.cachedAt)!==null&&r!==void 0?r:Number.MIN_SAFE_INTEGER}set jwks_cached_at(t){$n[this.storageKey]=Object.assign(Object.assign({},$n[this.storageKey]),{cachedAt:t})}_debug(...t){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${J0}) ${new Date().toISOString()}`,...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{const r=UP(window.location.href);let n="none";if(this._isImplicitGrantCallback(r)?n="implicit":await this._isPKCECallback(r)&&(n="pkce"),It()&&this.detectSessionInUrl&&n!=="none"){const{data:s,error:o}=await this._getSessionFromURL(r,n);if(o){if(this._debug("#_initialize()","error detecting session from URL",o),CP(o)){const c=(t=o.details)===null||t===void 0?void 0:t.code;if(c==="identity_already_exists"||c==="identity_not_found"||c==="single_identity_not_deletable")return{error:o}}return await this._removeSession(),{error:o}}const{session:a,redirectType:l}=s;return this._debug("#_initialize()","detected session in URL",a,"redirect type",l),await this._saveSession(a),setTimeout(async()=>{l==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",a):await this._notifyAllSubscribers("SIGNED_IN",a)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return Q(r)?{error:r}:{error:new Z0("Unexpected error during initialization",r)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var r,n,s;try{const o=await Z(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(r=t==null?void 0:t.options)===null||r===void 0?void 0:r.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(s=t==null?void 0:t.options)===null||s===void 0?void 0:s.captchaToken}},xform:Xt}),{data:a,error:l}=o;if(l||!a)return{data:{user:null,session:null},error:l};const c=a.session,u=a.user;return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(o){if(Q(o))return{data:{user:null,session:null},error:o};throw o}}async signUp(t){var r,n,s;try{let o;if("email"in t){const{email:d,password:h,options:f}=t;let p=null,v=null;this.flowType==="pkce"&&([p,v]=await Mn(this.storage,this.storageKey)),o=await Z(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:f==null?void 0:f.emailRedirectTo,body:{email:d,password:h,data:(r=f==null?void 0:f.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken},code_challenge:p,code_challenge_method:v},xform:Xt})}else if("phone"in t){const{phone:d,password:h,options:f}=t;o=await Z(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:d,password:h,data:(n=f==null?void 0:f.data)!==null&&n!==void 0?n:{},channel:(s=f==null?void 0:f.channel)!==null&&s!==void 0?s:"sms",gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken}},xform:Xt})}else throw new Ro("You must provide either an email or phone number and a password");const{data:a,error:l}=o;if(l||!a)return{data:{user:null,session:null},error:l};const c=a.session,u=a.user;return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(o){if(Q(o))return{data:{user:null,session:null},error:o};throw o}}async signInWithPassword(t){try{let r;if("email"in t){const{email:o,password:a,options:l}=t;r=await Z(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:o,password:a,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:wp})}else if("phone"in t){const{phone:o,password:a,options:l}=t;r=await Z(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:o,password:a,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:wp})}else throw new Ro("You must provide either an email or phone number and a password");const{data:n,error:s}=r;return s?{data:{user:null,session:null},error:s}:!n||!n.session||!n.user?{data:{user:null,session:null},error:new Io}:(n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),{data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:s})}catch(r){if(Q(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOAuth(t){var r,n,s,o;return await this._handleProviderSignIn(t.provider,{redirectTo:(r=t.options)===null||r===void 0?void 0:r.redirectTo,scopes:(n=t.options)===null||n===void 0?void 0:n.scopes,queryParams:(s=t.options)===null||s===void 0?void 0:s.queryParams,skipBrowserRedirect:(o=t.options)===null||o===void 0?void 0:o.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:r}=t;if(r==="solana")return await this.signInWithSolana(t);throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}async signInWithSolana(t){var r,n,s,o,a,l,c,u,d,h,f,p;let v,b;if("message"in t)v=t.message,b=t.signature;else{const{chain:w,wallet:g,statement:y,options:m}=t;let j;if(It())if(typeof g=="object")j=g;else{const E=window;if("solana"in E&&typeof E.solana=="object"&&("signIn"in E.solana&&typeof E.solana.signIn=="function"||"signMessage"in E.solana&&typeof E.solana.signMessage=="function"))j=E.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof g!="object"||!(m!=null&&m.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");j=g}const N=new URL((r=m==null?void 0:m.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in j&&j.signIn){const E=await j.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},m==null?void 0:m.signInWithSolana),{version:"1",domain:N.host,uri:N.href}),y?{statement:y}:null));let P;if(Array.isArray(E)&&E[0]&&typeof E[0]=="object")P=E[0];else if(E&&typeof E=="object"&&"signedMessage"in E&&"signature"in E)P=E;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in P&&"signature"in P&&(typeof P.signedMessage=="string"||P.signedMessage instanceof Uint8Array)&&P.signature instanceof Uint8Array)v=typeof P.signedMessage=="string"?P.signedMessage:new TextDecoder().decode(P.signedMessage),b=P.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in j)||typeof j.signMessage!="function"||!("publicKey"in j)||typeof j!="object"||!j.publicKey||!("toBase58"in j.publicKey)||typeof j.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");v=[`${N.host} wants you to sign in with your Solana account:`,j.publicKey.toBase58(),...y?["",y,""]:[""],"Version: 1",`URI: ${N.href}`,`Issued At: ${(s=(n=m==null?void 0:m.signInWithSolana)===null||n===void 0?void 0:n.issuedAt)!==null&&s!==void 0?s:new Date().toISOString()}`,...!((o=m==null?void 0:m.signInWithSolana)===null||o===void 0)&&o.notBefore?[`Not Before: ${m.signInWithSolana.notBefore}`]:[],...!((a=m==null?void 0:m.signInWithSolana)===null||a===void 0)&&a.expirationTime?[`Expiration Time: ${m.signInWithSolana.expirationTime}`]:[],...!((l=m==null?void 0:m.signInWithSolana)===null||l===void 0)&&l.chainId?[`Chain ID: ${m.signInWithSolana.chainId}`]:[],...!((c=m==null?void 0:m.signInWithSolana)===null||c===void 0)&&c.nonce?[`Nonce: ${m.signInWithSolana.nonce}`]:[],...!((u=m==null?void 0:m.signInWithSolana)===null||u===void 0)&&u.requestId?[`Request ID: ${m.signInWithSolana.requestId}`]:[],...!((h=(d=m==null?void 0:m.signInWithSolana)===null||d===void 0?void 0:d.resources)===null||h===void 0)&&h.length?["Resources",...m.signInWithSolana.resources.map(P=>`- ${P}`)]:[]].join(`
`);const E=await j.signMessage(new TextEncoder().encode(v),"utf8");if(!E||!(E instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");b=E}}try{const{data:w,error:g}=await Z(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:v,signature:LP(b)},!((f=t.options)===null||f===void 0)&&f.captchaToken?{gotrue_meta_security:{captcha_token:(p=t.options)===null||p===void 0?void 0:p.captchaToken}}:null),xform:Xt});if(g)throw g;return!w||!w.session||!w.user?{data:{user:null,session:null},error:new Io}:(w.session&&(await this._saveSession(w.session),await this._notifyAllSubscribers("SIGNED_IN",w.session)),{data:Object.assign({},w),error:g})}catch(w){if(Q(w))return{data:{user:null,session:null},error:w};throw w}}async _exchangeCodeForSession(t){const r=await an(this.storage,`${this.storageKey}-code-verifier`),[n,s]=(r??"").split("/");try{const{data:o,error:a}=await Z(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:n},xform:Xt});if(await xr(this.storage,`${this.storageKey}-code-verifier`),a)throw a;return!o||!o.session||!o.user?{data:{user:null,session:null,redirectType:null},error:new Io}:(o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",o.session)),{data:Object.assign(Object.assign({},o),{redirectType:s??null}),error:a})}catch(o){if(Q(o))return{data:{user:null,session:null,redirectType:null},error:o};throw o}}async signInWithIdToken(t){try{const{options:r,provider:n,token:s,access_token:o,nonce:a}=t,l=await Z(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:s,access_token:o,nonce:a,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}},xform:Xt}),{data:c,error:u}=l;return u?{data:{user:null,session:null},error:u}:!c||!c.session||!c.user?{data:{user:null,session:null},error:new Io}:(c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",c.session)),{data:c,error:u})}catch(r){if(Q(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOtp(t){var r,n,s,o,a;try{if("email"in t){const{email:l,options:c}=t;let u=null,d=null;this.flowType==="pkce"&&([u,d]=await Mn(this.storage,this.storageKey));const{error:h}=await Z(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:l,data:(r=c==null?void 0:c.data)!==null&&r!==void 0?r:{},create_user:(n=c==null?void 0:c.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},code_challenge:u,code_challenge_method:d},redirectTo:c==null?void 0:c.emailRedirectTo});return{data:{user:null,session:null},error:h}}if("phone"in t){const{phone:l,options:c}=t,{data:u,error:d}=await Z(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:l,data:(s=c==null?void 0:c.data)!==null&&s!==void 0?s:{},create_user:(o=c==null?void 0:c.shouldCreateUser)!==null&&o!==void 0?o:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},channel:(a=c==null?void 0:c.channel)!==null&&a!==void 0?a:"sms"}});return{data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:d}}throw new Ro("You must provide either an email or phone number.")}catch(l){if(Q(l))return{data:{user:null,session:null},error:l};throw l}}async verifyOtp(t){var r,n;try{let s,o;"options"in t&&(s=(r=t.options)===null||r===void 0?void 0:r.redirectTo,o=(n=t.options)===null||n===void 0?void 0:n.captchaToken);const{data:a,error:l}=await Z(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:o}}),redirectTo:s,xform:Xt});if(l)throw l;if(!a)throw new Error("An error occurred on token verification.");const c=a.session,u=a.user;return c!=null&&c.access_token&&(await this._saveSession(c),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(s){if(Q(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithSSO(t){var r,n,s;try{let o=null,a=null;return this.flowType==="pkce"&&([o,a]=await Mn(this.storage,this.storageKey)),await Z(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(n=(r=t.options)===null||r===void 0?void 0:r.redirectTo)!==null&&n!==void 0?n:void 0}),!((s=t==null?void 0:t.options)===null||s===void 0)&&s.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:o,code_challenge_method:a}),headers:this.headers,xform:tC})}catch(o){if(Q(o))return{data:null,error:o};throw o}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:r},error:n}=t;if(n)throw n;if(!r)throw new br;const{error:s}=await Z(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return{data:{user:null,session:null},error:s}})}catch(t){if(Q(t))return{data:{user:null,session:null},error:t};throw t}}async resend(t){try{const r=`${this.url}/resend`;if("email"in t){const{email:n,type:s,options:o}=t,{error:a}=await Z(this.fetch,"POST",r,{headers:this.headers,body:{email:n,type:s,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},redirectTo:o==null?void 0:o.emailRedirectTo});return{data:{user:null,session:null},error:a}}else if("phone"in t){const{phone:n,type:s,options:o}=t,{data:a,error:l}=await Z(this.fetch,"POST",r,{headers:this.headers,body:{phone:n,type:s,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}}});return{data:{user:null,session:null,messageId:a==null?void 0:a.message_id},error:l}}throw new Ro("You must provide either an email or phone number and a type")}catch(r){if(Q(r))return{data:{user:null,session:null},error:r};throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async r=>r))}async _acquireLock(t,r){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),s=(async()=>(await n,await r()))();return this.pendingInLock.push((async()=>{try{await s}catch{}})()),s}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=r();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const s=[...this.pendingInLock];await Promise.all(s),this.pendingInLock.splice(0,s.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await t(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const r=await an(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?t=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const n=t.expires_at?t.expires_at*1e3-Date.now()<fc:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",t.expires_at),!n){if(this.userStorage){const a=await an(this.userStorage,this.storageKey+"-user");a!=null&&a.user?t.user=a.user:t.user=gc()}if(this.storage.isServer&&t.user){let a=this.suppressGetSessionWarning;t=new Proxy(t,{get:(c,u,d)=>(!a&&u==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),a=!0,this.suppressGetSessionWarning=!0),Reflect.get(c,u,d))})}return{data:{session:t},error:null}}const{session:s,error:o}=await this._callRefreshToken(t.refresh_token);return o?{data:{session:null},error:o}:{data:{session:s},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(t){return t?await this._getUser(t):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(t){try{return t?await Z(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:Cr}):await this._useSession(async r=>{var n,s,o;const{data:a,error:l}=r;if(l)throw l;return!(!((n=a.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new br}:await Z(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(o=(s=a.session)===null||s===void 0?void 0:s.access_token)!==null&&o!==void 0?o:void 0,xform:Cr})})}catch(r){if(Q(r))return PP(r)&&(await this._removeSession(),await xr(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:r};throw r}}async updateUser(t,r={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,r))}async _updateUser(t,r={}){try{return await this._useSession(async n=>{const{data:s,error:o}=n;if(o)throw o;if(!s.session)throw new br;const a=s.session;let l=null,c=null;this.flowType==="pkce"&&t.email!=null&&([l,c]=await Mn(this.storage,this.storageKey));const{data:u,error:d}=await Z(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r==null?void 0:r.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:l,code_challenge_method:c}),jwt:a.access_token,xform:Cr});if(d)throw d;return a.user=u.user,await this._saveSession(a),await this._notifyAllSubscribers("USER_UPDATED",a),{data:{user:a.user},error:null}})}catch(n){if(Q(n))return{data:{user:null},error:n};throw n}}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new br;const r=Date.now()/1e3;let n=r,s=!0,o=null;const{payload:a}=pc(t.access_token);if(a.exp&&(n=a.exp,s=n<=r),s){const{session:l,error:c}=await this._callRefreshToken(t.refresh_token);if(c)return{data:{user:null,session:null},error:c};if(!l)return{data:{user:null,session:null},error:null};o=l}else{const{data:l,error:c}=await this._getUser(t.access_token);if(c)throw c;o={access_token:t.access_token,refresh_token:t.refresh_token,user:l.user,token_type:"bearer",expires_in:n-r,expires_at:n},await this._saveSession(o),await this._notifyAllSubscribers("SIGNED_IN",o)}return{data:{user:o.user,session:o},error:null}}catch(r){if(Q(r))return{data:{session:null,user:null},error:r};throw r}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async r=>{var n;if(!t){const{data:a,error:l}=r;if(l)throw l;t=(n=a.session)!==null&&n!==void 0?n:void 0}if(!(t!=null&&t.refresh_token))throw new br;const{session:s,error:o}=await this._callRefreshToken(t.refresh_token);return o?{data:{user:null,session:null},error:o}:s?{data:{user:s.user,session:s},error:null}:{data:{user:null,session:null},error:null}})}catch(r){if(Q(r))return{data:{user:null,session:null},error:r};throw r}}async _getSessionFromURL(t,r){try{if(!It())throw new Oo("No browser detected.");if(t.error||t.error_description||t.error_code)throw new Oo(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new mp("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Oo("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new mp("No code detected.");const{data:y,error:m}=await this._exchangeCodeForSession(t.code);if(m)throw m;const j=new URL(window.location.href);return j.searchParams.delete("code"),window.history.replaceState(window.history.state,"",j.toString()),{data:{session:y.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:s,access_token:o,refresh_token:a,expires_in:l,expires_at:c,token_type:u}=t;if(!o||!l||!a||!u)throw new Oo("No session defined in URL");const d=Math.round(Date.now()/1e3),h=parseInt(l);let f=d+h;c&&(f=parseInt(c));const p=f-d;p*1e3<=Bn&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${p}s, should have been closer to ${h}s`);const v=f-h;d-v>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",v,f,d):d-v<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",v,f,d);const{data:b,error:w}=await this._getUser(o);if(w)throw w;const g={provider_token:n,provider_refresh_token:s,access_token:o,expires_in:h,expires_at:f,refresh_token:a,token_type:u,user:b.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:g,redirectType:t.type},error:null}}catch(n){if(Q(n))return{data:{session:null,redirectType:null},error:n};throw n}}_isImplicitGrantCallback(t){return!!(t.access_token||t.error_description)}async _isPKCECallback(t){const r=await an(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&r)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async r=>{var n;const{data:s,error:o}=r;if(o)return{error:o};const a=(n=s.session)===null||n===void 0?void 0:n.access_token;if(a){const{error:l}=await this.admin.signOut(a,t);if(l&&!(kP(l)&&(l.status===404||l.status===401||l.status===403)))return{error:l}}return t!=="others"&&(await this._removeSession(),await xr(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(t){const r=MP(),n={id:r,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,n),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:n}}}async _emitInitialSession(t){return await this._useSession(async r=>{var n,s;try{const{data:{session:o},error:a}=r;if(a)throw a;await((n=this.stateChangeEmitters.get(t))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",o)),this._debug("INITIAL_SESSION","callback id",t,"session",o)}catch(o){await((s=this.stateChangeEmitters.get(t))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",o),console.error(o)}})}async resetPasswordForEmail(t,r={}){let n=null,s=null;this.flowType==="pkce"&&([n,s]=await Mn(this.storage,this.storageKey,!0));try{return await Z(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:n,code_challenge_method:s,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(o){if(Q(o))return{data:null,error:o};throw o}}async getUserIdentities(){var t;try{const{data:r,error:n}=await this.getUser();if(n)throw n;return{data:{identities:(t=r.user.identities)!==null&&t!==void 0?t:[]},error:null}}catch(r){if(Q(r))return{data:null,error:r};throw r}}async linkIdentity(t){var r;try{const{data:n,error:s}=await this._useSession(async o=>{var a,l,c,u,d;const{data:h,error:f}=o;if(f)throw f;const p=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(a=t.options)===null||a===void 0?void 0:a.redirectTo,scopes:(l=t.options)===null||l===void 0?void 0:l.scopes,queryParams:(c=t.options)===null||c===void 0?void 0:c.queryParams,skipBrowserRedirect:!0});return await Z(this.fetch,"GET",p,{headers:this.headers,jwt:(d=(u=h.session)===null||u===void 0?void 0:u.access_token)!==null&&d!==void 0?d:void 0})});if(s)throw s;return It()&&!(!((r=t.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(n==null?void 0:n.url),{data:{provider:t.provider,url:n==null?void 0:n.url},error:null}}catch(n){if(Q(n))return{data:{provider:t.provider,url:null},error:n};throw n}}async unlinkIdentity(t){try{return await this._useSession(async r=>{var n,s;const{data:o,error:a}=r;if(a)throw a;return await Z(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(s=(n=o.session)===null||n===void 0?void 0:n.access_token)!==null&&s!==void 0?s:void 0})})}catch(r){if(Q(r))return{data:null,error:r};throw r}}async _refreshAccessToken(t){const r=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(r,"begin");try{const n=Date.now();return await VP(async s=>(s>0&&await $P(200*Math.pow(2,s-1)),this._debug(r,"refreshing attempt",s),await Z(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:Xt})),(s,o)=>{const a=200*Math.pow(2,s);return o&&mc(o)&&Date.now()+a-n<Bn})}catch(n){if(this._debug(r,"error",n),Q(n))return{data:{session:null,user:null},error:n};throw n}finally{this._debug(r,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,r){const n=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",r,"url",n),It()&&!r.skipBrowserRedirect&&window.location.assign(n),{data:{provider:t,url:n},error:null}}async _recoverAndRefresh(){var t,r;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const s=await an(this.storage,this.storageKey);if(s&&this.userStorage){let a=await an(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!a&&(a={user:s.user},await zn(this.userStorage,this.storageKey+"-user",a)),s.user=(t=a==null?void 0:a.user)!==null&&t!==void 0?t:gc()}else if(s&&!s.user&&!s.user){const a=await an(this.storage,this.storageKey+"-user");a&&(a!=null&&a.user)?(s.user=a.user,await xr(this.storage,this.storageKey+"-user"),await zn(this.storage,this.storageKey,s)):s.user=gc()}if(this._debug(n,"session from storage",s),!this._isValidSession(s)){this._debug(n,"session is not valid"),s!==null&&await this._removeSession();return}const o=((r=s.expires_at)!==null&&r!==void 0?r:1/0)*1e3-Date.now()<fc;if(this._debug(n,`session has${o?"":" not"} expired with margin of ${fc}s`),o){if(this.autoRefreshToken&&s.refresh_token){const{error:a}=await this._callRefreshToken(s.refresh_token);a&&(console.error(a),mc(a)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",a),await this._removeSession()))}}else if(s.user&&s.user.__isUserNotAvailableProxy===!0)try{const{data:a,error:l}=await this._getUser(s.access_token);!l&&(a!=null&&a.user)?(s.user=a.user,await this._saveSession(s),await this._notifyAllSubscribers("SIGNED_IN",s)):this._debug(n,"could not get user data, skipping SIGNED_IN notification")}catch(a){console.error("Error getting user data:",a),this._debug(n,"error getting user data, skipping SIGNED_IN notification",a)}else await this._notifyAllSubscribers("SIGNED_IN",s)}catch(s){this._debug(n,"error",s),console.error(s);return}finally{this._debug(n,"end")}}async _callRefreshToken(t){var r,n;if(!t)throw new br;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const s=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(s,"begin");try{this.refreshingDeferred=new xl;const{data:o,error:a}=await this._refreshAccessToken(t);if(a)throw a;if(!o.session)throw new br;await this._saveSession(o.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",o.session);const l={session:o.session,error:null};return this.refreshingDeferred.resolve(l),l}catch(o){if(this._debug(s,"error",o),Q(o)){const a={session:null,error:o};return mc(o)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(a),a}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(o),o}finally{this.refreshingDeferred=null,this._debug(s,"end")}}async _notifyAllSubscribers(t,r,n=!0){const s=`#_notifyAllSubscribers(${t})`;this._debug(s,"begin",r,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:t,session:r});const o=[],a=Array.from(this.stateChangeEmitters.values()).map(async l=>{try{await l.callback(t,r)}catch(c){o.push(c)}});if(await Promise.all(a),o.length>0){for(let l=0;l<o.length;l+=1)console.error(o[l]);throw o[0]}}finally{this._debug(s,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0;const r=Object.assign({},t),n=r.user&&r.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!n&&r.user&&await zn(this.userStorage,this.storageKey+"-user",{user:r.user});const s=Object.assign({},r);delete s.user;const o=structuredClone(s);await zn(this.storage,this.storageKey,o)}else{const s=structuredClone(r);await zn(this.storage,this.storageKey,s)}}async _removeSession(){this._debug("#_removeSession()"),await xr(this.storage,this.storageKey),await xr(this.storage,this.storageKey+"-code-verifier"),await xr(this.storage,this.storageKey+"-user"),this.userStorage&&await xr(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&It()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),Bn);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async r=>{const{data:{session:n}}=r;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const s=Math.floor((n.expires_at*1e3-t)/Bn);this._debug("#_autoRefreshTokenTick()",`access token expires in ${s} ticks, a tick lasts ${Bn}ms, refresh threshold is ${zu} ticks`),s<=zu&&await this._callRefreshToken(n.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof rv)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!It()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const r=`#_onVisibilityChanged(${t})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,r,n){const s=[`provider=${encodeURIComponent(r)}`];if(n!=null&&n.redirectTo&&s.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n!=null&&n.scopes&&s.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[o,a]=await Mn(this.storage,this.storageKey),l=new URLSearchParams({code_challenge:`${encodeURIComponent(o)}`,code_challenge_method:`${encodeURIComponent(a)}`});s.push(l.toString())}if(n!=null&&n.queryParams){const o=new URLSearchParams(n.queryParams);s.push(o.toString())}return n!=null&&n.skipBrowserRedirect&&s.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${t}?${s.join("&")}`}async _unenroll(t){try{return await this._useSession(async r=>{var n;const{data:s,error:o}=r;return o?{data:null,error:o}:await Z(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(Q(r))return{data:null,error:r};throw r}}async _enroll(t){try{return await this._useSession(async r=>{var n,s;const{data:o,error:a}=r;if(a)return{data:null,error:a};const l=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:{issuer:t.issuer}),{data:c,error:u}=await Z(this.fetch,"POST",`${this.url}/factors`,{body:l,headers:this.headers,jwt:(n=o==null?void 0:o.session)===null||n===void 0?void 0:n.access_token});return u?{data:null,error:u}:(t.factorType==="totp"&&(!((s=c==null?void 0:c.totp)===null||s===void 0)&&s.qr_code)&&(c.totp.qr_code=`data:image/svg+xml;utf-8,${c.totp.qr_code}`),{data:c,error:null})})}catch(r){if(Q(r))return{data:null,error:r};throw r}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:s,error:o}=r;if(o)return{data:null,error:o};const{data:a,error:l}=await Z(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:{code:t.code,challenge_id:t.challengeId},headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token});return l?{data:null,error:l}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+a.expires_in},a)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",a),{data:a,error:l})})}catch(r){if(Q(r))return{data:null,error:r};throw r}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:s,error:o}=r;return o?{data:null,error:o}:await Z(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:{channel:t.channel},headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(Q(r))return{data:null,error:r};throw r}})}async _challengeAndVerify(t){const{data:r,error:n}=await this._challenge({factorId:t.factorId});return n?{data:null,error:n}:await this._verify({factorId:t.factorId,challengeId:r.id,code:t.code})}async _listFactors(){const{data:{user:t},error:r}=await this.getUser();if(r)return{data:null,error:r};const n=(t==null?void 0:t.factors)||[],s=n.filter(a=>a.factor_type==="totp"&&a.status==="verified"),o=n.filter(a=>a.factor_type==="phone"&&a.status==="verified");return{data:{all:n,totp:s,phone:o},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async t=>{var r,n;const{data:{session:s},error:o}=t;if(o)return{data:null,error:o};if(!s)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:a}=pc(s.access_token);let l=null;a.aal&&(l=a.aal);let c=l;((n=(r=s.user.factors)===null||r===void 0?void 0:r.filter(h=>h.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(c="aal2");const d=a.amr||[];return{data:{currentLevel:l,nextLevel:c,currentAuthenticationMethods:d},error:null}}))}async fetchJwk(t,r={keys:[]}){let n=r.keys.find(l=>l.kid===t);if(n)return n;const s=Date.now();if(n=this.jwks.keys.find(l=>l.kid===t),n&&this.jwks_cached_at+SP>s)return n;const{data:o,error:a}=await Z(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(a)throw a;return!o.keys||o.keys.length===0||(this.jwks=o,this.jwks_cached_at=s,n=o.keys.find(l=>l.kid===t),!n)?null:n}async getClaims(t,r={}){try{let n=t;if(!n){const{data:p,error:v}=await this.getSession();if(v||!p.session)return{data:null,error:v};n=p.session.access_token}const{header:s,payload:o,signature:a,raw:{header:l,payload:c}}=pc(n);r!=null&&r.allowExpired||GP(o.exp);const u=!s.alg||s.alg.startsWith("HS")||!s.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(s.kid,r!=null&&r.keys?{keys:r.keys}:r==null?void 0:r.jwks);if(!u){const{error:p}=await this.getUser(n);if(p)throw p;return{data:{claims:o,header:s,signature:a},error:null}}const d=YP(s.alg),h=await crypto.subtle.importKey("jwk",u,d,!0,["verify"]);if(!await crypto.subtle.verify(d,h,a,OP(`${l}.${c}`)))throw new Hu("Invalid JWT signature");return{data:{claims:o,header:s,signature:a},error:null}}catch(n){if(Q(n))return{data:null,error:n};throw n}}}qi.nextInstanceID=0;const dC=qi;class hC extends dC{constructor(t){super(t)}}var fC=globalThis&&globalThis.__awaiter||function(e,t,r,n){function s(o){return o instanceof r?o:new r(function(a){a(o)})}return new(r||(r=Promise))(function(o,a){function l(d){try{u(n.next(d))}catch(h){a(h)}}function c(d){try{u(n.throw(d))}catch(h){a(h)}}function u(d){d.done?o(d.value):s(d.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};class mC{constructor(t,r,n){var s,o,a;if(this.supabaseUrl=t,this.supabaseKey=r,!t)throw new Error("supabaseUrl is required.");if(!r)throw new Error("supabaseKey is required.");const l=xP(t),c=new URL(l);this.realtimeUrl=new URL("realtime/v1",c),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",c),this.storageUrl=new URL("storage/v1",c),this.functionsUrl=new URL("functions/v1",c);const u=`sb-${c.hostname.split(".")[0]}-auth-token`,d={db:uP,realtime:hP,auth:Object.assign(Object.assign({},dP),{storageKey:u}),global:cP},h=vP(n??{},d);this.storageKey=(s=h.auth.storageKey)!==null&&s!==void 0?s:"",this.headers=(o=h.global.headers)!==null&&o!==void 0?o:{},h.accessToken?(this.accessToken=h.accessToken,this.auth=new Proxy({},{get:(f,p)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(p)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((a=h.auth)!==null&&a!==void 0?a:{},this.headers,h.global.fetch),this.fetch=gP(r,this._getAccessToken.bind(this),h.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},h.realtime)),this.rest=new Ik(new URL("rest/v1",c).href,{headers:this.headers,schema:h.db.schema,fetch:this.fetch}),h.accessToken||this._listenForAuthEvents()}get functions(){return new lk(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}get storage(){return new oP(this.storageUrl.href,this.headers,this.fetch)}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,r={},n={}){return this.rest.rpc(t,r,n)}channel(t,r={config:{}}){return this.realtime.channel(t,r)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var t,r;return fC(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:n}=yield this.auth.getSession();return(r=(t=n.session)===null||t===void 0?void 0:t.access_token)!==null&&r!==void 0?r:null})}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:r,detectSessionInUrl:n,storage:s,storageKey:o,flowType:a,lock:l,debug:c},u,d){const h={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new hC({url:this.authUrl.href,headers:Object.assign(Object.assign({},h),u),storageKey:o,autoRefreshToken:t,persistSession:r,detectSessionInUrl:n,storage:s,flowType:a,lock:l,debug:c,fetch:d,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(t){return new Kk(this.realtimeUrl.href,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t==null?void 0:t.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((r,n)=>{this._handleTokenChanged(r,"CLIENT",n==null?void 0:n.access_token)})}_handleTokenChanged(t,r,n){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==n?this.changedAccessToken=n:t==="SIGNED_OUT"&&(this.realtime.setAuth(),r=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const pC=(e,t,r)=>new mC(e,t,r),Ke={debug:(e,...t)=>{},info:(e,...t)=>{},warn:(e,...t)=>{},error:(e,...t)=>{console.error(`❌ [ERROR] ${e}`,...t)},security:(e,...t)=>{},admin:(e,...t)=>{},db:(e,...t)=>{},auth:(e,...t)=>{}};{const e=()=>{};console.log=e,console.debug=e,console.info=e,console.warn=e}const gC="https://hfpmmjvdsdofheuffnwb.supabase.co",yC="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImhmcG1tanZkc2RvZmhldWZmbndiIiwicm9sZSI6InNlcnZpY2Vfcm9sZSIsImlhdCI6MTc1MjI0MTA5NywiZXhwIjoyMDY3ODE3MDk3fQ.TLsJBj7YXSgJRLnALJs3_YEqYkY0KMFK51c4Ge1OKyw";let K;K=pC(gC,yC,{auth:{autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,debug:!1}});K.auth.getSession().then(()=>{}).catch(()=>{});const xC=async(e=3)=>{try{const{data:t,error:r}=await K.from("products").select(`
        *,
        categories(name, slug),
        downloads:download_history(count),
        reviews(rating)
      `).eq("active",!0).eq("featured",!0).order("created_at",{ascending:!1}).limit(e);return{data:t,error:r}}catch(t){return Ke.error("Error in getFeaturedProducts:",t),{data:[],error:t}}},vC=async e=>{const{data:t,error:r}=await K.from("contact_submissions").insert({name:e.name,email:e.email,subject:e.subject,message:e.message,submitted_at:new Date().toISOString()}).select().single();return{data:t,error:r}};function wC(){const[e,t]=x.useState(null),[r,n]=x.useState(null),[s,o]=x.useState(!0),[a,l]=x.useState(null),c=(a==null?void 0:a.role)==="admin",u=x.useCallback(async g=>{try{const{data:y,error:m}=await K.from("user_profiles").select("*").eq("user_id",g).single();if(m&&m.code!=="PGRST116")throw m;return y}catch(y){return console.warn("Profile fetch failed:",y),null}},[]),d=async()=>{if(e){const g=await u(e.id);l(g)}};return x.useEffect(()=>{(async()=>{try{const{data:{session:m}}=await K.auth.getSession();if(n(m),t((m==null?void 0:m.user)??null),m!=null&&m.user){const j=await u(m.user.id);l(j)}else l(null)}catch(m){console.error("Auth initialization error:",m),n(null),t(null),l(null)}finally{o(!1)}})();const{data:{subscription:y}}=K.auth.onAuthStateChange(async(m,j)=>{if(n(j),t((j==null?void 0:j.user)??null),j!=null&&j.user){const N=await u(j.user.id);l(N)}else l(null);o(!1)});return()=>y.unsubscribe()},[u]),{user:e,session:r,loading:s,profile:a,isAdmin:c,signIn:async(g,y)=>await K.auth.signInWithPassword({email:g,password:y}),signOut:async()=>{const g=await K.auth.signOut();return g.error||(t(null),n(null),l(null)),g},signUp:async(g,y,m)=>await K.auth.signUp({email:g,password:y,options:{data:m}}),resetPassword:async g=>await K.auth.resetPasswordForEmail(g,{redirectTo:`${window.location.origin}/reset-password`}),updateProfile:async g=>{if(!e)return{data:null,error:new Error("No user logged in")};try{const{data:y,error:m}=await K.from("user_profiles").update({...g,updated_at:new Date().toISOString()}).eq("user_id",e.id).select().single();return m||l(y),{data:y,error:m}}catch(y){return{data:null,error:y}}},updatePassword:async g=>await K.auth.updateUser({password:g}),refreshProfile:d}}const nv=x.createContext(void 0);function bC({children:e}){const t=wC();return i.jsx(nv.Provider,{value:t,children:e})}function gr(){const e=x.useContext(nv);if(e===void 0)throw new Error("useAuthContext must be used within an AuthProvider");return e}const sv=x.createContext(void 0),io=()=>{const e=x.useContext(sv);if(!e)throw new Error("useCart must be used within a CartProvider");return e},jC=({children:e})=>{const[t,r]=x.useState([]);x.useEffect(()=>{try{const h=localStorage.getItem("studio_nullbyte_cart");h&&r(JSON.parse(h))}catch(h){console.error("Error loading cart from localStorage:",h)}},[]),x.useEffect(()=>{try{localStorage.setItem("studio_nullbyte_cart",JSON.stringify(t))}catch(h){console.error("Error saving cart to localStorage:",h)}},[t]);const n=h=>{r(f=>f.find(v=>v.id===h.id)?f.map(v=>v.id===h.id?{...v,quantity:v.quantity+1}:v):[...f,{...h,quantity:1}])},s=h=>{r(f=>f.filter(p=>p.id!==h))},d={items:t,addToCart:n,removeFromCart:s,updateQuantity:(h,f)=>{if(f<=0){s(h);return}r(p=>p.map(v=>v.id===h?{...v,quantity:f}:v))},clearCart:()=>{r([])},getTotalItems:()=>t.reduce((h,f)=>h+f.quantity,0),getTotalPrice:()=>t.reduce((h,f)=>h+f.price*f.quantity,0),isInCart:h=>t.some(f=>f.id===h)};return i.jsx(sv.Provider,{value:d,children:e})};var NC={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const SC=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),_C=(e,t)=>{const r=x.forwardRef(({color:n="currentColor",size:s=24,strokeWidth:o=2,absoluteStrokeWidth:a,children:l,...c},u)=>x.createElement("svg",{ref:u,...NC,width:s,height:s,stroke:n,strokeWidth:a?Number(o)*24/Number(s):o,className:`lucide lucide-${SC(e)}`,...c},[...t.map(([d,h])=>x.createElement(d,h)),...(Array.isArray(l)?l:[l])||[]]));return r.displayName=`${e}`,r};var H=_C;const kC=H("Activity",[["path",{d:"M22 12h-4l-3 9L9 3l-3 9H2",key:"d5dnw9"}]]),Ye=H("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]),iv=H("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]),Nh=H("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]),Ma=H("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]),PC=H("BarChart3",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]),Wi=H("Calendar",[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",ry:"2",key:"eu3xkr"}],["line",{x1:"16",x2:"16",y1:"2",y2:"6",key:"m3sa8f"}],["line",{x1:"8",x2:"8",y1:"2",y2:"6",key:"18kwsl"}],["line",{x1:"3",x2:"21",y1:"10",y2:"10",key:"xt86sb"}]]),fe=H("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["polyline",{points:"22 4 12 14.01 9 11.01",key:"6xbx8j"}]]),Sh=H("Check",[["polyline",{points:"20 6 9 17 4 12",key:"10jjfj"}]]),CC=H("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]),$t=H("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]),ov=H("Code",[["polyline",{points:"16 18 22 12 16 6",key:"z7tu5w"}],["polyline",{points:"8 6 2 12 8 18",key:"1eg1df"}]]),EC=H("Coffee",[["path",{d:"M17 8h1a4 4 0 1 1 0 8h-1",key:"jx4kbh"}],["path",{d:"M3 8h14v9a4 4 0 0 1-4 4H7a4 4 0 0 1-4-4Z",key:"1bxrl0"}],["line",{x1:"6",x2:"6",y1:"2",y2:"4",key:"1cr9l3"}],["line",{x1:"10",x2:"10",y1:"2",y2:"4",key:"170wym"}],["line",{x1:"14",x2:"14",y1:"2",y2:"4",key:"1c5f70"}]]),TC=H("Contact",[["path",{d:"M17 18a2 2 0 0 0-2-2H9a2 2 0 0 0-2 2",key:"1mghuy"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["circle",{cx:"12",cy:"10",r:"2",key:"1yojzk"}],["line",{x1:"8",x2:"8",y1:"2",y2:"4",key:"1ff9gb"}],["line",{x1:"16",x2:"16",y1:"2",y2:"4",key:"1ufoma"}]]),Ps=H("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]),Np=H("Crown",[["path",{d:"m2 4 3 12h14l3-12-6 7-4-7-4 7-6-7zm3 16h14",key:"zkxr6b"}]]),AC=H("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]),av=H("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]),Ua=H("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]),Ku=H("ExternalLink",[["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}],["polyline",{points:"15 3 21 3 21 9",key:"mznyad"}],["line",{x1:"10",x2:"21",y1:"14",y2:"3",key:"18c3s4"}]]),qr=H("EyeOff",[["path",{d:"M9.88 9.88a3 3 0 1 0 4.24 4.24",key:"1jxqfv"}],["path",{d:"M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68",key:"9wicm4"}],["path",{d:"M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61",key:"1jreej"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]),Vt=H("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),lv=H("FileText",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["line",{x1:"16",x2:"8",y1:"13",y2:"13",key:"14keom"}],["line",{x1:"16",x2:"8",y1:"17",y2:"17",key:"17nazh"}],["line",{x1:"10",x2:"8",y1:"9",y2:"9",key:"1a5vjj"}]]),Cs=H("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]),IC=H("Github",[["path",{d:"M15 22v-4a4.8 4.8 0 0 0-1-3.5c3 0 6-2 6-5.5.08-1.25-.27-2.48-1-3.5.28-1.15.28-2.35 0-3.5 0 0-1 0-3 1.5-2.64-.5-5.36-.5-8 0C6 2 5 2 5 2c-.3 1.15-.3 2.35 0 3.5A5.403 5.403 0 0 0 4 9c0 3.5 3 5.5 6 5.5-.39.49-.68 1.05-.85 1.65-.17.6-.22 1.23-.15 1.85v4",key:"tonef"}],["path",{d:"M9 18c-4.51 2-5-2-7-2",key:"9comsn"}]]),Gu=H("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"2",x2:"22",y1:"12",y2:"12",key:"1dnqot"}],["path",{d:"M12 2a15.3 15.3 0 0 1 4 10 15.3 15.3 0 0 1-4 10 15.3 15.3 0 0 1-4-10 15.3 15.3 0 0 1 4-10z",key:"nb9nel"}]]),RC=H("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]),cv=H("Home",[["path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"y5dka4"}],["polyline",{points:"9 22 9 12 15 12 15 22",key:"e2us08"}]]),OC=H("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]),LC=H("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]),DC=H("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]),$e=H("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]),Yu=H("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]),Be=H("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]),MC=H("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]),uv=H("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]),UC=H("MessageCircle",[["path",{d:"m3 21 1.9-5.7a8.5 8.5 0 1 1 3.8 3.8z",key:"v2veuj"}]]),xc=H("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]),FC=H("Minus",[["path",{d:"M5 12h14",key:"1ays0h"}]]),Wr=H("Package",[["path",{d:"M16.5 9.4 7.55 4.24",key:"10qotr"}],["path",{d:"M21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16z",key:"yt0hxn"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["line",{x1:"12",x2:"12",y1:"22",y2:"12",key:"a4e8g8"}]]),$C=H("Palette",[["circle",{cx:"13.5",cy:"6.5",r:".5",key:"1xcu5"}],["circle",{cx:"17.5",cy:"10.5",r:".5",key:"736e4u"}],["circle",{cx:"8.5",cy:"7.5",r:".5",key:"clrty"}],["circle",{cx:"6.5",cy:"12.5",r:".5",key:"1s4xz9"}],["path",{d:"M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10c.926 0 1.648-.746 1.648-1.688 0-.437-.18-.835-.437-1.125-.29-.289-.438-.652-.438-1.125a1.64 1.64 0 0 1 1.668-1.668h1.996c3.051 0 5.555-2.503 5.555-5.554C21.965 6.012 17.461 2 12 2z",key:"12rzf8"}]]),vl=H("PenLine",[["path",{d:"M12 20h9",key:"t2du7b"}],["path",{d:"M16.5 3.5a2.12 2.12 0 0 1 3 3L7 19l-4 1 1-4Z",key:"ymcmye"}]]),VC=H("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]),_h=H("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]),dv=H("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]),oo=H("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]),vc=H("Scale",[["path",{d:"m16 16 3-8 3 8c-.87.65-1.92 1-3 1s-2.13-.35-3-1Z",key:"7g6ntu"}],["path",{d:"m2 16 3-8 3 8c-.87.65-1.92 1-3 1s-2.13-.35-3-1Z",key:"ijws7r"}],["path",{d:"M7 21h10",key:"1b0cd5"}],["path",{d:"M12 3v18",key:"108xh3"}],["path",{d:"M3 7h2c2 0 5-1 7-2 2 1 5 2 7 2h2",key:"3gwbw2"}]]),Pn=H("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]),BC=H("Send",[["path",{d:"m22 2-7 20-4-9-9-4Z",key:"1q3vgg"}],["path",{d:"M22 2 11 13",key:"nzbqef"}]]),Fa=H("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),zC=H("Share2",[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]]),qC=H("ShieldCheck",[["path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z",key:"3xmgem"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]),Ir=H("Shield",[["path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z",key:"3xmgem"}]]),WC=H("ShoppingBag",[["path",{d:"M6 2 3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4Z",key:"hou9p0"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}]]),ms=H("ShoppingCart",[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]]),HC=H("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]),oi=H("Tag",[["path",{d:"M12 2H2v10l9.29 9.29c.94.94 2.48.94 3.42 0l6.58-6.58c.94-.94.94-2.48 0-3.42L12 2Z",key:"14b2ls"}],["path",{d:"M7 7h.01",key:"7u93v4"}]]),KC=H("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]),wl=H("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]),at=H("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]),Hr=H("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]),GC=H("XCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]),kt=H("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),hv=H("Zap",[["polygon",{points:"13 2 3 14 12 14 11 22 21 10 12 10 13 2",key:"45s27k"}]]),fv=x.createContext(void 0),ao=()=>{const e=x.useContext(fv);if(!e)throw new Error("useToast must be used within a ToastProvider");return e},YC=({children:e})=>{const[t,r]=x.useState([]),n=x.useCallback(l=>{const c=Date.now().toString(),u={id:c,duration:3e3,...l};r(d=>[...d,u]),u.duration&&u.duration>0&&setTimeout(()=>{s(c)},u.duration)},[]),s=x.useCallback(l=>{r(c=>c.filter(u=>u.id!==l))},[]),o=l=>{switch(l){case"success":return i.jsx(Sh,{className:"w-5 h-5"});case"error":return i.jsx(Ye,{className:"w-5 h-5"});case"warning":return i.jsx(Ye,{className:"w-5 h-5"});default:return i.jsx(OC,{className:"w-5 h-5"})}},a=l=>{switch(l){case"success":return"bg-green-600 border-green-500 text-white";case"error":return"bg-red-600 border-red-500 text-white";case"warning":return"bg-yellow-600 border-yellow-500 text-black";default:return"bg-blue-600 border-blue-500 text-white"}};return i.jsxs(fv.Provider,{value:{showToast:n,removeToast:s},children:[e,i.jsx("div",{className:"fixed top-4 right-4 z-50 space-y-2",children:i.jsx(_s,{children:t.map(l=>i.jsx(U.div,{initial:{opacity:0,x:100,scale:.8},animate:{opacity:1,x:0,scale:1},exit:{opacity:0,x:100,scale:.8},transition:{duration:.2},className:`
                max-w-sm p-4 rounded-sm border shadow-lg font-mono
                ${a(l.type)}
              `,children:i.jsxs("div",{className:"flex items-start gap-3",children:[i.jsx("div",{className:"flex-shrink-0",children:o(l.type)}),i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsx("p",{className:"font-bold text-sm",children:l.title}),l.message&&i.jsx("p",{className:"text-sm opacity-90 mt-1",children:l.message})]}),i.jsx("button",{onClick:()=>s(l.id),className:"flex-shrink-0 opacity-70 hover:opacity-100 transition-opacity",children:i.jsx(kt,{className:"w-4 h-4"})})]})},l.id))})})]})};function vr({children:e,requireAuth:t=!0,requireAdmin:r=!1}){const{user:n,isAdmin:s,loading:o}=gr(),a=Tt();return o?i.jsx("div",{className:"min-h-screen flex items-center justify-center bg-black",children:i.jsx("div",{className:"text-white font-mono",children:"Loading..."})}):t&&!n?i.jsx(Hf,{to:"/auth",state:{from:a},replace:!0}):r&&!s?i.jsx(Hf,{to:"/",replace:!0}):i.jsx(i.Fragment,{children:e})}const mv={colors:{text:{primary:"#FFFFFF",secondary:"#D1D5DB",muted:"#9CA3AF"},interactive:{primary:"#A78BFA",hover:"#C4B5FD",focus:"#DDD6FE"},status:{success:"#10B981",warning:"#F59E0B",error:"#EF4444",info:"#3B82F6"}},focus:{trapFocus:e=>{const t=e.querySelectorAll('button, [href], input, select, textarea, [tabindex]:not([tabindex="-1"])'),r=t[0],n=t[t.length-1],s=o=>{o.key==="Tab"&&(o.shiftKey?document.activeElement===r&&(n.focus(),o.preventDefault()):document.activeElement===n&&(r.focus(),o.preventDefault()))};return e.addEventListener("keydown",s),()=>e.removeEventListener("keydown",s)},restoreFocus:e=>{e&&typeof e.focus=="function"&&e.focus()}},screenReader:{announce:(e,t="polite")=>{const r=document.createElement("div");r.setAttribute("aria-live",t),r.setAttribute("aria-atomic","true"),r.className="sr-only",r.textContent=e,document.body.appendChild(r),setTimeout(()=>{document.body.removeChild(r)},1e3)},hide:e=>{e.setAttribute("aria-hidden","true")},show:e=>{e.removeAttribute("aria-hidden")}},keyboard:{onEscape:e=>{const t=r=>{r.key==="Escape"&&e()};return document.addEventListener("keydown",t),()=>document.removeEventListener("keydown",t)},onActivate:e=>t=>{(t.key==="Enter"||t.key===" ")&&(t.preventDefault(),e())}},form:{validateRequired:(e,t)=>e.trim()?null:`${t} is required`,validateEmail:e=>/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(e)?null:"Please enter a valid email address",getErrorId:e=>`${e}-error`,getDescriptionId:e=>`${e}-description`},motion:{prefersReducedMotion:()=>window.matchMedia("(prefers-reduced-motion: reduce)").matches,respectMotionPreference:(e,t)=>mv.motion.prefersReducedMotion()?t:e},media:{getAltTextGuideline:e=>{switch(e){case"decorative":return"";case"informative":return"Describe the information conveyed by the image";case"functional":return"Describe the function or purpose of the image";default:return"Describe the image content"}}}},JC=e=>{x.useEffect(()=>{if(e)return mv.keyboard.onEscape(e)},[e])},QC=({isOpen:e,onClose:t})=>{const r=Ze(),{items:n,updateQuantity:s,removeFromCart:o,clearCart:a,getTotalPrice:l}=io(),{showToast:c}=ao(),u=f=>{o(f.id),c({type:"info",title:"Item Removed",message:`${f.title} has been removed from your cart.`})},d=()=>{n.length>0&&(a(),c({type:"info",title:"Cart Cleared",message:"All items have been removed from your cart."}))},h=()=>{t(),r("/checkout")};return i.jsx(_s,{children:e&&i.jsxs(i.Fragment,{children:[i.jsx(U.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:t,className:"fixed inset-0 bg-black bg-opacity-50 z-50"}),i.jsx(U.div,{initial:{opacity:0,x:"100%"},animate:{opacity:1,x:0},exit:{opacity:0,x:"100%"},transition:{type:"tween",duration:.3},className:"fixed right-0 top-0 h-full w-full max-w-md bg-black border-l border-gray-700 z-50 overflow-hidden",children:i.jsxs("div",{className:"flex flex-col h-full",children:[i.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-700",children:[i.jsx("h2",{className:"text-xl font-mono font-bold",children:"Shopping Cart"}),i.jsx("button",{onClick:t,className:"p-2 hover:bg-gray-800 rounded-sm transition-colors",children:i.jsx(kt,{className:"w-5 h-5"})})]}),i.jsx("div",{className:"flex-1 overflow-y-auto p-6",children:n.length===0?i.jsxs("div",{className:"text-center py-12",children:[i.jsx(WC,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),i.jsx("p",{className:"text-gray-400 font-mono",children:"Your cart is empty"}),i.jsx("button",{onClick:t,className:"btn-primary mt-4",children:"Continue Shopping"})]}):i.jsx("div",{className:"space-y-4",children:n.map(f=>i.jsxs("div",{className:"flex gap-4 p-4 bg-code-gray rounded-sm",children:[i.jsx("div",{className:"w-16 h-16 bg-code-gray-dark rounded-sm overflow-hidden flex-shrink-0",children:f.image_url?i.jsx("img",{src:f.image_url,alt:f.title,className:"w-full h-full object-cover"}):i.jsx("div",{className:"w-full h-full flex items-center justify-center text-gray-500 text-xs",children:"No Image"})}),i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsx("h3",{className:"font-mono font-bold text-sm truncate mb-1",children:f.title}),i.jsxs("p",{className:"text-electric-violet font-mono text-sm mb-2",children:["$",f.price]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("button",{onClick:()=>s(f.id,f.quantity-1),className:"p-1 hover:bg-gray-700 rounded-sm transition-colors",children:i.jsx(FC,{className:"w-3 h-3"})}),i.jsx("span",{className:"font-mono text-sm w-8 text-center",children:f.quantity}),i.jsx("button",{onClick:()=>s(f.id,f.quantity+1),className:"p-1 hover:bg-gray-700 rounded-sm transition-colors",children:i.jsx(_h,{className:"w-3 h-3"})}),i.jsx("button",{onClick:()=>u({id:f.id,title:f.title}),className:"p-1 hover:bg-red-600 rounded-sm transition-colors ml-2",children:i.jsx(wl,{className:"w-3 h-3"})})]})]}),i.jsx("div",{className:"text-right",children:i.jsxs("p",{className:"font-mono font-bold text-sm",children:["$",(f.price*f.quantity).toFixed(2)]})})]},f.id))})}),n.length>0&&i.jsxs("div",{className:"border-t border-gray-700 p-6",children:[i.jsxs("div",{className:"flex justify-between items-center mb-4",children:[i.jsx("span",{className:"font-mono font-bold",children:"Total:"}),i.jsxs("span",{className:"font-mono font-bold text-xl text-electric-violet",children:["$",l().toFixed(2)]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx("button",{onClick:h,className:"btn-primary w-full",children:"Checkout"}),i.jsx("button",{onClick:d,className:"btn-ghost w-full text-sm",children:"Clear Cart"})]})]})]})})]})})},ZC=()=>{var w;const[e,t]=x.useState(!1),[r,n]=x.useState(!1),[s,o]=x.useState(!1),[a,l]=x.useState(!1),c=Tt(),{user:u,isAdmin:d,signOut:h,profile:f}=gr(),{getTotalItems:p}=io();JC(()=>{t(!1),n(!1)});const v=async()=>{confirm("Are you sure you want to sign out?")&&(n(!1),t(!1),await h())};x.useEffect(()=>{const g=()=>{l(window.scrollY>50)};return window.addEventListener("scroll",g),()=>window.removeEventListener("scroll",g)},[]),x.useEffect(()=>{t(!1),n(!1)},[c]),x.useEffect(()=>{const g=y=>{r&&(y.target.closest(".user-menu-container")||n(!1))};return document.addEventListener("mousedown",g),()=>document.removeEventListener("mousedown",g)},[r]);const b=[{name:"Home",path:"/"},{name:"Products",path:"/products"},{name:"About",path:"/about"},{name:"Contact",path:"/contact"}];return i.jsxs("header",{className:`fixed top-0 left-0 right-0 z-50 transition-all duration-300 ${a?"bg-black/90 backdrop-blur-md border-b border-gray-800":"bg-transparent"}`,role:"banner",children:[i.jsx("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8 py-3 sm:py-4",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs(J,{to:"/",className:"nav-link flex items-center space-x-2 sm:space-x-3 group","aria-label":"Studio Nullbyte - Home",children:[i.jsx("div",{className:"w-6 h-6 sm:w-8 sm:h-8 flex items-center justify-center",children:i.jsx("img",{src:"/images/SNLogo.jpg",alt:"",className:"w-8 h-8 sm:w-10 sm:h-10 group-hover:scale-110 transition-transform duration-300",role:"presentation"})}),i.jsxs("span",{className:"font-mono text-lg sm:text-xl font-bold glitch-text group-hover:text-electric-violet transition-colors",children:[i.jsx("span",{className:"mr-1 hidden xs:inline",children:"Studio"}),i.jsx("span",{className:"text-electric-violet cursor-blink",children:"Nullbyte"})]})]}),i.jsxs("nav",{className:"hidden lg:flex items-center space-x-6 xl:space-x-8",role:"navigation","aria-label":"Main navigation",children:[b.map(g=>i.jsx(J,{to:g.path,className:`nav-link font-mono text-sm transition-colors hover:text-electric-violet ${c.pathname===g.path?"text-electric-violet":"text-gray-300"}`,"aria-current":c.pathname===g.path?"page":void 0,children:g.name},g.name)),d&&i.jsxs(J,{to:"/admin",className:`flex items-center gap-1 font-mono text-sm transition-colors hover:text-electric-violet ${c.pathname.startsWith("/admin")?"text-electric-violet":"text-gray-300"}`,children:[i.jsx(Ir,{className:"w-4 h-4"}),"Admin"]})]}),i.jsxs("div",{className:"flex items-center space-x-2 sm:space-x-4",children:[i.jsxs("button",{onClick:()=>o(!0),className:"nav-link relative p-2 hover:bg-gray-800 rounded-sm transition-colors","aria-label":`Shopping cart - ${p()} items`,children:[i.jsx(ms,{className:"w-4 h-4 sm:w-5 sm:h-5","aria-hidden":"true"}),p()>0&&i.jsx("span",{className:"absolute -top-1 -right-1 bg-electric-violet text-black text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center","aria-label":`${p()} items in cart`,children:p()})]}),u?i.jsxs("div",{className:"relative user-menu-container",children:[i.jsxs("button",{onClick:()=>n(!r),className:"flex items-center gap-2 p-2 hover:bg-gray-800 rounded-sm transition-colors",children:[i.jsx("div",{className:"w-6 h-6 bg-electric-violet rounded-full flex items-center justify-center",children:i.jsx(at,{className:"w-3 h-3 text-black"})}),i.jsx("span",{className:"hidden sm:inline font-mono text-sm text-gray-300",children:(f==null?void 0:f.full_name)||((w=u.email)==null?void 0:w.split("@")[0])||"User"})]}),i.jsx(_s,{children:r&&i.jsx(U.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},className:"absolute right-0 mt-2 w-48 bg-code-gray-light border border-gray-700 rounded-lg shadow-lg z-50",children:i.jsxs("div",{className:"py-2",children:[i.jsxs(J,{to:"/settings",className:"flex items-center gap-3 px-4 py-2 font-mono text-sm text-gray-300 hover:text-white hover:bg-gray-700 transition-colors",onClick:()=>n(!1),children:[i.jsx(Fa,{className:"w-4 h-4"}),"Account Settings"]}),d&&i.jsxs(i.Fragment,{children:[i.jsx("hr",{className:"border-gray-700 my-1"}),i.jsx("div",{className:"px-4 py-2",children:i.jsx("p",{className:"font-mono text-xs text-gray-500 uppercase tracking-wider",children:"Admin"})}),i.jsxs(J,{to:"/admin",className:"flex items-center gap-3 px-4 py-2 font-mono text-sm text-electric-violet hover:text-white hover:bg-electric-violet/10 transition-colors",onClick:()=>n(!1),children:[i.jsx(Ir,{className:"w-4 h-4"}),"Dashboard"]}),i.jsx(J,{to:"/admin/products",className:"flex items-center gap-3 px-4 py-2 font-mono text-sm text-gray-300 hover:text-white hover:bg-gray-700 transition-colors",onClick:()=>n(!1),children:"Products"}),i.jsx(J,{to:"/admin/users",className:"flex items-center gap-3 px-4 py-2 font-mono text-sm text-gray-300 hover:text-white hover:bg-gray-700 transition-colors",onClick:()=>n(!1),children:"Users"}),i.jsx(J,{to:"/admin/categories",className:"flex items-center gap-3 px-4 py-2 font-mono text-sm text-gray-300 hover:text-white hover:bg-gray-700 transition-colors",onClick:()=>n(!1),children:"Categories"}),i.jsx(J,{to:"/admin/orders",className:"flex items-center gap-3 px-4 py-2 font-mono text-sm text-gray-300 hover:text-white hover:bg-gray-700 transition-colors",onClick:()=>n(!1),children:"Orders"}),i.jsx(J,{to:"/admin/contacts",className:"flex items-center gap-3 px-4 py-2 font-mono text-sm text-gray-300 hover:text-white hover:bg-gray-700 transition-colors",onClick:()=>n(!1),children:"Messages"})]}),i.jsx("hr",{className:"border-gray-700 my-1"}),i.jsxs("button",{onClick:v,className:"w-full flex items-center gap-3 px-4 py-2 font-mono text-sm text-red-400 hover:text-red-300 hover:bg-red-500/10 transition-colors",children:[i.jsx(Yu,{className:"w-4 h-4"}),"Sign Out"]})]})})})]}):i.jsxs(J,{to:"/auth",className:"hidden sm:flex items-center gap-2 bg-electric-violet hover:bg-electric-violet-light text-white font-mono text-sm py-2 px-4 rounded transition-colors",children:[i.jsx(at,{className:"w-4 h-4"}),"Sign In"]}),i.jsx("button",{onClick:()=>t(!e),className:"mobile-menu-button lg:hidden","aria-expanded":e,"aria-controls":"mobile-menu","aria-label":e?"Close menu":"Open menu",children:e?i.jsx(kt,{className:"w-4 h-4 sm:w-5 sm:h-5","aria-hidden":"true"}):i.jsx(uv,{className:"w-4 h-4 sm:w-5 sm:h-5","aria-hidden":"true"})})]})]})}),i.jsx(_s,{children:e&&i.jsx(U.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},className:"lg:hidden bg-black/95 backdrop-blur-md border-t border-gray-800",children:i.jsx("div",{className:"container mx-auto px-4 sm:px-6 py-4 sm:py-6",children:i.jsxs("nav",{className:"flex flex-col space-y-4",children:[b.map(g=>i.jsx(J,{to:g.path,className:`font-mono text-base sm:text-lg py-2 transition-colors hover:text-electric-violet ${c.pathname===g.path?"text-electric-violet":"text-gray-300"}`,children:g.name},g.name)),d&&i.jsxs(J,{to:"/admin",className:`flex items-center gap-2 font-mono text-base sm:text-lg py-2 transition-colors hover:text-electric-violet ${c.pathname.startsWith("/admin")?"text-electric-violet":"text-gray-300"}`,children:[i.jsx(Ir,{className:"w-5 h-5"}),"Admin"]}),i.jsx("hr",{className:"border-gray-700 my-2"}),u?i.jsxs(i.Fragment,{children:[i.jsxs(J,{to:"/settings",className:"flex items-center gap-3 font-mono text-base sm:text-lg py-2 text-gray-300 hover:text-electric-violet transition-colors",children:[i.jsx(Fa,{className:"w-5 h-5"}),"Account Settings"]}),d&&i.jsxs(i.Fragment,{children:[i.jsx("hr",{className:"border-gray-700 my-2"}),i.jsx("div",{className:"py-2",children:i.jsx("p",{className:"font-mono text-sm text-gray-500 uppercase tracking-wider",children:"Admin"})}),i.jsxs(J,{to:"/admin",className:"flex items-center gap-3 font-mono text-base sm:text-lg py-2 text-electric-violet hover:text-electric-violet-light transition-colors",onClick:()=>t(!1),children:[i.jsx(Ir,{className:"w-5 h-5"}),"Dashboard"]}),i.jsx(J,{to:"/admin/products",className:"flex items-center gap-3 font-mono text-base sm:text-lg py-2 text-gray-300 hover:text-electric-violet transition-colors",onClick:()=>t(!1),children:"Products"}),i.jsx(J,{to:"/admin/users",className:"flex items-center gap-3 font-mono text-base sm:text-lg py-2 text-gray-300 hover:text-electric-violet transition-colors",onClick:()=>t(!1),children:"Users"}),i.jsx(J,{to:"/admin/categories",className:"flex items-center gap-3 font-mono text-base sm:text-lg py-2 text-gray-300 hover:text-electric-violet transition-colors",onClick:()=>t(!1),children:"Categories"}),i.jsx(J,{to:"/admin/orders",className:"flex items-center gap-3 font-mono text-base sm:text-lg py-2 text-gray-300 hover:text-electric-violet transition-colors",onClick:()=>t(!1),children:"Orders"}),i.jsx(J,{to:"/admin/contacts",className:"flex items-center gap-3 font-mono text-base sm:text-lg py-2 text-gray-300 hover:text-electric-violet transition-colors",onClick:()=>t(!1),children:"Messages"}),i.jsx("hr",{className:"border-gray-700 my-2"})]}),i.jsxs("button",{onClick:v,className:"flex items-center gap-3 font-mono text-base sm:text-lg py-2 text-red-400 hover:text-red-300 transition-colors text-left",children:[i.jsx(Yu,{className:"w-5 h-5"}),"Sign Out"]})]}):i.jsxs(J,{to:"/auth",className:"flex items-center gap-3 font-mono text-base sm:text-lg py-2 text-electric-violet hover:text-electric-violet-light transition-colors",children:[i.jsx(at,{className:"w-5 h-5"}),"Sign In"]})]})})})}),i.jsx(QC,{isOpen:s,onClose:()=>o(!1)})]})},XC=()=>i.jsx("footer",{className:"bg-code-gray border-t border-gray-800",children:i.jsxs("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8 py-8 sm:py-12",children:[i.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-8",children:[i.jsxs("div",{className:"sm:col-span-2 lg:col-span-2",children:[i.jsxs("div",{className:"flex items-center space-x-2 sm:space-x-3 mb-4",children:[i.jsx("div",{className:"w-6 h-6 sm:w-8 sm:h-8 flex items-center justify-center",children:i.jsx("img",{src:"/images/SNLogo.jpg",alt:"Studio Nullbyte Logo",className:"w-6 h-6 sm:w-8 sm:h-8 hover:scale-110 transition-transform duration-300"})}),i.jsxs("span",{className:"font-mono text-lg sm:text-xl font-bold",children:["Studio",i.jsx("span",{className:"text-electric-violet ml-1 cursor-blink",children:"Nullbyte"})]})]}),i.jsx("p",{className:"text-gray-400 font-mono text-sm mb-4 max-w-md",children:"Modular tools for those who think in syntax and ship in silence."}),i.jsxs("div",{className:"flex space-x-4",children:[i.jsx("a",{href:"https://github.com/studio-nullbyte",target:"_blank",rel:"noopener noreferrer",className:"text-gray-400 hover:text-electric-violet transition-colors",children:i.jsx(IC,{className:"w-5 h-5"})}),i.jsx("a",{href:"mailto:studionullbyte@gmail.com",className:"text-gray-400 hover:text-electric-violet transition-colors",children:i.jsx(Be,{className:"w-5 h-5"})})]})]}),i.jsxs("div",{children:[i.jsx("h3",{className:"font-mono text-sm font-bold mb-4 text-electric-violet",children:"Navigation"}),i.jsxs("ul",{className:"space-y-2 text-sm",children:[i.jsx("li",{children:i.jsx(J,{to:"/",className:"text-gray-400 hover:text-white transition-colors",children:"Home"})}),i.jsx("li",{children:i.jsx(J,{to:"/products",className:"text-gray-400 hover:text-white transition-colors",children:"Products"})}),i.jsx("li",{children:i.jsx(J,{to:"/about",className:"text-gray-400 hover:text-white transition-colors",children:"About"})}),i.jsx("li",{children:i.jsx(J,{to:"/contact",className:"text-gray-400 hover:text-white transition-colors",children:"Contact"})})]})]}),i.jsxs("div",{children:[i.jsx("h3",{className:"font-mono text-sm font-bold mb-4 text-electric-violet",children:"Products"}),i.jsxs("ul",{className:"space-y-2 text-sm",children:[i.jsx("li",{children:i.jsx(J,{to:"/products?category=web",className:"text-gray-400 hover:text-white transition-colors",children:"Web Templates"})}),i.jsx("li",{children:i.jsx(J,{to:"/products?category=notion",className:"text-gray-400 hover:text-white transition-colors",children:"Notion Templates"})}),i.jsx("li",{children:i.jsx(J,{to:"/products?category=ai",className:"text-gray-400 hover:text-white transition-colors",children:"AI Prompts"})}),i.jsx("li",{children:i.jsx(J,{to:"/products?category=docs",className:"text-gray-400 hover:text-white transition-colors",children:"Document Templates"})})]})]})]}),i.jsxs("div",{className:"border-t border-gray-800 mt-8 pt-6 sm:pt-8 flex flex-col sm:flex-row justify-between items-center space-y-4 sm:space-y-0",children:[i.jsx("p",{className:"text-gray-400 text-sm font-mono text-center sm:text-left",children:"© 2025 Studio Nullbyte. All rights reserved."}),i.jsxs("div",{className:"flex space-x-4 sm:space-x-6",children:[i.jsx(J,{to:"/privacy-policy",className:"text-gray-400 hover:text-white text-sm transition-colors",children:"Privacy Policy"}),i.jsx(J,{to:"/terms-of-service",className:"text-gray-400 hover:text-white text-sm transition-colors",children:"Terms of Service"})]})]})]})}),eE=()=>{x.useEffect(()=>{const t="edecbf12-1559-474c-9d81-6915a18cf171";window.$crisp=[],window.CRISP_WEBSITE_ID=t;const r=document.createElement("script");return r.src="https://client.crisp.chat/l.js",r.async=!0,r.onload=()=>{e()},document.getElementsByTagName("head")[0].appendChild(r),()=>{const n=document.querySelector('script[src="https://client.crisp.chat/l.js"]');n&&n.remove(),window.$crisp&&(window.$crisp=[])}},[]);const e=()=>{if(window.$crisp)try{window.$crisp.push(["set","appearance:theme",["dark"]]),window.$crisp.push(["set","appearance:color",["#8B5CF6"]]),window.$crisp.push(["set","appearance:position",["bottom-right"]]),window.$crisp.push(["set","appearance:animation",["slide"]]),window.$crisp.push(["set","chat:greeting:text",[`Welcome to Studio Nullbyte! 👋

Need help with our templates or have questions about custom development?`]]),window.$crisp.push(["set","chat:availability:text",["We typically respond within a few hours. Drop us a message!"]]),window.$crisp.push(["set","session:segments",[["website-visitor"]]])}catch(t){console.error("Crisp Chat configuration error:",t)}};return null},Ms=({title:e="Studio Nullbyte - Modular Design Tools",description:t="Modular tools for the design-minded developer. Clean. Branded. Ready to deploy.",keywords:r="templates, web templates, notion templates, AI prompts, developer tools, freelancers, design tools, react templates, typescript templates",image:n="https://studio-nullbyte.github.io/android-chrome-512x512.png",url:s="https://studio-nullbyte.github.io",type:o="website",structuredData:a,noIndex:l=!1,canonical:c})=>{const u=e.includes("Studio Nullbyte")?e:`${e} - Studio Nullbyte`,d=s.startsWith("http")?s:`https://studio-nullbyte.github.io${s}`;return i.jsxs(Oe,{children:[i.jsx("title",{children:u}),i.jsx("meta",{name:"description",content:t}),i.jsx("meta",{name:"keywords",content:r}),i.jsx("meta",{name:"author",content:"Studio Nullbyte"}),c&&i.jsx("link",{rel:"canonical",href:c}),l?i.jsx("meta",{name:"robots",content:"noindex, nofollow"}):i.jsx("meta",{name:"robots",content:"index, follow, max-snippet:-1, max-image-preview:large, max-video-preview:-1"}),i.jsx("meta",{property:"og:title",content:u}),i.jsx("meta",{property:"og:description",content:t}),i.jsx("meta",{property:"og:type",content:o}),i.jsx("meta",{property:"og:url",content:d}),i.jsx("meta",{property:"og:image",content:n}),i.jsx("meta",{property:"og:image:width",content:"512"}),i.jsx("meta",{property:"og:image:height",content:"512"}),i.jsx("meta",{property:"og:site_name",content:"Studio Nullbyte"}),i.jsx("meta",{property:"og:locale",content:"en_US"}),i.jsx("meta",{name:"twitter:card",content:"summary_large_image"}),i.jsx("meta",{name:"twitter:title",content:u}),i.jsx("meta",{name:"twitter:description",content:t}),i.jsx("meta",{name:"twitter:image",content:n}),i.jsx("meta",{name:"twitter:site",content:"@studionullbyte"}),i.jsx("meta",{name:"twitter:creator",content:"@studionullbyte"}),i.jsx("meta",{name:"theme-color",content:"#000000"}),i.jsx("meta",{name:"msapplication-TileColor",content:"#000000"}),a&&i.jsx("script",{type:"application/ld+json",children:a}),i.jsx("link",{rel:"preconnect",href:"https://fonts.googleapis.com"}),i.jsx("link",{rel:"preconnect",href:"https://fonts.gstatic.com",crossOrigin:"anonymous"}),i.jsx("link",{rel:"dns-prefetch",href:"https://js.stripe.com"}),i.jsx("link",{rel:"dns-prefetch",href:"https://client.crisp.chat"})]})},tE=()=>{const[e,t]=x.useState([]),[r,n]=x.useState(!0),[s,o]=x.useState(null);x.useEffect(()=>{(async()=>{try{n(!0);const{data:d,error:h}=await xC(3);h?(console.error("Error fetching featured products:",h),o("Failed to load featured products")):d&&t(d)}catch(d){console.error("Error fetching featured products:",d),o("Failed to load featured products")}finally{n(!1)}})()},[]);const a=[{icon:i.jsx(ov,{className:"w-8 h-8","aria-hidden":"true"}),title:"Developer-First",description:"Built for those who think in syntax and ship in silence."},{icon:i.jsx($C,{className:"w-8 h-8","aria-hidden":"true"}),title:"Design-Minded",description:"Aesthetic precision meets functional excellence."},{icon:i.jsx(hv,{className:"w-8 h-8","aria-hidden":"true"}),title:"Ready to Deploy",description:"Plug-and-play solutions that work out of the box."},{icon:i.jsx(Hr,{className:"w-8 h-8","aria-hidden":"true"}),title:"Community Driven",description:"Built by developers, for developers and creators."}],l=[{value:"500+",label:"Templates"},{value:"10k+",label:"Downloads"},{value:"4.9/5",label:"Rating"},{value:"24/7",label:"Support"}],c=JSON.stringify({"@context":"https://schema.org","@type":"WebSite",name:"Studio Nullbyte",url:"https://studio-nullbyte.github.io",description:"Modular tools for the design-minded developer. Clean. Branded. Ready to deploy.",publisher:{"@type":"Organization",name:"Studio Nullbyte"},potentialAction:{"@type":"SearchAction",target:"https://studio-nullbyte.github.io/products?search={search_term_string}","query-input":"required name=search_term_string"}},null,2);return i.jsxs(i.Fragment,{children:[i.jsx(Ms,{title:"Studio Nullbyte - Modular Design Tools",description:"Modular tools for the design-minded developer. Clean. Branded. Ready to deploy.",keywords:"templates, web templates, notion templates, AI prompts, developer tools, react templates, ui components, freelancers, digital products",url:"/",type:"website",structuredData:c}),i.jsx("a",{href:"#main-content",className:"skip-link",children:"Skip to main content"}),i.jsxs("section",{id:"main-content",className:"min-h-screen flex items-center justify-center relative overflow-hidden px-4 sm:px-6","aria-labelledby":"hero-heading",children:[i.jsx("div",{className:"absolute inset-0 bg-grid-pattern opacity-10","aria-hidden":"true"}),i.jsx("div",{className:"container mx-auto text-center relative z-10 max-w-6xl",children:i.jsxs(U.div,{initial:{opacity:0,y:40},animate:{opacity:1,y:0},transition:{duration:.8},className:"max-w-4xl mx-auto",children:[i.jsxs("h1",{id:"hero-heading",className:"text-3xl sm:text-4xl md:text-5xl lg:text-6xl xl:text-7xl font-mono font-bold mb-4 sm:mb-6 leading-tight",children:["Modular tools for the",i.jsx("span",{className:"block text-electric-violet mt-2",children:"design-minded developer"})]}),i.jsx("p",{className:"text-lg sm:text-xl md:text-2xl text-gray-400 mb-6 sm:mb-8 font-mono px-4",children:"Clean. Branded. Ready to deploy."}),i.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center px-4",children:[i.jsxs(J,{to:"/products",className:"btn-primary inline-flex items-center justify-center","aria-describedby":"browse-description",children:["Browse Templates",i.jsx(Ma,{className:"w-4 h-4 sm:w-5 sm:h-5 ml-2","aria-hidden":"true"})]}),i.jsx("span",{id:"browse-description",className:"sr-only",children:"Explore our collection of developer tools and templates"}),i.jsx(J,{to:"/about",className:"btn-secondary",children:"Learn More"})]})]})})]}),i.jsx("section",{className:"py-12 sm:py-16 lg:py-20 bg-code-gray","aria-labelledby":"stats-heading",children:i.jsxs("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8",children:[i.jsx("h2",{id:"stats-heading",className:"sr-only",children:"Company Statistics"}),i.jsx("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-6 sm:gap-8",children:l.map((u,d)=>i.jsxs(U.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{duration:.5,delay:d*.1},className:"text-center",children:[i.jsx("div",{className:"text-2xl sm:text-3xl lg:text-4xl font-mono font-bold text-electric-violet mb-2","aria-label":`${u.value} ${u.label}`,children:u.value}),i.jsx("div",{className:"text-gray-400 font-mono text-xs sm:text-sm",children:u.label})]},d))})]})}),i.jsx("section",{className:"py-12 sm:py-16 lg:py-20","aria-labelledby":"features-heading",children:i.jsxs("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8",children:[i.jsxs("div",{className:"text-center mb-12 sm:mb-16",children:[i.jsxs("h2",{id:"features-heading",className:"text-2xl sm:text-3xl lg:text-4xl font-mono font-bold mb-4",children:["Built for ",i.jsx("span",{className:"text-electric-violet",children:"Creators"})]}),i.jsx("p",{className:"text-gray-400 text-base sm:text-lg max-w-2xl mx-auto px-4",children:"Whether you're a freelancer, indie developer, or agency owner, our tools adapt to your workflow."})]}),i.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6 sm:gap-8",children:a.map((u,d)=>i.jsxs(U.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{duration:.5,delay:d*.1},className:"card group",children:[i.jsx("div",{className:"text-electric-violet mb-4 group-hover:scale-110 transition-transform",children:u.icon}),i.jsx("h3",{className:"text-lg sm:text-xl font-mono font-bold mb-2",children:u.title}),i.jsx("p",{className:"text-gray-400 text-sm",children:u.description})]},d))})]})}),(r||s||e.length>0)&&i.jsx("section",{className:"py-12 sm:py-16 lg:py-20 bg-code-gray","aria-labelledby":"featured-products-heading",children:i.jsxs("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8",children:[i.jsxs("div",{className:"text-center mb-12 sm:mb-16",children:[i.jsxs("h2",{id:"featured-products-heading",className:"text-2xl sm:text-3xl lg:text-4xl font-mono font-bold mb-4",children:["Featured ",i.jsx("span",{className:"text-electric-violet",children:"Products"})]}),i.jsx("p",{className:"text-gray-400 text-base sm:text-lg max-w-2xl mx-auto px-4",children:"Handpicked templates and tools to accelerate your next project."})]}),i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 gap-6 sm:gap-8",children:r?i.jsxs("div",{className:"col-span-full flex items-center justify-center py-12",children:[i.jsx(DC,{className:"w-8 h-8 animate-spin text-electric-violet"}),i.jsx("span",{className:"ml-3 text-gray-400",children:"Loading featured products..."})]}):s?i.jsxs("div",{className:"col-span-full text-center py-12",children:[i.jsx("p",{className:"text-red-400 mb-4",children:s}),i.jsx("button",{onClick:()=>window.location.reload(),className:"btn-secondary",children:"Try Again"})]}):e.map((u,d)=>{var h;return i.jsxs(U.article,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{duration:.5,delay:d*.1},className:"card group",children:[i.jsx("div",{className:"aspect-video bg-code-gray-dark rounded-sm mb-4 overflow-hidden",children:i.jsx("img",{src:u.image_url||"/api/placeholder/400/300",alt:`${u.title} preview`,className:"w-full h-full object-cover group-hover:scale-105 transition-transform",onError:f=>{const p=f.target;p.src="/api/placeholder/400/300"}})}),i.jsxs("div",{className:"flex justify-between items-start mb-2",children:[i.jsx("span",{className:"text-xs text-electric-violet font-mono",children:((h=u.categories)==null?void 0:h.name)||"Product"}),i.jsxs("span",{className:"text-lg sm:text-xl font-mono font-bold text-electric-violet",children:["$",u.price]})]}),i.jsx("h3",{className:"text-base sm:text-lg font-mono font-bold mb-2",children:u.title}),i.jsx("div",{className:"flex flex-wrap gap-2 mb-4",children:u.tags.map((f,p)=>i.jsx("span",{className:"text-xs bg-gray-800 text-gray-300 px-2 py-1 rounded-sm",children:f},p))}),i.jsx(J,{to:`/product/${u.id}`,className:"btn-primary w-full text-center text-sm sm:text-base",children:"View Details"})]},u.id)})}),e.length>0&&i.jsx("div",{className:"text-center mt-8 sm:mt-12",children:i.jsxs(J,{to:"/products",className:"btn-secondary inline-flex items-center","aria-label":"View all products in our catalog",children:["View All Products",i.jsx(Ma,{className:"w-4 h-4 sm:w-5 sm:h-5 ml-2","aria-hidden":"true"})]})})]})}),i.jsx("section",{className:"py-20","aria-labelledby":"cta-heading",children:i.jsx("div",{className:"container mx-auto px-4",children:i.jsxs("div",{className:"max-w-4xl mx-auto text-center",children:[i.jsxs("h2",{id:"cta-heading",className:"text-3xl md:text-4xl font-mono font-bold mb-4",children:["Ready to ",i.jsx("span",{className:"text-electric-violet",children:"Ship"}),"?"]}),i.jsx("p",{className:"text-gray-400 text-lg mb-8",children:"Join thousands of developers who trust Studio Nullbyte for their projects."}),i.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[i.jsxs(J,{to:"/products",className:"btn-primary flex","aria-describedby":"get-started-description",children:[i.jsx(Ua,{className:"w-5 h-5 mr-2","aria-hidden":"true"}),"Get Started"]}),i.jsx("span",{id:"get-started-description",className:"sr-only",children:"Browse our product catalog to find the perfect template for your project"}),i.jsxs(J,{to:"/contact",className:"btn-secondary flex","aria-label":"Contact us for support or custom solutions",children:[i.jsx(TC,{className:"w-5 h-5 mr-2","aria-hidden":"true"}),"Contact Us"]})]})]})})})]})},rE=()=>{var b;const e=Ze(),[t,r]=x.useState("all"),[n,s]=x.useState(""),[o,a]=x.useState([]),[l,c]=x.useState([]),[u,d]=x.useState(!0);x.useEffect(()=>{(async()=>{try{const{data:g,error:y}=await K.from("products").select(`
            *,
            category:categories(name, slug)
          `).eq("active",!0).order("created_at",{ascending:!1});y?console.error("Error fetching products:",y):a(g||[]);const{data:m,error:j}=await K.from("categories").select("*").eq("is_active",!0).order("name");j?console.error("Error fetching categories:",j):c(m||[])}catch(g){console.error("Error fetching data:",g)}finally{d(!1)}})()},[]);const h=w=>{e(`/product/${w}`)},f=o.filter(w=>{const g=n===""||w.title.toLowerCase().includes(n.toLowerCase())||w.description.toLowerCase().includes(n.toLowerCase())||w.tags.some(m=>m.toLowerCase().includes(n.toLowerCase())),y=t==="all"||w.category_id===t;return g&&y}),p=[{id:"all",name:"All Products",count:o.length},...l.map(w=>({id:w.id,name:w.name,count:o.filter(g=>g.category_id===w.id).length}))],v=JSON.stringify({"@context":"https://schema.org","@type":"CollectionPage",name:"Products - Studio Nullbyte",description:"Browse our collection of web templates, Notion templates, AI prompts, and more.",url:"https://studio-nullbyte.github.io/products",publisher:{"@type":"Organization",name:"Studio Nullbyte"},mainEntity:{"@type":"ItemList",name:"Digital Products",numberOfItems:o.length}},null,2);return i.jsxs(i.Fragment,{children:[i.jsx(Ms,{title:"Products - Studio Nullbyte",description:"Browse our collection of web templates, Notion templates, AI prompts, UI components, and document templates for developers and creators.",keywords:"web templates, notion templates, AI prompts, UI components, react templates, developer tools, digital products, freelancer tools",url:"/products",type:"website",structuredData:v}),i.jsxs("div",{className:"min-h-screen pt-16 sm:pt-20",children:[i.jsx("a",{href:"#main-content",className:"skip-link",onFocus:w=>w.currentTarget.style.transform="translateY(0)",onBlur:w=>w.currentTarget.style.transform="translateY(-100%)",children:"Skip to main content"}),i.jsx("section",{className:"py-12 sm:py-16 lg:py-20 bg-code-gray",role:"banner",children:i.jsxs("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8",children:[i.jsxs("div",{className:"text-center mb-8 sm:mb-12",children:[i.jsxs("h1",{className:"text-3xl sm:text-4xl lg:text-5xl font-mono font-bold mb-4",children:["Browse ",i.jsx("span",{className:"text-electric-violet",children:"Products"})]}),i.jsx("p",{className:"text-gray-300 text-base sm:text-lg max-w-2xl mx-auto px-4",children:"Handcrafted templates and tools to accelerate your next project."})]}),i.jsxs("div",{className:"max-w-4xl mx-auto",children:[i.jsxs("div",{className:"flex flex-col gap-4 mb-6 sm:mb-8",children:[i.jsxs("div",{className:"relative",children:[i.jsx("label",{htmlFor:"product-search",className:"sr-only",children:"Search products by name, description, or tags"}),i.jsx(Pn,{className:"w-4 h-4 sm:w-5 sm:h-5 absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400","aria-hidden":"true"}),i.jsx("input",{id:"product-search",type:"text",placeholder:"Search products...",value:n,onChange:w=>s(w.target.value),className:"input-field pl-10","aria-describedby":"search-description"}),i.jsxs("div",{id:"search-description",className:"sr-only",children:["Search through ",o.length," products by name, description, or tags"]})]}),i.jsxs("div",{className:"flex items-center justify-center sm:justify-start space-x-2",children:[i.jsx(Cs,{className:"w-4 h-4 sm:w-5 sm:h-5 text-gray-400","aria-hidden":"true"}),i.jsx("span",{className:"text-xs sm:text-sm text-gray-300 font-mono",children:"Filter by category"})]})]}),i.jsxs("fieldset",{className:"mb-6 sm:mb-8",children:[i.jsx("legend",{className:"sr-only",children:"Filter products by category"}),i.jsx("div",{className:"flex flex-wrap gap-2 justify-center sm:justify-start",role:"group",children:p.map(w=>i.jsxs("button",{onClick:()=>r(w.id),className:`px-3 py-2 sm:px-4 rounded-sm font-mono text-xs sm:text-sm transition-colors ${t===w.id?"bg-electric-violet text-black":"bg-gray-800 text-gray-300 hover:bg-gray-700"}`,"aria-pressed":t===w.id,"aria-describedby":`category-${w.id}-count`,children:[w.name,i.jsxs("span",{id:`category-${w.id}-count`,className:"sr-only",children:[w.count," products"]}),i.jsxs("span",{"aria-hidden":"true",children:[" (",w.count,")"]})]},w.id))})]})]})]})}),i.jsx("main",{id:"main-content",className:"py-12 sm:py-16 lg:py-20",children:i.jsx("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8",children:u?i.jsxs("div",{className:"text-center py-12",role:"status","aria-live":"polite",children:[i.jsx("div",{className:"font-mono text-gray-300",children:"Loading products..."}),i.jsx("div",{className:"sr-only",children:"Please wait while we load the products"})]}):f.length===0?i.jsxs("div",{className:"text-center py-16",role:"status","aria-live":"polite",children:[i.jsxs("div",{className:"max-w-md mx-auto",children:[i.jsx("div",{className:"w-16 h-16 bg-electric-violet/20 rounded-lg flex items-center justify-center mx-auto mb-6",children:i.jsx(Pn,{className:"w-8 h-8 text-electric-violet"})}),i.jsx("h2",{className:"text-2xl font-mono font-bold text-white mb-4",children:"No products found"}),i.jsx("p",{className:"text-gray-400 font-mono text-sm mb-6",children:n&&t!=="all"?i.jsxs(i.Fragment,{children:[`We couldn't find any products matching "`,n,'" in the selected category.']}):n?i.jsxs(i.Fragment,{children:[`We couldn't find any products matching "`,n,'".']}):t!=="all"?i.jsx(i.Fragment,{children:"No products available in the selected category."}):o.length===0?i.jsx(i.Fragment,{children:"No products are currently available. Check back soon for new releases!"}):i.jsx(i.Fragment,{children:"No products found matching your criteria."})}),i.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 justify-center",children:[n&&i.jsx("button",{onClick:()=>s(""),className:"btn-secondary",children:"Clear search"}),t!=="all"&&i.jsx("button",{onClick:()=>r("all"),className:"btn-secondary",children:"View all products"})]})]}),i.jsx("div",{className:"sr-only",children:n?`No products found for search term "${n}"`:"No products in selected category"})]}):i.jsxs(i.Fragment,{children:[i.jsxs("div",{className:"sr-only","aria-live":"polite","aria-atomic":"true",children:["Showing ",f.length," of ",o.length," products",t!=="all"&&` in ${(b=p.find(w=>w.id===t))==null?void 0:b.name}`,n&&` matching "${n}"`]}),i.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6 sm:gap-8",role:"region","aria-label":"Product listings",children:f.map((w,g)=>{var y;return i.jsx("article",{className:"card group relative","aria-labelledby":`product-title-${w.id}`,children:i.jsxs(U.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:g*.1},children:[w.featured&&i.jsx("div",{className:"absolute top-3 right-3 sm:top-4 sm:right-4 bg-electric-violet text-black px-2 py-1 rounded-sm text-xs font-mono font-bold z-10","aria-label":"Featured product",children:"FEATURED"}),i.jsxs("div",{className:"aspect-video bg-code-gray-dark rounded-sm mb-4 overflow-hidden",children:[w.image_url?i.jsx("img",{src:`${w.image_url}?t=${w.updated_at||Date.now()}`,alt:`Preview image for ${w.title}`,className:"w-full h-full object-cover group-hover:scale-105 transition-transform",onError:m=>{var N;const j=m.target;j.style.display="none",(N=j.nextElementSibling)==null||N.classList.remove("hidden")}}):null,i.jsx("div",{className:`w-full h-full flex items-center justify-center text-gray-500 ${w.image_url?"hidden":""}`,children:i.jsx("span",{className:"font-mono text-sm",children:"No preview available"})})]}),i.jsxs("div",{className:"flex justify-between items-start mb-2",children:[i.jsx("span",{className:"text-xs text-electric-violet font-mono uppercase",children:((y=w.category)==null?void 0:y.name)||"Uncategorized"}),i.jsxs("span",{className:"text-lg sm:text-xl font-mono font-bold text-electric-violet","aria-label":`Price: $${w.price}`,children:["$",w.price]})]}),i.jsx("h3",{id:`product-title-${w.id}`,className:"text-base sm:text-lg font-mono font-bold mb-2 group-hover:text-electric-violet transition-colors",children:w.title}),i.jsx("p",{className:"text-gray-300 text-sm mb-4 line-clamp-2",children:w.description}),i.jsxs("div",{className:"flex flex-wrap gap-2 mb-4",role:"list","aria-label":"Product tags",children:[w.tags.slice(0,3).map((m,j)=>i.jsx("span",{className:"text-xs bg-gray-800 text-gray-300 px-2 py-1 rounded-sm",role:"listitem",children:m},j)),w.tags.length>3&&i.jsxs("span",{className:"text-xs text-gray-400","aria-label":`${w.tags.length-3} additional tags`,children:["+",w.tags.length-3," more"]})]}),i.jsxs("button",{className:"btn-primary w-full",onClick:()=>h(w.id),"aria-describedby":`product-description-${w.id}`,children:["View Details",i.jsxs("span",{className:"sr-only",children:[" for ",w.title]})]}),i.jsx("div",{id:`product-description-${w.id}`,className:"sr-only",children:w.description})]})},w.id)})})]})})})]})]})},nE=()=>{var b,w;const{id:e}=Fj(),t=Ze(),{addToCart:r,isInCart:n}=io(),{showToast:s}=ao(),[o,a]=x.useState(null),[l,c]=x.useState(!0),[u,d]=x.useState(null),[h,f]=x.useState(!1);x.useEffect(()=>{(async()=>{if(!e){d("Product ID not found"),c(!1);return}try{const{data:y,error:m}=await K.from("products").select(`
            *,
            category:categories(name, slug)
          `).eq("id",e).eq("active",!0).single();m?d("Product not found"):a(y)}catch{d("Failed to load product")}finally{c(!1)}})()},[e]);const p=async()=>{if(o){f(!0);try{r({id:o.id,title:o.title,price:o.price,image_url:o.image_url,stripe_price_id:o.stripe_price_id}),s({type:"success",title:"Added to Cart!",message:`${o.title} has been added to your cart.`})}catch{s({type:"error",title:"Error",message:"Failed to add item to cart. Please try again."})}finally{f(!1)}}},v=async()=>{if(o){f(!0);try{n(o.id)||r({id:o.id,title:o.title,price:o.price,image_url:o.image_url,stripe_price_id:o.stripe_price_id}),t("/checkout")}catch{s({type:"error",title:"Error",message:"Failed to proceed to checkout. Please try again."})}finally{f(!1)}}};return l?i.jsx("div",{className:"min-h-screen bg-black text-white pt-20",children:i.jsx("div",{className:"container mx-auto px-4 py-20",children:i.jsx("div",{className:"text-center",children:i.jsx("div",{className:"font-mono text-gray-400",children:"Loading product..."})})})}):u||!o?i.jsx("div",{className:"min-h-screen bg-black text-white pt-20",children:i.jsx("div",{className:"container mx-auto px-4 py-20",children:i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"font-mono text-red-400 mb-4",children:u||"Product not found"}),i.jsx("button",{onClick:()=>t("/products"),className:"btn-secondary",children:"Back to Products"})]})})}):i.jsxs(i.Fragment,{children:[i.jsxs(Oe,{children:[i.jsxs("title",{children:[o.title," - Studio Nullbyte"]}),i.jsx("meta",{name:"description",content:o.description})]}),i.jsxs("div",{className:"min-h-screen pt-20",children:[i.jsx("div",{className:"container mx-auto px-4 py-8",children:i.jsxs("button",{onClick:()=>t("/products"),className:"flex items-center text-gray-400 hover:text-white transition-colors font-mono text-sm",children:[i.jsx(Nh,{className:"w-4 h-4 mr-2"}),"Back to Products"]})}),i.jsx("section",{className:"py-12 bg-code-gray",children:i.jsx("div",{className:"container mx-auto px-4",children:i.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-12",children:[i.jsx("div",{className:"space-y-4",children:i.jsx("div",{className:"aspect-video bg-code-gray-dark rounded-sm overflow-hidden",children:o.image_url?i.jsx("img",{src:`${o.image_url}?t=${o.updated_at||Date.now()}`,alt:o.title,className:"w-full h-full object-cover",onError:g=>{const y=g.target;y.style.display="none"}}):i.jsx("div",{className:"w-full h-full flex items-center justify-center text-gray-500",children:i.jsx("span",{className:"font-mono text-sm",children:"No Image Available"})})})}),i.jsxs("div",{children:[i.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[i.jsx("span",{className:"text-sm text-electric-violet font-mono",children:((b=o.category)==null?void 0:b.name)||"Uncategorized"}),o.featured&&i.jsxs(i.Fragment,{children:[i.jsx("span",{className:"text-gray-400",children:"•"}),i.jsx("span",{className:"text-xs bg-electric-violet text-black px-2 py-1 rounded-sm font-mono font-bold",children:"FEATURED"})]})]}),i.jsx("h1",{className:"text-3xl md:text-4xl font-mono font-bold mb-4",children:o.title}),i.jsx("p",{className:"text-gray-400 text-lg mb-6",children:o.description}),i.jsx("div",{className:"flex items-center gap-4 mb-6",children:i.jsx("div",{className:"flex items-center gap-2",children:i.jsxs("span",{className:"text-3xl font-mono font-bold text-electric-violet",children:["$",o.price]})})}),i.jsxs("div",{className:"flex gap-4 mb-6",children:[i.jsx("button",{onClick:p,disabled:h||n(o.id),className:`flex-1 ${n(o.id)?"btn-secondary cursor-not-allowed":"btn-primary"}`,children:h?i.jsxs("span",{className:"flex items-center justify-center gap-2",children:[i.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}),"Adding..."]}):n(o.id)?i.jsxs("span",{className:"flex items-center justify-center gap-2",children:[i.jsx(Sh,{className:"w-4 h-4"}),"In Cart"]}):`Add to Cart - $${o.price}`}),i.jsx("button",{onClick:v,disabled:h,className:"btn-primary flex-1",children:h?i.jsxs("span",{className:"flex items-center justify-center gap-2",children:[i.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}),"Loading..."]}):"Buy Now"})]}),i.jsxs("div",{className:"flex gap-4 mb-8",children:[i.jsx("button",{className:"btn-secondary",children:i.jsx(RC,{className:"w-5 h-5"})}),i.jsx("button",{className:"btn-secondary",children:i.jsx(zC,{className:"w-5 h-5"})})]}),i.jsxs("div",{className:"flex gap-4 mb-8",children:[o.preview_url&&i.jsx("a",{href:o.preview_url,target:"_blank",rel:"noopener noreferrer",className:"btn-ghost",children:"Live Demo"}),o.download_url&&i.jsx("a",{href:o.download_url,target:"_blank",rel:"noopener noreferrer",className:"btn-ghost",children:"Download"})]}),i.jsx("div",{className:"flex flex-wrap gap-2",children:o.tags.map((g,y)=>i.jsx("span",{className:"text-xs bg-gray-800 text-gray-300 px-2 py-1 rounded-sm",children:g},y))})]})]})})}),i.jsx("section",{className:"py-20",children:i.jsx("div",{className:"container mx-auto px-4",children:i.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-12",children:[i.jsxs("div",{className:"lg:col-span-2",children:[i.jsx("h2",{className:"text-2xl font-mono font-bold mb-6",children:"About This Product"}),i.jsx("div",{className:"prose prose-invert max-w-none",children:i.jsx("p",{className:"text-gray-400 leading-relaxed text-lg",children:o.description})})]}),i.jsxs("div",{className:"space-y-8",children:[i.jsxs("div",{className:"card",children:[i.jsx("h3",{className:"text-lg font-mono font-bold mb-4",children:"Product Details"}),i.jsxs("div",{className:"space-y-3",children:[i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{className:"text-gray-400",children:"Category"}),i.jsx("span",{className:"font-mono",children:((w=o.category)==null?void 0:w.name)||"Uncategorized"})]}),i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{className:"text-gray-400",children:"Price"}),i.jsxs("span",{className:"font-mono text-electric-violet",children:["$",o.price]})]}),i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{className:"text-gray-400",children:"Status"}),i.jsx("span",{className:"font-mono text-green-400",children:o.featured?"Featured":"Available"})]})]})]}),i.jsxs("div",{className:"card",children:[i.jsx("h3",{className:"text-lg font-mono font-bold mb-4",children:"Tags"}),i.jsx("div",{className:"flex flex-wrap gap-2",children:o.tags.map((g,y)=>i.jsx("span",{className:"text-xs bg-electric-violet bg-opacity-20 text-electric-violet px-2 py-1 rounded-sm",children:g},y))})]}),i.jsxs("div",{className:"card",children:[i.jsx("h3",{className:"text-lg font-mono font-bold mb-4",children:"License"}),i.jsx("p",{className:"text-gray-400 text-sm",children:"Single-use license for personal and commercial projects. Full source code included with lifetime updates."})]})]})]})})})]})]})};var pv="basil",sE=function(t){return t===3?"v3":t},gv="https://js.stripe.com",iE="".concat(gv,"/").concat(pv,"/stripe.js"),oE=/^https:\/\/js\.stripe\.com\/v3\/?(\?.*)?$/,aE=/^https:\/\/js\.stripe\.com\/(v3|[a-z]+)\/stripe\.js(\?.*)?$/,Sp="loadStripe.setLoadParameters was called but an existing Stripe.js script already exists in the document; existing script parameters will be used",lE=function(t){return oE.test(t)||aE.test(t)},cE=function(){for(var t=document.querySelectorAll('script[src^="'.concat(gv,'"]')),r=0;r<t.length;r++){var n=t[r];if(lE(n.src))return n}return null},_p=function(t){var r=t&&!t.advancedFraudSignals?"?advancedFraudSignals=false":"",n=document.createElement("script");n.src="".concat(iE).concat(r);var s=document.head||document.body;if(!s)throw new Error("Expected document.body not to be null. Stripe.js requires a <body> element.");return s.appendChild(n),n},uE=function(t,r){!t||!t._registerWrapper||t._registerWrapper({name:"stripe-js",version:"7.4.0",startTime:r})},Zs=null,Lo=null,Do=null,dE=function(t){return function(r){t(new Error("Failed to load Stripe.js",{cause:r}))}},hE=function(t,r){return function(){window.Stripe?t(window.Stripe):r(new Error("Stripe.js not available"))}},fE=function(t){return Zs!==null?Zs:(Zs=new Promise(function(r,n){if(typeof window>"u"||typeof document>"u"){r(null);return}if(window.Stripe&&t&&console.warn(Sp),window.Stripe){r(window.Stripe);return}try{var s=cE();if(s&&t)console.warn(Sp);else if(!s)s=_p(t);else if(s&&Do!==null&&Lo!==null){var o;s.removeEventListener("load",Do),s.removeEventListener("error",Lo),(o=s.parentNode)===null||o===void 0||o.removeChild(s),s=_p(t)}Do=hE(r,n),Lo=dE(n),s.addEventListener("load",Do),s.addEventListener("error",Lo)}catch(a){n(a);return}}),Zs.catch(function(r){return Zs=null,Promise.reject(r)}))},mE=function(t,r,n){if(t===null)return null;var s=r[0],o=s.match(/^pk_test/),a=sE(t.version),l=pv;o&&a!==l&&console.warn("Stripe.js@".concat(a," was loaded on the page, but @stripe/stripe-js@").concat("7.4.0"," expected Stripe.js@").concat(l,". This may result in unexpected behavior. For more information, see https://docs.stripe.com/sdks/stripejs-versioning"));var c=t.apply(void 0,r);return uE(c,n),c},Xs,yv=!1,xv=function(){return Xs||(Xs=fE(null).catch(function(t){return Xs=null,Promise.reject(t)}),Xs)};Promise.resolve().then(function(){return xv()}).catch(function(e){yv||console.warn(e)});var pE=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];yv=!0;var s=Date.now();return xv().then(function(o){return mE(o,r,s)})};const Xo="pk_live_51RlCWuP59y3jEuN3gIe4hsjMbigZtdb9iIGCO7jk5a0O9lNFYRl5iJTlJTOZseBW8KPWTEmQh6ApI2y9gcno10A800CSEfdgPo",ea=pE(Xo),gE=({product:e,onSuccess:t,onError:r,disabled:n=!1})=>{const[s,o]=x.useState(!1),a=async()=>{if(!ea){r==null||r("Stripe is not available");return}if(n){r==null||r("Please complete all required fields before proceeding.");return}o(!0);try{const l=await ea;if(!l){r==null||r("Failed to load Stripe");return}if(e.cartItems&&e.cartItems.length>0){const c=e.cartItems.filter(d=>d.priceId);if(c.length===0){r==null||r("No valid Price IDs found for cart items. Please ensure all products have Stripe Price IDs configured.");return}if(c.length!==e.cartItems.length){r==null||r("Some products in your cart are missing Stripe Price IDs. Please remove them or contact support.");return}const{error:u}=await l.redirectToCheckout({lineItems:c.map(d=>({price:d.priceId,quantity:d.quantity})),mode:"payment",successUrl:`${window.location.origin}/success?session_id={CHECKOUT_SESSION_ID}`,cancelUrl:`${window.location.origin}/cancel`,clientReferenceId:e.id});u?(console.error("Stripe Checkout error:",u),r==null||r(u.message||"Failed to redirect to checkout")):t==null||t()}else if(e.stripePriceId){const{error:c}=await l.redirectToCheckout({lineItems:[{price:e.stripePriceId,quantity:1}],mode:"payment",successUrl:`${window.location.origin}/success?session_id={CHECKOUT_SESSION_ID}`,cancelUrl:`${window.location.origin}/cancel`,clientReferenceId:e.id});c?(console.error("Stripe Checkout error:",c),r==null||r(c.message||"Failed to redirect to checkout")):t==null||t()}else r==null||r("Products require Stripe Price IDs for GitHub Pages compatibility. Please configure Price IDs in the Stripe Dashboard.")}catch(l){console.error("Checkout error:",l),r==null||r(l instanceof Error?l.message:"Checkout failed")}finally{o(!1)}};return ea?i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[i.jsx(Ps,{className:"w-5 h-5 text-electric-violet"}),i.jsx("span",{className:"font-mono font-bold text-white",children:"Secure Checkout"})]}),i.jsxs("div",{className:"p-4 bg-code-gray border border-gray-600 rounded-sm",children:[i.jsxs("div",{className:"flex justify-between items-center font-mono",children:[i.jsx("span",{className:"text-gray-300",children:e.name}),i.jsxs("span",{className:"text-white font-bold",children:["$",e.price.toFixed(2)]})]}),e.description&&i.jsx("p",{className:"text-sm text-gray-400 mt-2 font-mono",children:e.description})]}),i.jsx("button",{onClick:a,disabled:n||s,className:"w-full bg-electric-violet hover:bg-electric-violet-light disabled:bg-gray-600 text-white font-mono py-3 px-4 rounded-sm transition-colors flex items-center justify-center gap-2",children:s?i.jsxs(i.Fragment,{children:[i.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}),"Redirecting to Checkout..."]}):i.jsxs(i.Fragment,{children:[i.jsx($e,{className:"w-4 h-4"}),"Buy Now - $",e.price.toFixed(2)]})}),i.jsxs("div",{className:"text-xs text-gray-400 text-center font-mono",children:[i.jsx($e,{className:"w-3 h-3 inline mr-1"}),"Secured by Stripe • Redirects to secure checkout"]}),i.jsxs("div",{className:"text-xs text-gray-400 font-mono bg-code-gray-light p-3 rounded-sm",children:[i.jsx("p",{children:"• You'll be redirected to Stripe's secure checkout page"}),i.jsx("p",{children:"• Payment is processed entirely on Stripe's servers"}),i.jsx("p",{children:"• You'll return here after successful payment"})]})]}):i.jsxs("div",{className:"p-4 bg-red-900/20 border border-red-500 rounded-sm",children:[i.jsx("p",{className:"text-red-400 font-mono text-sm mb-2",children:i.jsx("strong",{children:"Stripe configuration error:"})}),i.jsxs("div",{className:"text-red-300 font-mono text-xs space-y-1",children:[i.jsxs("p",{children:["• VITE_STRIPE_PUBLISHABLE_KEY: ","✅ Found"]}),i.jsxs("p",{children:["• Key starts with 'pk_': ",Xo!=null&&Xo.startsWith("pk_")?"✅ Valid format":"❌ Invalid format"]}),i.jsxs("p",{children:["• Environment: ","production"]})]}),i.jsxs("div",{className:"mt-3 text-xs text-gray-400",children:[i.jsx("p",{children:"1. Check your .env file contains VITE_STRIPE_PUBLISHABLE_KEY"}),i.jsx("p",{children:"2. Restart your development server"}),i.jsx("p",{children:"3. Ensure the key starts with 'pk_test_' or 'pk_live_'"})]})]})},yE=e=>ea?i.jsx(gE,{...e}):i.jsx("div",{className:"p-4 bg-red-900/20 border border-red-500 rounded-sm",children:i.jsx("p",{className:"text-red-400 font-mono text-sm",children:"Stripe is not available. Check your environment configuration."})});/*!
 * react-paypal-js v8.8.3 (2025-04-11T19:50:46.506Z)
 * Copyright 2020-present, PayPal, Inc. All rights reserved.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * https://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var et;(function(e){e.INITIAL="initial",e.PENDING="pending",e.REJECTED="rejected",e.RESOLVED="resolved"})(et||(et={}));var Kr;(function(e){e.LOADING_STATUS="setLoadingStatus",e.RESET_OPTIONS="resetOptions",e.SET_BRAINTREE_INSTANCE="braintreeInstance"})(Kr||(Kr={}));var kp;(function(e){e.NUMBER="number",e.CVV="cvv",e.EXPIRATION_DATE="expirationDate",e.EXPIRATION_MONTH="expirationMonth",e.EXPIRATION_YEAR="expirationYear",e.POSTAL_CODE="postalCode"})(kp||(kp={}));var je=function(){return je=Object.assign||function(t){for(var r,n=1,s=arguments.length;n<s;n++){r=arguments[n];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(t[o]=r[o])}return t},je.apply(this,arguments)};function vv(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(e);s<n.length;s++)t.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(e,n[s])&&(r[n[s]]=e[n[s]]);return r}function Pp(e,t,r){if(r||arguments.length===2)for(var n=0,s=t.length,o;n<s;n++)(o||!(n in t))&&(o||(o=Array.prototype.slice.call(t,0,n)),o[n]=t[n]);return e.concat(o||Array.prototype.slice.call(t))}var Hi="data-react-paypal-script-id",vn={DATA_CLIENT_TOKEN:"dataClientToken",DATA_JS_SDK_LIBRARY:"dataJsSdkLibrary",DATA_LIBRARY_VALUE:"react-paypal-js",DATA_NAMESPACE:"dataNamespace",DATA_SDK_INTEGRATION_SOURCE:"dataSdkIntegrationSource",DATA_USER_ID_TOKEN:"dataUserIdToken"},xE="Failed to load the PayPal JS SDK script.",wv="paypal",vE="usePayPalScriptReducer must be used within a PayPalScriptProvider";function wE(e){return e===void 0&&(e=wv),window[e]}function bE(e){for(var t="",r=0;r<e.length;r++){var n=e[r].charCodeAt(0)*r;e[r+1]&&(n+=e[r+1].charCodeAt(0)*(r-1)),t+=String.fromCharCode(97+Math.abs(n)%26)}return t}function jE(e){var t=e.reactComponentName,r=e.sdkComponentKey,n=e.sdkRequestedComponents,s=n===void 0?"":n,o=e.sdkDataNamespace,a=o===void 0?wv:o,l=r.charAt(0).toUpperCase().concat(r.substring(1)),c="Unable to render <".concat(t," /> because window.").concat(a,".").concat(l," is undefined."),u=typeof s=="string"?s:s.join(",");if(!u.includes(r)){var d=[u,r].filter(Boolean).join();c+=`
To fix the issue, add '`.concat(r,"' to the list of components passed to the parent PayPalScriptProvider:")+"\n`<PayPalScriptProvider options={{ components: '".concat(d,"'}}>`.")}return c}function bv(e){var t=e,r=Hi;t[r];var n=vv(t,[r+""]);return"react-paypal-js-".concat(bE(JSON.stringify(n)))}function NE(e){var t=self.document.querySelector("script[".concat(Hi,'="').concat(e,'"]'));t!=null&&t.parentNode&&t.parentNode.removeChild(t)}function SE(e,t){var r,n;switch(t.type){case Kr.LOADING_STATUS:return typeof t.value=="object"?je(je({},e),{loadingStatus:t.value.state,loadingStatusErrorMessage:t.value.message}):je(je({},e),{loadingStatus:t.value});case Kr.RESET_OPTIONS:return NE(e.options[Hi]),je(je({},e),{loadingStatus:et.PENDING,options:je(je((r={},r[vn.DATA_SDK_INTEGRATION_SOURCE]=vn.DATA_LIBRARY_VALUE,r),t.value),(n={},n[Hi]="".concat(bv(t.value)),n))});case Kr.SET_BRAINTREE_INSTANCE:return je(je({},e),{braintreePayPalCheckoutInstance:t.value});default:return e}}var jv=x.createContext(null);function _E(e){if(typeof(e==null?void 0:e.dispatch)=="function"&&e.dispatch.length!==0)return e;throw new Error(vE)}function Nv(){var e=_E(x.useContext(jv)),t=je(je({},e),{isInitial:e.loadingStatus===et.INITIAL,isPending:e.loadingStatus===et.PENDING,isResolved:e.loadingStatus===et.RESOLVED,isRejected:e.loadingStatus===et.REJECTED});return[t,e.dispatch]}x.createContext({});function kE(e){var t=x.useRef(new Proxy({},{get:function(r,n,s){return typeof r[n]=="function"?function(){for(var o=[],a=0;a<arguments.length;a++)o[a]=arguments[a];return r[n].apply(r,o)}:Reflect.get(r,n,s)}}));return t.current=Object.assign(t.current,e),t.current}var kh=function(e){var t,r=e.className,n=r===void 0?"":r,s=e.disabled,o=s===void 0?!1:s,a=e.children,l=e.forceReRender,c=l===void 0?[]:l,u=vv(e,["className","disabled","children","forceReRender"]),d=o?{opacity:.38}:{},h="".concat(n," ").concat(o?"paypal-buttons-disabled":"").trim(),f=x.useRef(null),p=x.useRef(null),v=kE(u),b=Nv()[0],w=b.isResolved,g=b.options,y=x.useState(null),m=y[0],j=y[1],N=x.useState(!0),E=N[0],P=N[1],T=x.useState(null),$=T[1];function V(){p.current!==null&&p.current.close().catch(function(){})}return!((t=p.current)===null||t===void 0)&&t.updateProps&&p.current.updateProps({message:u.message}),x.useEffect(function(){if(w===!1)return V;var D=wE(g.dataNamespace);if(D===void 0||D.Buttons===void 0)return $(function(){throw new Error(jE({reactComponentName:kh.displayName,sdkComponentKey:"buttons",sdkRequestedComponents:g.components,sdkDataNamespace:g[vn.DATA_NAMESPACE]}))}),V;var z=function(k,_){j(_),typeof u.onInit=="function"&&u.onInit(k,_)};try{p.current=D.Buttons(je(je({},v),{onInit:z}))}catch(k){return $(function(){throw new Error("Failed to render <PayPalButtons /> component. Failed to initialize:  ".concat(k))})}return p.current.isEligible()===!1?(P(!1),V):(f.current&&p.current.render(f.current).catch(function(k){f.current===null||f.current.children.length===0||$(function(){throw new Error("Failed to render <PayPalButtons /> component. ".concat(k))})}),V)},Pp(Pp([w],c,!0),[u.fundingSource],!1)),x.useEffect(function(){m!==null&&(o===!0?m.disable().catch(function(){}):m.enable().catch(function(){}))},[o,m]),Ve.createElement(Ve.Fragment,null,E?Ve.createElement("div",{ref:f,style:d,className:h}):a)};kh.displayName="PayPalButtons";function PE(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(e);s<n.length;s++)t.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(e,n[s])&&(r[n[s]]=e[n[s]]);return r}function CE(e,t){var r=document.querySelector('script[src="'.concat(e,'"]'));if(r===null)return null;var n=Sv(e,t),s=r.cloneNode();if(delete s.dataset.uidAuto,Object.keys(s.dataset).length!==Object.keys(n.dataset).length)return null;var o=!0;return Object.keys(s.dataset).forEach(function(a){s.dataset[a]!==n.dataset[a]&&(o=!1)}),o?r:null}function EE(e){var t=e.url,r=e.attributes,n=e.onSuccess,s=e.onError,o=Sv(t,r);o.onerror=s,o.onload=n,document.head.insertBefore(o,document.head.firstElementChild)}function TE(e){var t=e.sdkBaseUrl,r=e.environment,n=PE(e,["sdkBaseUrl","environment"]),s=t||RE(r),o=n,a=Object.keys(o).filter(function(u){return typeof o[u]<"u"&&o[u]!==null&&o[u]!==""}).reduce(function(u,d){var h=o[d].toString();return d=AE(d),d.substring(0,4)==="data"||d==="crossorigin"?u.attributes[d]=h:u.queryParams[d]=h,u},{queryParams:{},attributes:{}}),l=a.queryParams,c=a.attributes;return l["merchant-id"]&&l["merchant-id"].indexOf(",")!==-1&&(c["data-merchant-id"]=l["merchant-id"],l["merchant-id"]="*"),{url:"".concat(s,"?").concat(IE(l)),attributes:c}}function AE(e){var t=function(r,n){return(n?"-":"")+r.toLowerCase()};return e.replace(/[A-Z]+(?![a-z])|[A-Z]/g,t)}function IE(e){var t="";return Object.keys(e).forEach(function(r){t.length!==0&&(t+="&"),t+=r+"="+e[r]}),t}function RE(e){return e==="sandbox"?"https://www.sandbox.paypal.com/sdk/js":"https://www.paypal.com/sdk/js"}function Sv(e,t){t===void 0&&(t={});var r=document.createElement("script");return r.src=e,Object.keys(t).forEach(function(n){r.setAttribute(n,t[n]),n==="data-csp-nonce"&&r.setAttribute("nonce",t["data-csp-nonce"])}),r}function OE(e,t){if(t===void 0&&(t=Promise),_v(e,t),typeof document>"u")return t.resolve(null);var r=TE(e),n=r.url,s=r.attributes,o=s["data-namespace"]||"paypal",a=Cp(o);return s["data-js-sdk-library"]||(s["data-js-sdk-library"]="paypal-js"),CE(n,s)&&a?t.resolve(a):LE({url:n,attributes:s},t).then(function(){var l=Cp(o);if(l)return l;throw new Error("The window.".concat(o," global variable is not available."))})}function LE(e,t){t===void 0&&(t=Promise),_v(e,t);var r=e.url,n=e.attributes;if(typeof r!="string"||r.length===0)throw new Error("Invalid url.");if(typeof n<"u"&&typeof n!="object")throw new Error("Expected attributes to be an object.");return new t(function(s,o){if(typeof document>"u")return s();EE({url:r,attributes:n,onSuccess:function(){return s()},onError:function(){var a=new Error('The script "'.concat(r,'" failed to load. Check the HTTP status code and response body in DevTools to learn more.'));return o(a)}})})}function Cp(e){return window[e]}function _v(e,t){if(typeof e!="object"||e===null)throw new Error("Expected an options object.");var r=e.environment;if(r&&r!=="production"&&r!=="sandbox")throw new Error('The `environment` option must be either "production" or "sandbox".');if(typeof t<"u"&&typeof t!="function")throw new Error("Expected PromisePonyfill to be a function.")}var DE=function(e){var t,r=e.options,n=r===void 0?{clientId:"test"}:r,s=e.children,o=e.deferLoading,a=o===void 0?!1:o,l=x.useReducer(SE,{options:je(je({},n),(t={},t[vn.DATA_JS_SDK_LIBRARY]=vn.DATA_LIBRARY_VALUE,t[vn.DATA_SDK_INTEGRATION_SOURCE]=vn.DATA_LIBRARY_VALUE,t[Hi]="".concat(bv(n)),t)),loadingStatus:a?et.INITIAL:et.PENDING}),c=l[0],u=l[1];return x.useEffect(function(){if(a===!1&&c.loadingStatus===et.INITIAL)return u({type:Kr.LOADING_STATUS,value:et.PENDING});if(c.loadingStatus===et.PENDING){var d=!0;return OE(c.options).then(function(){d&&u({type:Kr.LOADING_STATUS,value:et.RESOLVED})}).catch(function(h){console.error("".concat(xE," ").concat(h)),d&&u({type:Kr.LOADING_STATUS,value:{state:et.REJECTED,message:String(h)}})}),function(){d=!1}}},[c.options,a,c.loadingStatus]),Ve.createElement(jv.Provider,{value:je(je({},c),{dispatch:u})},s)};function Ep(){}x.createContext({cardFieldsForm:null,fields:{},registerField:Ep,unregisterField:Ep});const ME="AcG5qPSjS9Mm6BnqfbNCdl5uUFD9NsQUreAbZZCpfS2EDP_MiNE1j_yIIRbDb-tZMi21_HT29bMBHJDP",UE={}.VITE_PAYPAL_RETURN_URL||`${window.location.origin}/success`,FE={}.VITE_PAYPAL_CANCEL_URL||`${window.location.origin}/cancel`,$E={clientId:ME,currency:"USD",intent:"capture",components:"buttons","enable-funding":"venmo,paylater","disable-funding":"card"},VE={layout:"vertical",color:"gold",shape:"rect",label:"paypal",height:40},BE=({amount:e,onSuccess:t,onError:r,disabled:n=!1,customerInfo:s})=>{const[o,a]=x.useState(!1),[l,c]=x.useState(null),u=()=>{const[{isPending:d,isRejected:h}]=Nv(),f=async()=>{try{a(!0),c(null);const w={intent:"CAPTURE",purchase_units:[{reference_id:`ORDER_${Date.now()}`,amount:{currency_code:"USD",value:e.toFixed(2)},description:"Studio Nullbyte Digital Products",custom_id:`customer_${(s==null?void 0:s.email)||"guest"}`,soft_descriptor:"STUDIO_NULLBYTE"}],application_context:{brand_name:"Studio Nullbyte",locale:"en_US",landing_page:"BILLING",shipping_preference:"NO_SHIPPING",user_action:"PAY_NOW",return_url:UE,cancel_url:FE}},g=`ORDER_${Math.random().toString(36).substr(2,12).toUpperCase()}`;return console.log("Created PayPal order:",g,w),g}catch(w){throw console.error("Error creating PayPal order:",w),c("Failed to create PayPal order. Please try again."),w}},p=async w=>{try{a(!0),console.log("PayPal payment approved:",w),await new Promise(g=>setTimeout(g,1e3)),t(w.orderID)}catch(g){console.error("Error capturing PayPal payment:",g),r("Payment capture failed. Please contact support.")}finally{a(!1)}},v=w=>{console.log("PayPal payment cancelled:",w),a(!1),r("Payment was cancelled. Please try again.")},b=w=>{console.error("PayPal payment error:",w),a(!1),c("PayPal payment failed. Please try again."),r("PayPal payment failed. Please try again.")};return d||o?i.jsxs("div",{className:"w-full bg-gray-700 rounded-sm p-4 flex items-center justify-center",children:[i.jsx("div",{className:"w-4 h-4 border-2 border-electric-violet border-t-transparent rounded-full animate-spin"}),i.jsx("span",{className:"ml-2 text-sm font-mono",children:"Loading PayPal..."})]}):h?i.jsx("div",{className:"w-full bg-red-900 bg-opacity-30 border border-red-500 rounded-sm p-4",children:i.jsxs("div",{className:"flex items-center gap-2 text-red-400",children:[i.jsx(Ye,{className:"w-4 h-4"}),i.jsx("span",{className:"text-sm font-mono",children:"PayPal failed to load. Please refresh the page."})]})}):i.jsx(kh,{style:VE,disabled:n,createOrder:f,onApprove:p,onCancel:v,onError:b})};return i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[i.jsx("div",{className:"w-6 h-6 bg-blue-600 rounded-sm flex items-center justify-center text-white font-bold text-sm",children:"P"}),i.jsx("span",{className:"font-mono font-bold",children:"PayPal"})]}),i.jsx("div",{className:"bg-yellow-500 bg-opacity-10 border border-yellow-500 border-opacity-30 rounded-sm p-4 mb-4",children:i.jsxs("div",{className:"flex items-start gap-3",children:[i.jsx("div",{className:"w-8 h-8 bg-yellow-500 rounded-sm flex items-center justify-center text-black font-bold",children:"PP"}),i.jsxs("div",{children:[i.jsx("div",{className:"font-mono font-bold text-yellow-400 mb-1",children:"Secure PayPal Payment"}),i.jsx("div",{className:"text-sm text-gray-300",children:"You can pay with your PayPal balance, bank account, or credit card. No PayPal account required."})]})]})}),i.jsxs("div",{className:"space-y-2",children:[i.jsxs("div",{className:"flex justify-between text-sm",children:[i.jsx("span",{className:"text-gray-400",children:"Amount:"}),i.jsxs("span",{className:"font-mono font-bold text-electric-violet",children:["$",e.toFixed(2)]})]}),i.jsxs("div",{className:"flex justify-between text-sm",children:[i.jsx("span",{className:"text-gray-400",children:"PayPal Fee:"}),i.jsx("span",{className:"font-mono",children:"$0.00"})]}),i.jsx("div",{className:"border-t border-gray-700 pt-2",children:i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{className:"font-mono font-bold",children:"Total:"}),i.jsxs("span",{className:"font-mono font-bold text-electric-violet",children:["$",e.toFixed(2)]})]})})]}),l&&i.jsx("div",{className:"bg-red-900 bg-opacity-30 border border-red-500 rounded-sm p-3",children:i.jsxs("div",{className:"flex items-center gap-2 text-red-400",children:[i.jsx(Ye,{className:"w-4 h-4"}),i.jsx("span",{className:"text-sm font-mono",children:l})]})}),i.jsx(DE,{options:$E,children:i.jsx(u,{})}),i.jsxs("div",{className:"text-xs text-gray-400 text-center",children:[i.jsx($e,{className:"w-3 h-3 inline mr-1"}),"Protected by PayPal's Buyer Protection Program"]})]})},zE="sq0idp-Y12sAu8fu2t-3uP9HwXk-A",qE="L6QRE56637GZ2",WE="production",wc={applicationId:zE,locationId:qE,environment:WE},HE={".input-container":{borderColor:"#374151",borderRadius:"4px",borderWidth:"1px",backgroundColor:"#1F2937",color:"#FFFFFF",fontSize:"14px",fontFamily:"JetBrains Mono, monospace",padding:"12px"},".input-container:focus":{borderColor:"#8B5CF6",outline:"none"},".input-container.is-error":{borderColor:"#EF4444"},".input-container.is-valid":{borderColor:"#10B981"},".message-text":{color:"#EF4444",fontSize:"12px",fontFamily:"JetBrains Mono, monospace"}},KE=({amount:e,onSuccess:t,onError:r,disabled:n=!1,customerInfo:s})=>{const[o,a]=x.useState(!1),[l,c]=x.useState(null),[u,d]=x.useState(!1),[h,f]=x.useState(null),[p,v]=x.useState(null),b=x.useRef(null);x.useEffect(()=>{const g=async()=>{try{if(window.Square){y();return}const m=document.createElement("script");m.src="https://web.squarecdn.com/v1/square.js",m.async=!0,m.onload=()=>{y()},m.onerror=()=>{c("Failed to load Square payment system. Please refresh the page.")},document.head.appendChild(m)}catch(m){console.error("Error loading Square SDK:",m),c("Failed to initialize Square payment system.")}},y=async()=>{try{const m=window.Square.payments(wc.applicationId,wc.locationId);v(m);const j=await m.card({style:HE});b.current&&(await j.attach(b.current),f(j),d(!0))}catch(m){console.error("Error initializing Square:",m),c("Failed to initialize Square payment form.")}};return g(),()=>{h&&h.destroy()}},[]);const w=async()=>{var g;if(!h||!p){r("Square payment system not initialized");return}a(!0),c(null);try{const y=await h.tokenize();if(y.status==="OK"){const m={sourceId:y.token,amount:Math.round(e*100),currency:"USD",locationId:wc.locationId,referenceId:`studio-nullbyte-${Date.now()}`,note:"Studio Nullbyte digital template purchase",buyerEmailAddress:s==null?void 0:s.email,billingAddress:s?{firstName:s.firstName,lastName:s.lastName,addressLine1:s.address,locality:s.city,administrativeDistrictLevel1:s.state,postalCode:s.zipCode,country:s.country}:void 0};console.log("Payment request:",m),await new Promise(N=>setTimeout(N,2e3));const j=`sq_${Math.random().toString(36).substr(2,15)}`;t(j)}else{const m=(g=y.errors)==null?void 0:g.map(j=>j.message).join(", ");r(m||"Card tokenization failed. Please check your card details.")}}catch(y){console.error("Square payment error:",y),r("Payment processing failed. Please try again.")}finally{a(!1)}};return i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[i.jsx("div",{className:"w-6 h-6 bg-gray-600 rounded-sm flex items-center justify-center text-white font-bold text-sm",children:"⬛"}),i.jsx("span",{className:"font-mono font-bold",children:"Square Payment"}),i.jsx("div",{className:"ml-auto text-xs text-gray-400",children:"Powered by Square"})]}),i.jsxs("div",{className:"bg-gray-800 bg-opacity-50 border border-gray-700 rounded-sm p-4 mb-4",children:[i.jsxs("div",{className:"text-sm text-gray-300 mb-2",children:[i.jsx(Ps,{className:"w-4 h-4 inline mr-2"}),"Secure payment processing by Square"]}),i.jsx("div",{className:"text-xs text-gray-400",children:"Your payment information is encrypted and processed securely through Square's PCI-compliant payment infrastructure."})]}),l&&i.jsx("div",{className:"bg-red-900 bg-opacity-20 border border-red-600 rounded-sm p-3 mb-4",children:i.jsxs("div",{className:"flex items-center gap-2 text-red-400",children:[i.jsx(Ye,{className:"w-4 h-4"}),i.jsx("span",{className:"text-sm",children:l})]})}),!u&&!l&&i.jsxs("div",{className:"text-center py-8",children:[i.jsx("div",{className:"w-6 h-6 border-2 border-electric-violet border-t-transparent rounded-full animate-spin mx-auto mb-2"}),i.jsx("div",{className:"text-sm text-gray-400",children:"Loading Square payment system..."})]}),u&&i.jsxs(i.Fragment,{children:[i.jsxs("div",{className:"space-y-4",children:[i.jsx("div",{ref:b,className:"bg-code-gray-dark border border-gray-700 rounded-sm p-4 min-h-[60px]"}),i.jsx("button",{onClick:w,disabled:n||o||!u,className:"btn-secondary w-full flex items-center justify-center gap-2",children:o?i.jsxs(i.Fragment,{children:[i.jsx("div",{className:"w-4 h-4 border-2 border-electric-violet border-t-transparent rounded-full animate-spin"}),"Processing Payment..."]}):i.jsxs(i.Fragment,{children:[i.jsx($e,{className:"w-4 h-4"}),"Pay $",e.toFixed(2)," with Square"]})})]}),i.jsxs("div",{className:"text-xs text-gray-400 text-center",children:[i.jsx($e,{className:"w-3 h-3 inline mr-1"}),"PCI DSS compliant payment processing"]})]})]})},bc=[{id:"stripe",name:"Credit/Debit Card",icon:"💳",description:"Visa, Mastercard, American Express • Recommended",color:"bg-blue-600"},{id:"paypal",name:"PayPal",icon:"🟦",description:"Pay with your PayPal account",color:"bg-yellow-500"},{id:"square",name:"Square",icon:"⬛",description:"Secure payment processing",color:"bg-gray-600"}],GE=()=>{var y,m,j;const e=Ze(),{items:t,getTotalPrice:r,clearCart:n}=io(),{showToast:s}=ao(),{profile:o,user:a}=gr(),[l,c]=x.useState("stripe"),[u,d]=x.useState({firstName:((y=o==null?void 0:o.full_name)==null?void 0:y.split(" ")[0])||"",lastName:((m=o==null?void 0:o.full_name)==null?void 0:m.split(" ")[1])||"",email:(o==null?void 0:o.email)||"",phone:"",address:"",city:"",state:"",zipCode:"",country:"US"});x.useEffect(()=>{t.length===0&&(e("/products"),s({type:"info",title:"Cart Empty",message:"Your cart is empty. Add some products before checkout."}))},[t,e,s]);const h=(N,E)=>{d(P=>({...P,[N]:E}))},f=()=>!(["firstName","lastName","email","address","city","state","zipCode"].filter(T=>!u[T]).length>0||!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(u.email)),p=async N=>{var E;try{if(!a)throw new Error("User not authenticated");const P={user_id:a.id,total_amount:g,status:"completed",payment_method:((E=bc.find(z=>z.id===l))==null?void 0:E.name)||"Credit Card",payment_id:N,notes:`Subtotal: $${r().toFixed(2)}, Tax: $${w.toFixed(2)} (Digital products - no shipping)`},{data:T,error:$}=await K.from("orders").insert([P]).select().single();if($)throw console.error("Error creating order:",$),$;const V=t.map(z=>({order_id:T.id,product_id:z.id,price:z.price,quantity:z.quantity})),{error:D}=await K.from("order_items").insert(V);if(D)throw console.error("Error creating order items:",D),D;return T.id}catch(P){throw console.error("Failed to create order:",P),P}},v=async N=>{var E;try{if(!f()){s({type:"error",title:"Form Incomplete",message:"Please fill in all required fields before completing your order."});return}const P=await p(N);n(),s({type:"success",title:"Order Successful!",message:`Your order has been placed successfully. Order ID: ${P.slice(-8)}`}),e("/order-confirmation",{replace:!0,state:{orderId:P,paymentId:N,amount:g,subtotal:r(),tax:w,items:t,paymentMethod:((E=bc.find(T=>T.id===l))==null?void 0:E.name)||"Credit Card"}})}catch(P){console.error("Order creation failed:",P),s({type:"error",title:"Order Failed",message:"Failed to create order. Please try again or contact support."})}},b=N=>{s({type:"error",title:"Payment Failed",message:N})},w=r()*.08,g=r()+w;return t.length===0?null:i.jsxs(i.Fragment,{children:[i.jsxs(Oe,{children:[i.jsx("title",{children:"Checkout - Studio Nullbyte"}),i.jsx("meta",{name:"description",content:"Complete your purchase securely"})]}),i.jsx("div",{className:"min-h-screen pt-20 bg-black text-white",children:i.jsxs("div",{className:"container mx-auto px-4 py-8",children:[i.jsxs("button",{onClick:()=>e("/products"),className:"flex items-center text-gray-400 hover:text-white transition-colors font-mono text-sm mb-8",children:[i.jsx(Nh,{className:"w-4 h-4 mr-2"}),"Back to Products"]}),i.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-12",children:[i.jsxs("div",{className:"order-2 lg:order-1",children:[i.jsx("h1",{className:"text-2xl font-mono font-bold mb-6",children:"Checkout"}),i.jsxs("div",{className:"card mb-8",children:[i.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[i.jsx(at,{className:"w-5 h-5 text-electric-violet"}),i.jsx("h2",{className:"text-lg font-mono font-bold",children:"Customer Information"})]}),i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-mono text-gray-400 mb-2",children:"First Name *"}),i.jsx("input",{type:"text",value:u.firstName,onChange:N=>h("firstName",N.target.value),className:"w-full px-3 py-2 bg-code-gray-dark border border-gray-700 rounded-sm focus:border-electric-violet focus:outline-none font-mono text-sm"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-mono text-gray-400 mb-2",children:"Last Name *"}),i.jsx("input",{type:"text",value:u.lastName,onChange:N=>h("lastName",N.target.value),className:"w-full px-3 py-2 bg-code-gray-dark border border-gray-700 rounded-sm focus:border-electric-violet focus:outline-none font-mono text-sm"})]})]}),i.jsxs("div",{className:"mt-4",children:[i.jsx("label",{className:"block text-sm font-mono text-gray-400 mb-2",children:"Email Address *"}),i.jsxs("div",{className:"relative",children:[i.jsx(Be,{className:"w-4 h-4 absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),i.jsx("input",{type:"email",value:u.email,onChange:N=>h("email",N.target.value),className:"w-full pl-10 pr-3 py-2 bg-code-gray-dark border border-gray-700 rounded-sm focus:border-electric-violet focus:outline-none font-mono text-sm"})]})]}),i.jsxs("div",{className:"mt-4",children:[i.jsx("label",{className:"block text-sm font-mono text-gray-400 mb-2",children:"Phone Number"}),i.jsxs("div",{className:"relative",children:[i.jsx(VC,{className:"w-4 h-4 absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),i.jsx("input",{type:"tel",value:u.phone,onChange:N=>h("phone",N.target.value),className:"w-full pl-10 pr-3 py-2 bg-code-gray-dark border border-gray-700 rounded-sm focus:border-electric-violet focus:outline-none font-mono text-sm"})]})]})]}),i.jsxs("div",{className:"card mb-8",children:[i.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[i.jsx(MC,{className:"w-5 h-5 text-electric-violet"}),i.jsx("h2",{className:"text-lg font-mono font-bold",children:"Billing Address"})]}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-mono text-gray-400 mb-2",children:"Street Address *"}),i.jsx("input",{type:"text",value:u.address,onChange:N=>h("address",N.target.value),className:"w-full px-3 py-2 bg-code-gray-dark border border-gray-700 rounded-sm focus:border-electric-violet focus:outline-none font-mono text-sm"})]}),i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-mono text-gray-400 mb-2",children:"City *"}),i.jsx("input",{type:"text",value:u.city,onChange:N=>h("city",N.target.value),className:"w-full px-3 py-2 bg-code-gray-dark border border-gray-700 rounded-sm focus:border-electric-violet focus:outline-none font-mono text-sm"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-mono text-gray-400 mb-2",children:"State *"}),i.jsx("input",{type:"text",value:u.state,onChange:N=>h("state",N.target.value),className:"w-full px-3 py-2 bg-code-gray-dark border border-gray-700 rounded-sm focus:border-electric-violet focus:outline-none font-mono text-sm"})]})]}),i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-mono text-gray-400 mb-2",children:"ZIP Code *"}),i.jsx("input",{type:"text",value:u.zipCode,onChange:N=>h("zipCode",N.target.value),className:"w-full px-3 py-2 bg-code-gray-dark border border-gray-700 rounded-sm focus:border-electric-violet focus:outline-none font-mono text-sm"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-mono text-gray-400 mb-2",children:"Country *"}),i.jsxs("select",{value:u.country,onChange:N=>h("country",N.target.value),className:"w-full px-3 py-2 bg-code-gray-dark border border-gray-700 rounded-sm focus:border-electric-violet focus:outline-none font-mono text-sm",children:[i.jsx("option",{value:"US",children:"United States"}),i.jsx("option",{value:"CA",children:"Canada"}),i.jsx("option",{value:"UK",children:"United Kingdom"}),i.jsx("option",{value:"AU",children:"Australia"})]})]})]})]})]}),i.jsxs("div",{className:"card mb-8",children:[i.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[i.jsx(Ps,{className:"w-5 h-5 text-electric-violet"}),i.jsx("h2",{className:"text-lg font-mono font-bold",children:"Payment Method"})]}),i.jsx("div",{className:"space-y-3 mb-6",children:bc.map(N=>i.jsxs(U.div,{whileHover:{scale:1.02},className:`p-4 border rounded-sm cursor-pointer transition-all relative ${l===N.id?"border-electric-violet bg-electric-violet bg-opacity-10":"border-gray-700 hover:border-gray-600"} ${N.id==="stripe"?"ring-1 ring-blue-500/30":""}`,onClick:()=>c(N.id),children:[N.id==="stripe"&&i.jsx("div",{className:"absolute -top-2 -right-2 bg-electric-violet text-white px-2 py-1 rounded-full text-xs font-mono",children:"Recommended"}),i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:`w-10 h-10 rounded-sm ${N.color} flex items-center justify-center text-lg`,children:N.icon}),i.jsxs("div",{className:"flex-1",children:[i.jsx("div",{className:"font-mono font-bold",children:N.name}),i.jsx("div",{className:"text-sm text-gray-400",children:N.description})]}),l===N.id&&i.jsx(Sh,{className:"w-5 h-5 text-electric-violet"})]})]},N.id))}),l==="stripe"&&i.jsx(yE,{product:{id:`order-${Date.now()}`,name:`Studio Nullbyte Order (${t.length} item${t.length>1?"s":""})`,price:g,description:t.map(N=>`${N.title} ($${N.price.toFixed(2)})`).join(", "),image:((j=t[0])==null?void 0:j.image_url)||void 0,stripePriceId:void 0,cartItems:t.map(N=>({priceId:N.stripe_price_id,quantity:N.quantity}))},onSuccess:()=>v("stripe_checkout_session"),onError:b,disabled:!f()}),l==="paypal"&&i.jsx(BE,{amount:g,onSuccess:v,onError:b,disabled:!f(),customerInfo:u}),l==="square"&&i.jsx(KE,{amount:g,onSuccess:v,onError:b,disabled:!f()})]})]}),i.jsx("div",{className:"order-1 lg:order-2",children:i.jsxs("div",{className:"card sticky top-24",children:[i.jsx("h2",{className:"text-lg font-mono font-bold mb-6",children:"Order Summary"}),i.jsx("div",{className:"space-y-4 mb-6",children:t.map(N=>i.jsxs("div",{className:"flex gap-3",children:[i.jsx("div",{className:"w-16 h-16 bg-code-gray-dark rounded-sm overflow-hidden flex-shrink-0",children:N.image_url?i.jsx("img",{src:N.image_url,alt:N.title,className:"w-full h-full object-cover"}):i.jsx("div",{className:"w-full h-full flex items-center justify-center text-gray-500 text-xs",children:"No Image"})}),i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsx("div",{className:"font-mono font-bold text-sm truncate",children:N.title}),i.jsxs("div",{className:"text-gray-400 text-sm",children:["Qty: ",N.quantity]}),i.jsxs("div",{className:"text-electric-violet font-mono text-sm",children:["$",(N.price*N.quantity).toFixed(2)]})]})]},N.id))}),i.jsxs("div",{className:"space-y-2 border-t border-gray-700 pt-4",children:[i.jsxs("div",{className:"flex justify-between text-sm",children:[i.jsx("span",{className:"text-gray-400",children:"Subtotal:"}),i.jsxs("span",{className:"font-mono",children:["$",r().toFixed(2)]})]}),i.jsxs("div",{className:"flex justify-between text-sm",children:[i.jsx("span",{className:"text-gray-400",children:"Tax:"}),i.jsxs("span",{className:"font-mono",children:["$",w.toFixed(2)]})]}),i.jsxs("div",{className:"flex justify-between text-lg font-bold border-t border-gray-700 pt-2",children:[i.jsx("span",{children:"Total:"}),i.jsxs("span",{className:"font-mono text-electric-violet",children:["$",g.toFixed(2)]})]}),i.jsx("div",{className:"text-xs text-gray-400 text-center mt-2",children:i.jsx("span",{className:"inline-block",children:"🔄 Digital products - instant delivery"})})]}),i.jsxs("div",{className:"text-xs text-gray-400 text-center mt-3",children:[i.jsx($e,{className:"w-3 h-3 inline mr-1"}),"Your payment information is secure and encrypted"]})]})})]})]})})]})},YE=()=>{const e=Ze(),r=Tt().state||{orderId:`ORD-${Math.random().toString(36).substr(2,8).toUpperCase()}`,paymentId:`PAY-${Math.random().toString(36).substr(2,12)}`,amount:0,subtotal:0,tax:0,items:[],paymentMethod:"Credit Card"},n=s=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(s);return i.jsxs(i.Fragment,{children:[i.jsxs(Oe,{children:[i.jsx("title",{children:"Order Confirmation - Studio Nullbyte"}),i.jsx("meta",{name:"description",content:"Your order has been confirmed"})]}),i.jsx("div",{className:"min-h-screen pt-20 bg-black text-white",children:i.jsx("div",{className:"container mx-auto px-4 py-12",children:i.jsxs(U.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6},className:"max-w-2xl mx-auto text-center",children:[i.jsx(U.div,{initial:{scale:0},animate:{scale:1},transition:{delay:.2,type:"spring",stiffness:200},className:"w-20 h-20 mx-auto mb-8",children:i.jsx(fe,{className:"w-full h-full text-green-400"})}),i.jsx(U.h1,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.4},className:"text-3xl md:text-4xl font-mono font-bold mb-4",children:"Order Confirmed!"}),i.jsx(U.p,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.6},className:"text-gray-400 text-lg mb-8",children:"Thank you for your purchase. Your order has been successfully processed."}),i.jsxs(U.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.8},className:"card text-left mb-8",children:[i.jsx("h2",{className:"text-xl font-mono font-bold mb-6 text-center",children:"Order Details"}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"flex items-center gap-3 p-3 bg-code-gray-dark rounded-sm",children:[i.jsx(Wr,{className:"w-5 h-5 text-electric-violet"}),i.jsxs("div",{children:[i.jsx("div",{className:"font-mono text-sm text-gray-400",children:"Order ID"}),i.jsx("div",{className:"font-mono font-bold",children:r.orderId})]})]}),i.jsxs("div",{className:"flex items-center gap-3 p-3 bg-code-gray-dark rounded-sm",children:[i.jsx(Ps,{className:"w-5 h-5 text-electric-violet"}),i.jsxs("div",{children:[i.jsx("div",{className:"font-mono text-sm text-gray-400",children:"Payment ID"}),i.jsx("div",{className:"font-mono font-bold",children:r.paymentId})]})]}),i.jsxs("div",{className:"flex items-center gap-3 p-3 bg-code-gray-dark rounded-sm",children:[i.jsx(Wi,{className:"w-5 h-5 text-electric-violet"}),i.jsxs("div",{children:[i.jsx("div",{className:"font-mono text-sm text-gray-400",children:"Order Date"}),i.jsx("div",{className:"font-mono font-bold",children:new Date().toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"})})]})]}),i.jsxs("div",{className:"flex items-center gap-3 p-3 bg-code-gray-dark rounded-sm",children:[i.jsx(Ps,{className:"w-5 h-5 text-electric-violet"}),i.jsxs("div",{children:[i.jsx("div",{className:"font-mono text-sm text-gray-400",children:"Payment Method"}),i.jsx("div",{className:"font-mono font-bold",children:r.paymentMethod})]})]})]}),r.subtotal&&i.jsxs("div",{className:"mt-6 pt-6 border-t border-gray-700",children:[i.jsx("h3",{className:"text-lg font-mono font-bold mb-4",children:"Order Summary"}),i.jsxs("div",{className:"space-y-2",children:[i.jsxs("div",{className:"flex justify-between font-mono",children:[i.jsx("span",{className:"text-gray-400",children:"Subtotal:"}),i.jsx("span",{children:n(r.subtotal)})]}),i.jsxs("div",{className:"flex justify-between font-mono",children:[i.jsx("span",{className:"text-gray-400",children:"Tax:"}),i.jsx("span",{children:n(r.tax||0)})]}),i.jsxs("div",{className:"flex justify-between font-mono text-lg font-bold border-t border-gray-700 pt-2 mt-2",children:[i.jsx("span",{className:"text-electric-violet",children:"Total:"}),i.jsx("span",{className:"text-electric-violet",children:n(r.amount)})]}),i.jsx("div",{className:"text-xs text-gray-400 text-center mt-3",children:i.jsx("span",{className:"inline-block",children:"🔄 Digital products - no shipping required"})})]})]}),r.items&&r.items.length>0&&i.jsxs("div",{className:"mt-6 pt-6 border-t border-gray-700",children:[i.jsx("h3",{className:"text-lg font-mono font-bold mb-4",children:"Items Ordered"}),i.jsx("div",{className:"space-y-3",children:r.items.map((s,o)=>i.jsxs("div",{className:"flex justify-between items-center p-3 bg-code-gray-dark rounded-sm",children:[i.jsxs("div",{children:[i.jsx("div",{className:"font-mono font-bold",children:s.title}),i.jsxs("div",{className:"font-mono text-sm text-gray-400",children:["Qty: ",s.quantity]})]}),i.jsx("div",{className:"font-mono text-electric-violet",children:n(s.price*s.quantity)})]},o))})]})]}),i.jsxs(U.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:1},className:"card mb-8",children:[i.jsx("h3",{className:"text-lg font-mono font-bold mb-4",children:"What's Next?"}),i.jsxs("div",{className:"space-y-3 text-sm text-gray-400",children:[i.jsxs("div",{className:"flex items-start gap-3",children:[i.jsx("div",{className:"w-6 h-6 rounded-full bg-electric-violet text-black font-mono font-bold text-xs flex items-center justify-center mt-0.5",children:"1"}),i.jsxs("div",{children:[i.jsx("div",{className:"font-mono font-bold text-white",children:"Order Processing"}),i.jsx("div",{children:"We'll begin processing your order immediately."})]})]}),i.jsxs("div",{className:"flex items-start gap-3",children:[i.jsx("div",{className:"w-6 h-6 rounded-full bg-gray-600 text-white font-mono font-bold text-xs flex items-center justify-center mt-0.5",children:"2"}),i.jsxs("div",{children:[i.jsx("div",{className:"font-mono font-bold text-white",children:"Email Confirmation"}),i.jsx("div",{children:"You'll receive an email with your download links and receipt."})]})]}),i.jsxs("div",{className:"flex items-start gap-3",children:[i.jsx("div",{className:"w-6 h-6 rounded-full bg-gray-600 text-white font-mono font-bold text-xs flex items-center justify-center mt-0.5",children:"3"}),i.jsxs("div",{children:[i.jsx("div",{className:"font-mono font-bold text-white",children:"Instant Access"}),i.jsx("div",{children:"Download your digital products immediately from the email."})]})]})]})]}),i.jsxs(U.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:1.2},className:"flex flex-col sm:flex-row gap-4 justify-center",children:[i.jsxs("button",{onClick:()=>e("/products"),className:"btn-primary flex items-center justify-center gap-2",children:["Continue Shopping",i.jsx(Ma,{className:"w-4 h-4"})]}),i.jsx("button",{onClick:()=>e("/"),className:"btn-ghost",children:"Back to Home"})]}),i.jsx(U.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:1.4},className:"mt-8 p-4 border border-gray-700 rounded-sm",children:i.jsxs("div",{className:"text-sm text-gray-400",children:[i.jsx("div",{className:"font-mono font-bold text-white mb-2",children:"Need Help?"}),i.jsxs("div",{children:["If you have any questions about your order or need assistance with downloads, please don't hesitate to"," ",i.jsx("button",{onClick:()=>e("/contact"),className:"text-electric-violet hover:text-electric-violet-light transition-colors underline",children:"contact our support team"}),"."]})]})})]})})})]})};class lo{constructor(t=0,r="Network Error"){this.status=t,this.text=r}}const JE=()=>{if(!(typeof localStorage>"u"))return{get:e=>Promise.resolve(localStorage.getItem(e)),set:(e,t)=>Promise.resolve(localStorage.setItem(e,t)),remove:e=>Promise.resolve(localStorage.removeItem(e))}},Ae={origin:"https://api.emailjs.com",blockHeadless:!1,storageProvider:JE()},Ph=e=>e?typeof e=="string"?{publicKey:e}:e.toString()==="[object Object]"?e:{}:{},QE=(e,t="https://api.emailjs.com")=>{if(!e)return;const r=Ph(e);Ae.publicKey=r.publicKey,Ae.blockHeadless=r.blockHeadless,Ae.storageProvider=r.storageProvider,Ae.blockList=r.blockList,Ae.limitRate=r.limitRate,Ae.origin=r.origin||t},kv=async(e,t,r={})=>{const n=await fetch(Ae.origin+e,{method:"POST",headers:r,body:t}),s=await n.text(),o=new lo(n.status,s);if(n.ok)return o;throw o},Pv=(e,t,r)=>{if(!e||typeof e!="string")throw"The public key is required. Visit https://dashboard.emailjs.com/admin/account";if(!t||typeof t!="string")throw"The service ID is required. Visit https://dashboard.emailjs.com/admin";if(!r||typeof r!="string")throw"The template ID is required. Visit https://dashboard.emailjs.com/admin/templates"},ZE=e=>{if(e&&e.toString()!=="[object Object]")throw"The template params have to be the object. Visit https://www.emailjs.com/docs/sdk/send/"},Cv=e=>e.webdriver||!e.languages||e.languages.length===0,Ev=()=>new lo(451,"Unavailable For Headless Browser"),XE=(e,t)=>{if(!Array.isArray(e))throw"The BlockList list has to be an array";if(typeof t!="string")throw"The BlockList watchVariable has to be a string"},eT=e=>{var t;return!((t=e.list)!=null&&t.length)||!e.watchVariable},tT=(e,t)=>e instanceof FormData?e.get(t):e[t],Tv=(e,t)=>{if(eT(e))return!1;XE(e.list,e.watchVariable);const r=tT(t,e.watchVariable);return typeof r!="string"?!1:e.list.includes(r)},Av=()=>new lo(403,"Forbidden"),rT=(e,t)=>{if(typeof e!="number"||e<0)throw"The LimitRate throttle has to be a positive number";if(t&&typeof t!="string")throw"The LimitRate ID has to be a non-empty string"},nT=async(e,t,r)=>{const n=Number(await r.get(e)||0);return t-Date.now()+n},Iv=async(e,t,r)=>{if(!t.throttle||!r)return!1;rT(t.throttle,t.id);const n=t.id||e;return await nT(n,t.throttle,r)>0?!0:(await r.set(n,Date.now().toString()),!1)},Rv=()=>new lo(429,"Too Many Requests"),sT=async(e,t,r,n)=>{const s=Ph(n),o=s.publicKey||Ae.publicKey,a=s.blockHeadless||Ae.blockHeadless,l=s.storageProvider||Ae.storageProvider,c={...Ae.blockList,...s.blockList},u={...Ae.limitRate,...s.limitRate};return a&&Cv(navigator)?Promise.reject(Ev()):(Pv(o,e,t),ZE(r),r&&Tv(c,r)?Promise.reject(Av()):await Iv(location.pathname,u,l)?Promise.reject(Rv()):kv("/api/v1.0/email/send",JSON.stringify({lib_version:"4.4.1",user_id:o,service_id:e,template_id:t,template_params:r}),{"Content-type":"application/json"}))},iT=e=>{if(!e||e.nodeName!=="FORM")throw"The 3rd parameter is expected to be the HTML form element or the style selector of the form"},oT=e=>typeof e=="string"?document.querySelector(e):e,aT=async(e,t,r,n)=>{const s=Ph(n),o=s.publicKey||Ae.publicKey,a=s.blockHeadless||Ae.blockHeadless,l=Ae.storageProvider||s.storageProvider,c={...Ae.blockList,...s.blockList},u={...Ae.limitRate,...s.limitRate};if(a&&Cv(navigator))return Promise.reject(Ev());const d=oT(r);Pv(o,e,t),iT(d);const h=new FormData(d);return Tv(c,h)?Promise.reject(Av()):await Iv(location.pathname,u,l)?Promise.reject(Rv()):(h.append("lib_version","4.4.1"),h.append("service_id",e),h.append("template_id",t),h.append("user_id",o),kv("/api/v1.0/email/send-form",h))},jc={init:QE,send:sT,sendForm:aT,EmailJSResponseStatus:lo},Tp="service_uiopigv",Ap="template_t37v8ek",Ip="8v-_cpdn0TjBj35YF";class lT{constructor(){zt(this,"initialized",!1);this.init()}init(){if(!(this.initialized||!Ip))try{jc.init(Ip),this.initialized=!0}catch(t){console.error("EmailJS initialization failed:",t)}}async sendOrderConfirmation(t){if(!this.initialized)return console.error("EmailJS not initialized"),!1;try{const r={customer_name:t.customerName,customer_email:t.customerEmail,product_name:t.productName,product_price:`$${t.productPrice.toFixed(2)}`,download_link:t.downloadLink,order_number:t.orderNumber,purchase_date:t.purchaseDate,company_name:"Studio Nullbyte",support_email:"studionullbyte@gmail.com",website_url:"https://studio-nullbyte.github.io/studio-nullbyte.github.io/"},n=await jc.send(Tp,Ap,r);return Ke.info("Order confirmation email sent:",n),n.status===200}catch(r){return Ke.error("Failed to send order confirmation email:",r),!1}}async sendContactForm(t){if(!this.initialized)return console.error("EmailJS not initialized"),!1;try{const r={from_name:t.name,from_email:t.email,subject:t.subject,message:t.message,to_email:"studionullbyte@gmail.com",reply_to:t.email},n=await jc.send(Tp,Ap,r);return Ke.info("Contact form email sent:",n),n.status===200}catch(r){return Ke.error("Failed to send contact form email:",r),!1}}async testConfiguration(){const t={customerName:"Test Customer",customerEmail:"test@example.com",productName:"Test Product",productPrice:29.99,downloadLink:"https://example.com/download/test",orderNumber:"TEST-001",purchaseDate:new Date().toLocaleDateString()};return this.sendOrderConfirmation(t)}}const Rp=new lT,cT=()=>{const[e,t]=x.useState(!1),{user:r}=gr(),{items:n,clearCart:s}=io(),{showToast:o}=ao(),a=async d=>{t(!0);try{const h=await l(d);return await c(h,d),s(),o({type:"success",title:"Order Complete!",message:"Download links have been sent to your email."}),h}catch(h){throw console.error("Order processing failed:",h),o({type:"error",title:"Order Processing Failed",message:"Please contact support if payment was charged."}),h}finally{t(!1)}},l=async d=>{var g;const h=`SN-${Date.now()}`,f=n.reduce((y,m)=>y+m.price*m.quantity,0),{data:p,error:v}=await K.from("orders").insert([{user_id:r==null?void 0:r.id,order_number:h,total_amount:f,status:"completed",payment_method:"stripe",payment_id:d.stripeSessionId,customer_email:d.customerEmail||(r==null?void 0:r.email),customer_name:d.customerName||((g=r==null?void 0:r.user_metadata)==null?void 0:g.full_name)||"Customer",notes:`Stripe Session: ${d.stripeSessionId}`}]).select().single();if(v)throw new Error(`Failed to create order: ${v.message}`);const b=n.map(y=>({order_id:p.id,product_id:y.id,product_name:y.title,price:y.price,quantity:y.quantity})),{error:w}=await K.from("order_items").insert(b);if(w)throw new Error(`Failed to create order items: ${w.message}`);return{...p,items:b}},c=async(d,h)=>{var b;const f=n.map(w=>w.id),{data:p,error:v}=await K.from("products").select("id, title, price, download_link, file_url").in("id",f);if(v){console.error("Failed to fetch product details:",v);return}for(const w of n){const g=p==null?void 0:p.find(m=>m.id===w.id);if(!g)continue;const y=g.download_link||g.file_url||`https://studio-nullbyte.github.io/studio-nullbyte.github.io/download/${g.id}`;try{await Rp.sendOrderConfirmation({customerName:h.customerName||((b=r==null?void 0:r.user_metadata)==null?void 0:b.full_name)||"Customer",customerEmail:h.customerEmail||(r==null?void 0:r.email)||"",productName:g.title,productPrice:g.price,downloadLink:y,orderNumber:d.order_number,purchaseDate:new Date().toLocaleDateString()})}catch(m){console.error(`Failed to send email for product ${g.title}:`,m)}}};return{processOrder:a,resendOrderEmail:async d=>{t(!0);try{const{data:h,error:f}=await K.from("orders").select(`
          *,
          order_items (
            product_id,
            product_name,
            price,
            quantity,
            products (
              title,
              download_link,
              file_url
            )
          )
        `).eq("id",d).single();if(f||!h)throw new Error("Order not found");for(const p of h.order_items){const v=p.products.download_link||p.products.file_url||`https://studio-nullbyte.github.io/studio-nullbyte.github.io/download/${p.product_id}`;await Rp.sendOrderConfirmation({customerName:h.customer_name,customerEmail:h.customer_email,productName:p.product_name,productPrice:p.price,downloadLink:v,orderNumber:h.order_number,purchaseDate:new Date(h.created_at).toLocaleDateString()})}o({type:"success",title:"Email Resent",message:"Download links have been sent to your email again."})}catch(h){console.error("Failed to resend email:",h),o({type:"error",title:"Resend Failed",message:"Could not resend email. Please contact support."})}finally{t(!1)}},isProcessing:e}},uT=()=>{const[e]=Gd(),t=e.get("session_id"),[r,n]=x.useState(!0),[s,o]=x.useState(!1),[a,l]=x.useState(!1),{processOrder:c,isProcessing:u}=cT(),{showToast:d}=ao();x.useEffect(()=>{const f=async()=>{if(!(!t||s))try{await c({stripeSessionId:t}),o(!0),l(!0)}catch(v){console.error("Order processing failed:",v),o(!0),l(!1)}finally{n(!1)}},p=setTimeout(()=>{t?f():n(!1)},2e3);return()=>clearTimeout(p)},[t,s,c]);const h=async()=>{if(t)try{d({type:"info",title:"Resend Email",message:"Please contact support to resend your download links."})}catch(f){console.error("Failed to resend email:",f)}};return r?i.jsxs(i.Fragment,{children:[i.jsx(Oe,{children:i.jsx("title",{children:"Processing Payment | Studio Nullbyte"})}),i.jsx("div",{className:"min-h-screen bg-black text-white pt-20",children:i.jsx("div",{className:"container mx-auto px-4 py-20",children:i.jsxs("div",{className:"max-w-2xl mx-auto text-center",children:[i.jsx("div",{className:"animate-spin w-12 h-12 border-4 border-electric-violet border-t-transparent rounded-full mx-auto mb-8"}),i.jsxs("h1",{className:"text-4xl font-mono font-bold mb-4",children:["Processing Payment",i.jsx("span",{className:"cursor-blink",children:"_"})]}),i.jsx("p",{className:"text-gray-400 font-mono",children:"Confirming your transaction..."})]})})})]}):i.jsxs(i.Fragment,{children:[i.jsxs(Oe,{children:[i.jsx("title",{children:"Payment Successful | Studio Nullbyte"}),i.jsx("meta",{name:"description",content:"Your payment was successful. Download your digital products now."})]}),i.jsx("div",{className:"min-h-screen bg-black text-white pt-20",children:i.jsx("div",{className:"container mx-auto px-4 py-20",children:i.jsxs("div",{className:"max-w-2xl mx-auto text-center",children:[i.jsxs("div",{className:"mb-8",children:[i.jsx(fe,{className:"w-20 h-20 text-terminal-green mx-auto mb-4"}),i.jsx("div",{className:"w-24 h-1 bg-terminal-green mx-auto animate-pulse"})]}),i.jsxs("h1",{className:"text-4xl md:text-5xl font-mono font-bold mb-6",children:["Payment Successful",i.jsx("span",{className:"cursor-blink",children:"_"})]}),i.jsx("p",{className:"text-xl text-gray-300 font-mono mb-8",children:"Your digital product is ready for download."}),t&&i.jsxs("div",{className:"bg-code-gray border border-gray-600 rounded-sm p-4 mb-8",children:[i.jsx("p",{className:"text-sm text-gray-400 font-mono mb-2",children:"Transaction ID:"}),i.jsx("p",{className:"font-mono text-electric-violet break-all",children:t})]}),i.jsx("div",{className:"bg-code-gray border border-gray-600 rounded-sm p-4 mb-8",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx(Be,{className:"w-5 h-5 text-electric-violet"}),i.jsxs("div",{className:"text-left",children:[i.jsx("p",{className:"text-sm font-mono text-white",children:"Download Links"}),i.jsx("p",{className:"text-xs text-gray-400 font-mono",children:a?"Sent to your email address":"Processing..."})]})]}),a?i.jsx(fe,{className:"w-5 h-5 text-terminal-green"}):u?i.jsx("div",{className:"w-4 h-4 border-2 border-electric-violet border-t-transparent rounded-full animate-spin"}):i.jsxs("button",{onClick:h,className:"flex items-center gap-2 text-electric-violet hover:text-electric-violet-light font-mono text-sm transition-colors",children:[i.jsx(dv,{className:"w-4 h-4"}),"Resend"]})]})}),i.jsxs("div",{className:"bg-code-gray-light border border-gray-600 rounded-sm p-6 mb-8 text-left",children:[i.jsx("h2",{className:"text-xl font-mono font-bold mb-4 text-electric-violet",children:"What's Next?"}),i.jsxs("div",{className:"space-y-3 font-mono text-sm",children:[i.jsxs("div",{className:"flex items-start gap-3",children:[i.jsx(fe,{className:"w-5 h-5 text-terminal-green mt-0.5 flex-shrink-0"}),i.jsx("span",{className:"text-gray-300",children:"Check your email for download links and receipt"})]}),i.jsxs("div",{className:"flex items-start gap-3",children:[i.jsx(fe,{className:"w-5 h-5 text-terminal-green mt-0.5 flex-shrink-0"}),i.jsx("span",{className:"text-gray-300",children:"Access your purchases in your account dashboard"})]}),i.jsxs("div",{className:"flex items-start gap-3",children:[i.jsx(fe,{className:"w-5 h-5 text-terminal-green mt-0.5 flex-shrink-0"}),i.jsx("span",{className:"text-gray-300",children:"Download files are available immediately"})]})]})]}),i.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[i.jsxs(J,{to:"/products",className:"btn-secondary font-mono flex items-center justify-center gap-2",children:[i.jsx(Ma,{className:"w-4 h-4"}),"Browse More Templates"]}),i.jsxs(J,{to:"/",className:"btn-ghost font-mono flex items-center justify-center gap-2",children:[i.jsx(cv,{className:"w-4 h-4"}),"Back to Home"]})]}),i.jsx("div",{className:"mt-12 text-sm text-gray-400 font-mono",children:i.jsxs("p",{children:["Need help? Contact us at"," ",i.jsx("a",{href:"mailto:studionullbyte@gmail.com",className:"text-electric-violet hover:text-electric-violet-light",children:"studionullbyte@gmail.com"})]})})]})})})]})},dT=()=>i.jsxs(i.Fragment,{children:[i.jsxs(Oe,{children:[i.jsx("title",{children:"Payment Cancelled | Studio Nullbyte"}),i.jsx("meta",{name:"description",content:"Your payment was cancelled. No charges were made to your account."})]}),i.jsx("div",{className:"min-h-screen bg-black text-white pt-20",children:i.jsx("div",{className:"container mx-auto px-4 py-20",children:i.jsxs("div",{className:"max-w-2xl mx-auto text-center",children:[i.jsxs("div",{className:"mb-8",children:[i.jsx(GC,{className:"w-20 h-20 text-red-400 mx-auto mb-4"}),i.jsx("div",{className:"w-24 h-1 bg-red-400 mx-auto opacity-50"})]}),i.jsxs("h1",{className:"text-4xl md:text-5xl font-mono font-bold mb-6",children:["Payment Cancelled",i.jsx("span",{className:"cursor-blink",children:"_"})]}),i.jsx("p",{className:"text-xl text-gray-300 font-mono mb-8",children:"No charges were made to your account."}),i.jsxs("div",{className:"bg-code-gray-light border border-gray-600 rounded-sm p-6 mb-8 text-left",children:[i.jsx("h2",{className:"text-xl font-mono font-bold mb-4 text-red-400",children:"What Happened?"}),i.jsxs("div",{className:"space-y-3 font-mono text-sm text-gray-300",children:[i.jsx("p",{children:"• You cancelled the payment process"}),i.jsx("p",{children:"• No payment was processed"}),i.jsx("p",{children:"• Your product is still available for purchase"}),i.jsx("p",{children:"• You can try again anytime"})]})]}),i.jsxs("div",{className:"bg-code-gray border border-gray-600 rounded-sm p-6 mb-8 text-left",children:[i.jsx("h3",{className:"text-lg font-mono font-bold mb-4 text-electric-violet",children:"Need Help?"}),i.jsxs("div",{className:"space-y-2 font-mono text-sm text-gray-400",children:[i.jsx("p",{children:"• Payment issues? Try a different card or payment method"}),i.jsx("p",{children:"• Questions about products? Check our FAQ or contact support"}),i.jsx("p",{children:"• Technical problems? Clear your browser cache and try again"})]})]}),i.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[i.jsxs("button",{onClick:()=>window.history.back(),className:"btn-primary font-mono flex items-center justify-center gap-2",children:[i.jsx(dv,{className:"w-4 h-4"}),"Try Again"]}),i.jsxs(J,{to:"/products",className:"btn-secondary font-mono flex items-center justify-center gap-2",children:[i.jsx(Nh,{className:"w-4 h-4"}),"Browse Products"]}),i.jsxs(J,{to:"/",className:"btn-ghost font-mono flex items-center justify-center gap-2",children:[i.jsx(cv,{className:"w-4 h-4"}),"Back to Home"]})]}),i.jsx("div",{className:"mt-12 text-sm text-gray-400 font-mono",children:i.jsxs("p",{children:["Still having trouble? Contact us at"," ",i.jsx("a",{href:"mailto:studionullbyte@gmail.com",className:"text-electric-violet hover:text-electric-violet-light",children:"studionullbyte@gmail.com"})]})})]})})})]}),hT=()=>{const e=[{icon:i.jsx(ov,{className:"w-8 h-8","aria-hidden":"true"}),title:"Developer-First",description:"Built by developers, for developers. We understand the tools you need."},{icon:i.jsx(KC,{className:"w-8 h-8","aria-hidden":"true"}),title:"Quality Focus",description:"Every template is carefully crafted with attention to detail and best practices."},{icon:i.jsx(hv,{className:"w-8 h-8","aria-hidden":"true"}),title:"Performance",description:"Fast, efficient, and optimized for modern web standards."},{icon:i.jsx(Hr,{className:"w-8 h-8","aria-hidden":"true"}),title:"Community",description:"Building tools that bring the developer community together."}],t=[{value:"2023",label:"Founded"},{value:"500+",label:"Templates"},{value:"10k+",label:"Happy Users"},{value:"99%",label:"Satisfaction"}],r=[{name:"Alex Chen",role:"Founder & Lead Developer",bio:"Full-stack developer with 8 years of experience in React, Node.js, and design systems.",image:"/api/placeholder/200/200"},{name:"Sarah Kim",role:"UI/UX Designer",bio:"Design systems specialist focused on creating intuitive and accessible user experiences.",image:"/api/placeholder/200/200"},{name:"Marcus Rodriguez",role:"Frontend Engineer",bio:"React and TypeScript expert with a passion for clean code and performance optimization.",image:"/api/placeholder/200/200"}],n=JSON.stringify({"@context":"https://schema.org","@type":"AboutPage",name:"About Studio Nullbyte",description:"Learn about Studio Nullbyte's mission to create modular tools for design-minded developers.",url:"https://studio-nullbyte.github.io/about",publisher:{"@type":"Organization",name:"Studio Nullbyte"}},null,2);return i.jsxs(i.Fragment,{children:[i.jsx(Ms,{title:"About - Studio Nullbyte",description:"Learn about Studio Nullbyte's mission to create modular tools for design-minded developers. Founded in 2023, we build quality templates and tools.",keywords:"about studio nullbyte, company, mission, team, developer tools, template creators",url:"/about",type:"website",structuredData:n}),i.jsx("a",{href:"#main-content",className:"skip-link",children:"Skip to main content"}),i.jsxs("div",{className:"min-h-screen pt-16 sm:pt-20",children:[i.jsx("section",{id:"main-content",className:"py-12 sm:py-16 lg:py-20 bg-code-gray","aria-labelledby":"about-heading",children:i.jsx("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8",children:i.jsxs("div",{className:"max-w-4xl mx-auto text-center",children:[i.jsxs(U.h1,{id:"about-heading",initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"text-3xl sm:text-4xl lg:text-5xl font-mono font-bold mb-4 sm:mb-6",children:["About ",i.jsx("span",{className:"text-electric-violet",children:"Studio Nullbyte"})]}),i.jsx(U.p,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"text-xl text-gray-400 mb-8",children:"We're a team of developers and designers creating modular tools for the modern web."})]})})}),i.jsx("section",{className:"py-20",children:i.jsx("div",{className:"container mx-auto px-4",children:i.jsx("div",{className:"max-w-4xl mx-auto",children:i.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-12 items-center",children:[i.jsxs("div",{children:[i.jsx("h2",{className:"text-3xl font-mono font-bold mb-6",children:"Our Mission"}),i.jsx("p",{className:"text-gray-400 text-lg mb-6",children:"We believe that great tools should empower creators, not constrain them. Our mission is to provide modular, high-quality templates and tools that help developers and designers ship faster without compromising on quality."}),i.jsx("p",{className:"text-gray-400 text-lg",children:"Every template in our collection is built with modern best practices, accessibility in mind, and the flexibility to adapt to your unique needs."})]}),i.jsx("div",{className:"relative",children:i.jsx("div",{className:"aspect-square bg-code-gray rounded-sm p-8 flex items-center justify-center",children:i.jsxs("div",{className:"text-center",children:[i.jsx(EC,{className:"w-16 h-16 text-electric-violet mx-auto mb-4"}),i.jsx("p",{className:"font-mono text-sm text-gray-400",children:"Crafted with ☕ and code"})]})})})]})})})}),i.jsx("section",{className:"py-20 bg-code-gray",children:i.jsxs("div",{className:"container mx-auto px-4",children:[i.jsxs("div",{className:"text-center mb-16",children:[i.jsx("h2",{className:"text-3xl font-mono font-bold mb-4",children:"Our Values"}),i.jsx("p",{className:"text-gray-400 text-lg max-w-2xl mx-auto",children:"These principles guide everything we create and how we work with our community."})]}),i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8",children:e.map((s,o)=>i.jsxs(U.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{duration:.5,delay:o*.1},className:"card text-center",children:[i.jsx("div",{className:"text-electric-violet mb-4 flex justify-center",children:s.icon}),i.jsx("h3",{className:"text-xl font-mono font-bold mb-2",children:s.title}),i.jsx("p",{className:"text-gray-400 text-sm",children:s.description})]},o))})]})}),i.jsx("section",{className:"py-20",children:i.jsx("div",{className:"container mx-auto px-4",children:i.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-8",children:t.map((s,o)=>i.jsxs(U.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{duration:.5,delay:o*.1},className:"text-center",children:[i.jsx("div",{className:"text-4xl md:text-5xl font-mono font-bold text-electric-violet mb-2",children:s.value}),i.jsx("div",{className:"text-gray-400 font-mono text-sm",children:s.label})]},o))})})}),i.jsx("section",{className:"py-20 bg-code-gray",children:i.jsxs("div",{className:"container mx-auto px-4",children:[i.jsxs("div",{className:"text-center mb-16",children:[i.jsx("h2",{className:"text-3xl font-mono font-bold mb-4",children:"Meet the Team"}),i.jsx("p",{className:"text-gray-400 text-lg max-w-2xl mx-auto",children:"The people behind Studio Nullbyte, working to create amazing tools for developers."})]}),i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:r.map((s,o)=>i.jsxs(U.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{duration:.5,delay:o*.1},className:"card text-center",children:[i.jsx("div",{className:"w-24 h-24 bg-code-gray-dark rounded-full mx-auto mb-4 overflow-hidden",children:i.jsx("img",{src:s.image,alt:s.name,className:"w-full h-full object-cover"})}),i.jsx("h3",{className:"text-xl font-mono font-bold mb-1",children:s.name}),i.jsx("p",{className:"text-electric-violet text-sm font-mono mb-3",children:s.role}),i.jsx("p",{className:"text-gray-400 text-sm",children:s.bio})]},o))})]})}),i.jsx("section",{className:"py-20",children:i.jsx("div",{className:"container mx-auto px-4",children:i.jsxs("div",{className:"max-w-4xl mx-auto text-center",children:[i.jsxs("h2",{className:"text-3xl font-mono font-bold mb-4",children:["Ready to Build Something ",i.jsx("span",{className:"text-electric-violet",children:"Amazing"}),"?"]}),i.jsx("p",{className:"text-gray-400 text-lg mb-8",children:"Join our community of developers and start creating with our tools today."}),i.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[i.jsx("a",{href:"/products",className:"btn-primary",children:"Browse Products"}),i.jsx("a",{href:"/contact",className:"btn-secondary",children:"Get in Touch"})]})]})})})]})]})},fT=()=>{const[e,t]=x.useState({name:"",email:"",subject:"",message:""}),[r,n]=x.useState(!1),[s,o]=x.useState("idle"),[a,l]=x.useState(""),c=async p=>{p.preventDefault(),n(!0),o("idle");try{const{error:v}=await vC(e);v?(o("error"),l(v.message)):(o("success"),t({name:"",email:"",subject:"",message:""}))}catch(v){o("error"),l(v instanceof Error?v.message:"An unexpected error occurred")}finally{n(!1)}},u=p=>{t({...e,[p.target.name]:p.target.value})},d=[{icon:i.jsx(Be,{className:"w-6 h-6"}),title:"Email",content:"studionullbyte@gmail.com",link:"mailto:studionullbyte@gmail.com"},{icon:i.jsx(UC,{className:"w-6 h-6"}),title:"Live Chat",content:"Available 24/7",link:"#"},{icon:i.jsx($t,{className:"w-6 h-6"}),title:"Response Time",content:"Usually within 24 hours",link:null}],h=[{question:"How do I download my purchased templates?",answer:"After purchase, you'll receive an email with download links. You can also access your downloads from your account dashboard."},{question:"Do you offer refunds?",answer:"Yes, we offer a 30-day money-back guarantee if you're not satisfied with your purchase."},{question:"Can I use these templates for commercial projects?",answer:"Absolutely! All our templates come with commercial licenses unless otherwise specified."},{question:"Do you provide customization services?",answer:"Yes, we offer custom development services. Contact us to discuss your specific requirements."}],f=JSON.stringify({"@context":"https://schema.org","@type":"ContactPage",name:"Contact Studio Nullbyte",description:"Get in touch with Studio Nullbyte. We're here to help with your questions and projects.",url:"https://studio-nullbyte.github.io/contact",publisher:{"@type":"Organization",name:"Studio Nullbyte"}},null,2);return i.jsxs(i.Fragment,{children:[i.jsx(Ms,{title:"Contact - Studio Nullbyte",description:"Get in touch with Studio Nullbyte. We're here to help with your questions, custom projects, and support requests.",keywords:"contact studio nullbyte, support, custom projects, help, customer service",url:"/contact",type:"website",structuredData:f}),i.jsxs("div",{className:"min-h-screen pt-16 sm:pt-20",children:[i.jsx("section",{className:"py-12 sm:py-16 lg:py-20 bg-code-gray",children:i.jsx("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8",children:i.jsxs("div",{className:"max-w-4xl mx-auto text-center",children:[i.jsxs(U.h1,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"text-3xl sm:text-4xl lg:text-5xl font-mono font-bold mb-4 sm:mb-6",children:["Get in ",i.jsx("span",{className:"text-electric-violet",children:"Touch"})]}),i.jsx(U.p,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"text-base sm:text-lg lg:text-xl text-gray-400 mb-6 sm:mb-8 px-4",children:"Have questions about our products or need custom development? We're here to help."})]})})}),i.jsx("section",{className:"py-12 sm:py-16 lg:py-20",children:i.jsx("div",{className:"container mx-auto px-4",children:i.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-12",children:[i.jsxs(U.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.3},children:[i.jsx("h2",{className:"text-2xl font-mono font-bold mb-6",children:"Send us a Message"}),i.jsxs("form",{onSubmit:c,className:"space-y-6",children:[i.jsxs("div",{children:[i.jsx("label",{htmlFor:"name",className:"block text-sm font-mono text-gray-300 mb-2",children:"Name"}),i.jsx("input",{type:"text",id:"name",name:"name",value:e.name,onChange:u,required:!0,className:"w-full px-4 py-3 bg-code-gray border border-gray-700 rounded-sm focus:border-electric-violet focus:outline-none font-mono",placeholder:"Your name"})]}),i.jsxs("div",{children:[i.jsx("label",{htmlFor:"email",className:"block text-sm font-mono text-gray-300 mb-2",children:"Email"}),i.jsx("input",{type:"email",id:"email",name:"email",value:e.email,onChange:u,required:!0,className:"w-full px-4 py-3 bg-code-gray border border-gray-700 rounded-sm focus:border-electric-violet focus:outline-none font-mono",placeholder:"your@email.com"})]}),i.jsxs("div",{children:[i.jsx("label",{htmlFor:"subject",className:"block text-sm font-mono text-gray-300 mb-2",children:"Subject"}),i.jsx("input",{type:"text",id:"subject",name:"subject",value:e.subject,onChange:u,required:!0,className:"w-full px-4 py-3 bg-code-gray border border-gray-700 rounded-sm focus:border-electric-violet focus:outline-none font-mono",placeholder:"What's this about?"})]}),i.jsxs("div",{children:[i.jsx("label",{htmlFor:"message",className:"block text-sm font-mono text-gray-300 mb-2",children:"Message"}),i.jsx("textarea",{id:"message",name:"message",value:e.message,onChange:u,required:!0,rows:6,className:"w-full px-4 py-3 bg-code-gray border border-gray-700 rounded-sm focus:border-electric-violet focus:outline-none font-mono resize-none",placeholder:"Tell us more about your project or question..."})]}),s==="success"&&i.jsxs(U.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"flex items-center space-x-2 text-terminal-green bg-terminal-green/10 border border-terminal-green/20 rounded-sm p-3",children:[i.jsx(fe,{className:"w-5 h-5"}),i.jsx("span",{className:"text-sm font-mono",children:"Message sent successfully! We'll get back to you soon."})]}),s==="error"&&i.jsxs(U.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"flex items-center space-x-2 text-red-400 bg-red-400/10 border border-red-400/20 rounded-sm p-3",children:[i.jsx(Ye,{className:"w-5 h-5"}),i.jsx("span",{className:"text-sm font-mono",children:a||"Failed to send message. Please try again."})]}),i.jsxs("button",{type:"submit",disabled:r,className:`btn-primary flex w-full ${r?"opacity-50 cursor-not-allowed":""}`,children:[i.jsx(BC,{className:`w-5 h-5 mr-2 ${r?"animate-pulse":""}`}),r?"Sending...":"Send Message"]})]})]}),i.jsxs(U.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{delay:.4},children:[i.jsx("h2",{className:"text-2xl font-mono font-bold mb-6",children:"Other Ways to Reach Us"}),i.jsx("div",{className:"space-y-6",children:d.map((p,v)=>i.jsx("div",{className:"card",children:i.jsxs("div",{className:"flex items-start gap-4",children:[i.jsx("div",{className:"text-electric-violet",children:p.icon}),i.jsxs("div",{children:[i.jsx("h3",{className:"font-mono font-bold mb-1",children:p.title}),p.link?i.jsx("a",{href:p.link,className:"text-gray-400 hover:text-electric-violet transition-colors",children:p.content}):i.jsx("p",{className:"text-gray-400",children:p.content})]})]})},v))}),i.jsxs("div",{className:"mt-8 p-6 bg-code-gray rounded-sm border border-gray-800",children:[i.jsx("h3",{className:"font-mono font-bold mb-3",children:"Quick Response Promise"}),i.jsx("p",{className:"text-gray-400 text-sm",children:'We typically respond to all inquiries within 24 hours during business days. For urgent matters, please include "URGENT" in your subject line.'})]})]})]})})}),i.jsx("section",{className:"py-20 bg-code-gray",children:i.jsx("div",{className:"container mx-auto px-4",children:i.jsxs("div",{className:"max-w-4xl mx-auto",children:[i.jsxs("h2",{className:"text-3xl font-mono font-bold text-center mb-12",children:["Frequently Asked ",i.jsx("span",{className:"text-electric-violet",children:"Questions"})]}),i.jsx("div",{className:"space-y-6",children:h.map((p,v)=>i.jsxs(U.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{duration:.5,delay:v*.1},className:"card",children:[i.jsx("h3",{className:"font-mono font-bold text-lg mb-3",children:p.question}),i.jsx("p",{className:"text-gray-400",children:p.answer})]},v))})]})})})]})]})};function mT({mode:e,onSubmit:t,loading:r=!1,onModeChange:n}){const[s,o]=x.useState({email:"",password:"",confirmPassword:"",fullName:""}),[a,l]=x.useState(!1),[c,u]=x.useState(!1),[d,h]=x.useState({}),[f,p]=x.useState(""),v=()=>{const m={},j=/^[^\s@]+@[^\s@]+\.[^\s@]+$/;return s.email?j.test(s.email)||(m.email="Please enter a valid email address"):m.email="Email is required",e!=="reset"&&(s.password?s.password.length<6&&(m.password="Password must be at least 6 characters"):m.password="Password is required",e==="register"&&(s.confirmPassword?s.password!==s.confirmPassword&&(m.confirmPassword="Passwords do not match"):m.confirmPassword="Please confirm your password",s.fullName.trim()||(m.fullName="Full name is required"))),h(m),Object.keys(m).length===0},b=async m=>{if(m.preventDefault(),p(""),h({}),!!v())try{console.log("AuthForm: Submitting form for mode:",e);const j=await t(s);if(console.log("AuthForm: Form submission result:",j),j.error){console.error("AuthForm: Form submission error:",j.error);let N=j.error.message||"An error occurred";N.includes("Invalid login credentials")?N="Invalid email or password. Please check your credentials and try again.":N.includes("Email not confirmed")?N="Please check your email and click the confirmation link before signing in.":N.includes("Missing Supabase environment variables")&&(N="Configuration error. Please contact support."),h({submit:N})}else console.log("AuthForm: Form submission successful"),e==="reset"?p("Password reset email sent! Check your inbox."):e==="register"&&p("Registration successful! Please check your email to verify your account.")}catch(j){console.error("AuthForm: Form submission exception:",j);let N=j.message||"An unexpected error occurred";N.includes("Missing Supabase environment variables")&&(N="Configuration error. Please contact support."),h({submit:N})}},w=(m,j)=>{o(N=>({...N,[m]:j})),d[m]&&h(N=>({...N,[m]:""}))},g=()=>{switch(e){case"login":return"Sign In";case"register":return"Create Account";case"reset":return"Reset Password"}},y=()=>{if(r)return"Processing...";switch(e){case"login":return"Sign In";case"register":return"Create Account";case"reset":return"Send Reset Email"}};return i.jsx(U.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"w-full max-w-md mx-auto",children:i.jsxs("div",{className:"bg-code-gray-light border border-gray-700 rounded-lg p-8",children:[i.jsxs("div",{className:"text-center mb-8",children:[i.jsx("h2",{className:"text-3xl font-mono text-white mb-2",children:g()}),i.jsx("div",{className:"w-12 h-px bg-electric-violet mx-auto"})]}),f&&i.jsxs(U.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"flex items-center gap-2 bg-terminal-green/10 border border-terminal-green/30 rounded p-3 mb-6",children:[i.jsx(fe,{className:"w-4 h-4 text-terminal-green"}),i.jsx("span",{className:"text-sm font-mono text-terminal-green",children:f})]}),d.submit&&i.jsxs(U.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"flex items-center gap-2 bg-red-500/10 border border-red-500/30 rounded p-3 mb-6",children:[i.jsx(Ye,{className:"w-4 h-4 text-red-400"}),i.jsx("span",{className:"text-sm font-mono text-red-400",children:d.submit})]}),i.jsxs("form",{onSubmit:b,className:"space-y-6",children:[e==="register"&&i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-mono text-gray-300 mb-2",children:"Full Name"}),i.jsxs("div",{className:"relative",children:[i.jsx(at,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-400"}),i.jsx("input",{type:"text",value:s.fullName,onChange:m=>w("fullName",m.target.value),className:`w-full bg-code-gray border pl-10 pr-4 py-3 rounded font-mono text-white placeholder-gray-500 focus:outline-none focus:border-electric-violet transition-colors ${d.fullName?"border-red-500":"border-gray-600"}`,placeholder:"Enter your full name",disabled:r})]}),d.fullName&&i.jsx("p",{className:"text-red-400 text-xs font-mono mt-1",children:d.fullName})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-mono text-gray-300 mb-2",children:"Email Address"}),i.jsxs("div",{className:"relative",children:[i.jsx(Be,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-400"}),i.jsx("input",{type:"email",value:s.email,onChange:m=>w("email",m.target.value),className:`w-full bg-code-gray border pl-10 pr-4 py-3 rounded font-mono text-white placeholder-gray-500 focus:outline-none focus:border-electric-violet transition-colors ${d.email?"border-red-500":"border-gray-600"}`,placeholder:"Enter your email",disabled:r})]}),d.email&&i.jsx("p",{className:"text-red-400 text-xs font-mono mt-1",children:d.email})]}),e!=="reset"&&i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-mono text-gray-300 mb-2",children:"Password"}),i.jsxs("div",{className:"relative",children:[i.jsx($e,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-400"}),i.jsx("input",{type:a?"text":"password",value:s.password,onChange:m=>w("password",m.target.value),className:`w-full bg-code-gray border pl-10 pr-12 py-3 rounded font-mono text-white placeholder-gray-500 focus:outline-none focus:border-electric-violet transition-colors ${d.password?"border-red-500":"border-gray-600"}`,placeholder:"Enter your password",disabled:r}),i.jsx("button",{type:"button",onClick:()=>l(!a),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-electric-violet transition-colors",disabled:r,children:a?i.jsx(qr,{className:"w-4 h-4"}):i.jsx(Vt,{className:"w-4 h-4"})})]}),d.password&&i.jsx("p",{className:"text-red-400 text-xs font-mono mt-1",children:d.password})]}),e==="register"&&i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-mono text-gray-300 mb-2",children:"Confirm Password"}),i.jsxs("div",{className:"relative",children:[i.jsx($e,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-400"}),i.jsx("input",{type:c?"text":"password",value:s.confirmPassword,onChange:m=>w("confirmPassword",m.target.value),className:`w-full bg-code-gray border pl-10 pr-12 py-3 rounded font-mono text-white placeholder-gray-500 focus:outline-none focus:border-electric-violet transition-colors ${d.confirmPassword?"border-red-500":"border-gray-600"}`,placeholder:"Confirm your password",disabled:r}),i.jsx("button",{type:"button",onClick:()=>u(!c),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-electric-violet transition-colors",disabled:r,children:c?i.jsx(qr,{className:"w-4 h-4"}):i.jsx(Vt,{className:"w-4 h-4"})})]}),d.confirmPassword&&i.jsx("p",{className:"text-red-400 text-xs font-mono mt-1",children:d.confirmPassword})]}),i.jsx("button",{type:"submit",disabled:r,className:"w-full bg-electric-violet hover:bg-electric-violet-light disabled:opacity-50 disabled:cursor-not-allowed text-white font-mono py-3 px-4 rounded transition-colors",children:y()})]}),i.jsxs("div",{className:"mt-6 text-center space-y-2",children:[e==="login"&&i.jsxs(i.Fragment,{children:[i.jsxs("p",{className:"text-gray-400 font-mono text-sm",children:["Don't have an account?"," ",i.jsx("button",{onClick:()=>n("register"),className:"text-electric-violet hover:text-electric-violet-light transition-colors",disabled:r,children:"Sign up"})]}),i.jsx("p",{className:"text-gray-400 font-mono text-sm",children:i.jsx("button",{onClick:()=>n("reset"),className:"text-electric-violet hover:text-electric-violet-light transition-colors",disabled:r,children:"Forgot your password?"})})]}),e==="register"&&i.jsxs("p",{className:"text-gray-400 font-mono text-sm",children:["Already have an account?"," ",i.jsx("button",{onClick:()=>n("login"),className:"text-electric-violet hover:text-electric-violet-light transition-colors",disabled:r,children:"Sign in"})]}),e==="reset"&&i.jsxs("p",{className:"text-gray-400 font-mono text-sm",children:["Remember your password?"," ",i.jsx("button",{onClick:()=>n("login"),className:"text-electric-violet hover:text-electric-violet-light transition-colors",disabled:r,children:"Sign in"})]})]})]})})}function pT(){const[e]=Gd(),t=Ze(),{signIn:r,signUp:n,resetPassword:s,loading:o,user:a}=gr(),[l,c]=x.useState(()=>{const w=e.get("mode");return w==="register"||w==="reset"?w:"login"}),[u,d]=x.useState(!1),[h,f]=x.useState(!1);x.useEffect(()=>{const w=setTimeout(()=>{o&&f(!0)},5e3);return()=>clearTimeout(w)},[o]),x.useEffect(()=>{if(a&&!o){const w=e.get("redirect")||"/";t(w,{replace:!0})}},[a,o,t,e]),x.useEffect(()=>{const w=new URLSearchParams(e);l!=="login"?w.set("mode",l):w.delete("mode"),t(`/auth?${w.toString()}`,{replace:!0})},[l,t,e]);const p=async w=>{d(!0);try{let g;switch(l){case"login":if(g=await r(w.email,w.password),!g.error){const y=e.get("redirect")||"/";t(y,{replace:!0})}break;case"register":g=await n(w.email,w.password,{full_name:w.fullName});break;case"reset":g=await s(w.email);break;default:g={error:new Error("Invalid auth mode")}}return g}catch(g){return{error:g}}finally{d(!1)}},v=()=>{switch(l){case"login":return"Sign In - Studio Nullbyte";case"register":return"Create Account - Studio Nullbyte";case"reset":return"Reset Password - Studio Nullbyte"}},b=()=>{switch(l){case"login":return"Sign in to your Studio Nullbyte account to access exclusive templates and tools.";case"register":return"Create your Studio Nullbyte account and start building with premium templates.";case"reset":return"Reset your Studio Nullbyte password to regain access to your account."}};return o&&!h?i.jsx("div",{className:"min-h-screen bg-black flex items-center justify-center",children:i.jsxs("div",{className:"flex flex-col items-center gap-4",children:[i.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-electric-violet"}),i.jsx("p",{className:"text-gray-400 font-mono text-sm",children:"Loading authentication..."})]})}):i.jsxs(i.Fragment,{children:[i.jsxs(Oe,{children:[i.jsx("title",{children:v()}),i.jsx("meta",{name:"description",content:b()}),i.jsx("meta",{name:"robots",content:"noindex, nofollow"})]}),i.jsx("div",{className:"min-h-screen bg-black pt-20 pb-12",children:i.jsx("div",{className:"container mx-auto px-4",children:i.jsxs(U.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"max-w-md mx-auto",children:[i.jsxs("div",{className:"text-center mb-8",children:[i.jsxs(U.div,{initial:{scale:.9},animate:{scale:1},className:"inline-flex items-center gap-2 mb-4",children:[i.jsx("div",{className:"w-8 h-8 bg-electric-violet rounded flex items-center justify-center",children:i.jsx("span",{className:"text-black font-mono font-bold",children:"N"})}),i.jsxs("span",{className:"text-white font-mono text-xl",children:["Studio",i.jsx("span",{className:"text-electric-violet",children:"Nullbyte"})]})]}),i.jsx("p",{className:"text-gray-400 font-mono text-sm",children:"Modular tools for the design-minded developer"})]}),i.jsx(mT,{mode:l,onSubmit:p,loading:u,onModeChange:c}),i.jsx(U.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.3},className:"mt-8 text-center",children:i.jsxs("p",{className:"text-gray-500 font-mono text-xs",children:["By ",l==="register"?"creating an account":"signing in",", you agree to our"," ",i.jsx("a",{href:"/terms",className:"text-electric-violet hover:text-electric-violet-light transition-colors",children:"Terms of Service"})," ","and"," ",i.jsx("a",{href:"/privacy",className:"text-electric-violet hover:text-electric-violet-light transition-colors",children:"Privacy Policy"})]})})]})})})]})}function gT(){const[e]=Gd(),t=Ze(),{updatePassword:r,signOut:n}=gr(),[s,o]=x.useState(""),[a,l]=x.useState(""),[c,u]=x.useState(!1),[d,h]=x.useState(!1),[f,p]=x.useState(!1),[v,b]=x.useState(""),[w,g]=x.useState(!1);x.useEffect(()=>{const j=e.get("access_token"),N=e.get("refresh_token");(!j||!N)&&t("/auth?mode=reset",{replace:!0})},[e,t]);const y=()=>s?s.length<6?(b("Password must be at least 6 characters"),!1):s!==a?(b("Passwords do not match"),!1):!0:(b("Password is required"),!1),m=async j=>{if(j.preventDefault(),b(""),!!y()){p(!0);try{const N=await r(s);N.error?b(N.error.message||"Failed to update password"):(g(!0),setTimeout(async()=>{await n(),t("/auth",{replace:!0})},3e3))}catch(N){b(N.message||"An unexpected error occurred")}finally{p(!1)}}};return w?i.jsxs(i.Fragment,{children:[i.jsxs(Oe,{children:[i.jsx("title",{children:"Password Updated - Studio Nullbyte"}),i.jsx("meta",{name:"robots",content:"noindex, nofollow"})]}),i.jsx("div",{className:"min-h-screen bg-black pt-20 pb-12 flex items-center justify-center",children:i.jsx(U.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"max-w-md mx-auto text-center",children:i.jsxs("div",{className:"bg-code-gray-light border border-gray-700 rounded-lg p-8",children:[i.jsx(U.div,{initial:{scale:0},animate:{scale:1},className:"w-16 h-16 bg-terminal-green/10 rounded-full flex items-center justify-center mx-auto mb-4",children:i.jsx(fe,{className:"w-8 h-8 text-terminal-green"})}),i.jsx("h2",{className:"text-2xl font-mono text-white mb-4",children:"Password Updated!"}),i.jsx("p",{className:"text-gray-400 font-mono text-sm mb-6",children:"Your password has been successfully updated. You'll be redirected to sign in shortly."}),i.jsx("div",{className:"animate-spin rounded-full h-6 w-6 border-b-2 border-electric-violet mx-auto"})]})})})]}):i.jsxs(i.Fragment,{children:[i.jsxs(Oe,{children:[i.jsx("title",{children:"Reset Password - Studio Nullbyte"}),i.jsx("meta",{name:"description",content:"Set your new Studio Nullbyte password."}),i.jsx("meta",{name:"robots",content:"noindex, nofollow"})]}),i.jsx("div",{className:"min-h-screen bg-black pt-20 pb-12",children:i.jsx("div",{className:"container mx-auto px-4",children:i.jsxs(U.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"max-w-md mx-auto",children:[i.jsxs("div",{className:"text-center mb-8",children:[i.jsxs(U.div,{initial:{scale:.9},animate:{scale:1},className:"inline-flex items-center gap-2 mb-4",children:[i.jsx("div",{className:"w-8 h-8 bg-electric-violet rounded flex items-center justify-center",children:i.jsx("span",{className:"text-black font-mono font-bold",children:"N"})}),i.jsxs("span",{className:"text-white font-mono text-xl",children:["Studio",i.jsx("span",{className:"text-electric-violet",children:"Nullbyte"})]})]}),i.jsx("h1",{className:"text-2xl font-mono text-white mb-2",children:"Set New Password"}),i.jsx("p",{className:"text-gray-400 font-mono text-sm",children:"Enter your new password below"})]}),i.jsxs("div",{className:"bg-code-gray-light border border-gray-700 rounded-lg p-8",children:[v&&i.jsxs(U.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"flex items-center gap-2 bg-red-500/10 border border-red-500/30 rounded p-3 mb-6",children:[i.jsx(Ye,{className:"w-4 h-4 text-red-400"}),i.jsx("span",{className:"text-sm font-mono text-red-400",children:v})]}),i.jsxs("form",{onSubmit:m,className:"space-y-6",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-mono text-gray-300 mb-2",children:"New Password"}),i.jsxs("div",{className:"relative",children:[i.jsx($e,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-400"}),i.jsx("input",{type:c?"text":"password",value:s,onChange:j=>o(j.target.value),className:"w-full bg-code-gray border border-gray-600 pl-10 pr-12 py-3 rounded font-mono text-white placeholder-gray-500 focus:outline-none focus:border-electric-violet transition-colors",placeholder:"Enter new password",disabled:f,required:!0}),i.jsx("button",{type:"button",onClick:()=>u(!c),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-electric-violet transition-colors",disabled:f,children:c?i.jsx(qr,{className:"w-4 h-4"}):i.jsx(Vt,{className:"w-4 h-4"})})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-mono text-gray-300 mb-2",children:"Confirm New Password"}),i.jsxs("div",{className:"relative",children:[i.jsx($e,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-400"}),i.jsx("input",{type:d?"text":"password",value:a,onChange:j=>l(j.target.value),className:"w-full bg-code-gray border border-gray-600 pl-10 pr-12 py-3 rounded font-mono text-white placeholder-gray-500 focus:outline-none focus:border-electric-violet transition-colors",placeholder:"Confirm new password",disabled:f,required:!0}),i.jsx("button",{type:"button",onClick:()=>h(!d),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-electric-violet transition-colors",disabled:f,children:d?i.jsx(qr,{className:"w-4 h-4"}):i.jsx(Vt,{className:"w-4 h-4"})})]})]}),i.jsx("button",{type:"submit",disabled:f,className:"w-full bg-electric-violet hover:bg-electric-violet-light disabled:opacity-50 disabled:cursor-not-allowed text-white font-mono py-3 px-4 rounded transition-colors",children:f?"Updating...":"Update Password"})]}),i.jsx("div",{className:"mt-6 text-center",children:i.jsxs("p",{className:"text-gray-400 font-mono text-sm",children:["Remember your password?"," ",i.jsx("button",{onClick:()=>t("/auth"),className:"text-electric-violet hover:text-electric-violet-light transition-colors",disabled:f,children:"Sign in"})]})})]})]})})})]})}function yT(){try{["rememberMe","tempSession","supabase.auth.token","supabase.auth.user","supabase.auth.session"].forEach(n=>{try{localStorage.removeItem(n),sessionStorage.removeItem(n)}catch(s){Ke.warn(`Failed to remove ${n}:`,s)}}),Object.keys(localStorage).forEach(n=>{if(n.includes("supabase")||n.includes("auth"))try{localStorage.removeItem(n)}catch(s){Ke.warn(`Failed to remove local storage key ${n}:`,s)}}),Object.keys(sessionStorage).forEach(n=>{if(n.includes("supabase")||n.includes("auth"))try{sessionStorage.removeItem(n)}catch(s){Ke.warn(`Failed to remove session storage key ${n}:`,s)}}),Ke.auth("Emergency sign out completed - reloading page..."),window.location.href=window.location.origin}catch(e){Ke.error("Emergency sign out failed:",e),window.location.reload()}}function xT(){const{user:e,profile:t,updateProfile:r,updatePassword:n,signOut:s,refreshProfile:o}=gr(),a=Ze(),[l,c]=x.useState("profile"),[u,d]=x.useState(!1),[h,f]=x.useState(""),[p,v]=x.useState(""),[b,w]=x.useState({fullName:"",email:""}),[g,y]=x.useState({currentPassword:"",newPassword:"",confirmPassword:""}),[m,j]=x.useState(!1),[N,E]=x.useState(!1),[P,T]=x.useState(!1);x.useEffect(()=>{t?w({fullName:t.full_name||"",email:t.email||(e==null?void 0:e.email)||""}):e&&w({fullName:"",email:e.email||""})},[t,e]),x.useEffect(()=>{e||a("/auth?redirect=/settings")},[e,a]);const $=async k=>{k.preventDefault(),d(!0),f(""),v("");try{const _=await r({full_name:b.fullName.trim(),email:b.email});_.error?v(_.error.message||"Failed to update profile"):(f("Profile updated successfully!"),await o())}catch(_){v(_.message||"An unexpected error occurred")}finally{d(!1)}},V=async k=>{if(k.preventDefault(),d(!0),f(""),v(""),g.newPassword.length<6){v("New password must be at least 6 characters"),d(!1);return}if(g.newPassword!==g.confirmPassword){v("New passwords do not match"),d(!1);return}try{const _=await n(g.newPassword);_.error?v(_.error.message||"Failed to update password"):(f("Password updated successfully!"),y({currentPassword:"",newPassword:"",confirmPassword:""}))}catch(_){v(_.message||"An unexpected error occurred")}finally{d(!1)}},D=()=>{confirm("Are you sure you want to sign out?")&&yT()};if(!e)return i.jsx("div",{className:"min-h-screen bg-black flex items-center justify-center",children:i.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-electric-violet"})});const z=[{id:"profile",label:"Profile",icon:at},{id:"security",label:"Security",icon:$e},{id:"downloads",label:"Downloads",icon:Ua}];return i.jsxs(i.Fragment,{children:[i.jsxs(Oe,{children:[i.jsx("title",{children:"Account Settings - Studio Nullbyte"}),i.jsx("meta",{name:"description",content:"Manage your Studio Nullbyte account settings and preferences."}),i.jsx("meta",{name:"robots",content:"noindex, nofollow"})]}),i.jsx("div",{className:"min-h-screen bg-black pt-20 pb-12",children:i.jsx("div",{className:"container mx-auto px-4",children:i.jsxs(U.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"max-w-4xl mx-auto",children:[i.jsxs("div",{className:"mb-8",children:[i.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[i.jsx(Fa,{className:"w-6 h-6 text-electric-violet"}),i.jsx("h1",{className:"text-3xl font-mono text-white",children:"Account Settings"})]}),i.jsx("p",{className:"text-gray-400 font-mono",children:"Manage your account preferences and security settings"})]}),h&&i.jsxs(U.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"flex items-center gap-2 bg-terminal-green/10 border border-terminal-green/30 rounded p-3 mb-6",children:[i.jsx(fe,{className:"w-4 h-4 text-terminal-green"}),i.jsx("span",{className:"text-sm font-mono text-terminal-green",children:h})]}),p&&i.jsxs(U.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"flex items-center gap-2 bg-red-500/10 border border-red-500/30 rounded p-3 mb-6",children:[i.jsx(Ye,{className:"w-4 h-4 text-red-400"}),i.jsx("span",{className:"text-sm font-mono text-red-400",children:p})]}),i.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-8",children:[i.jsx("div",{className:"lg:col-span-1",children:i.jsx("div",{className:"bg-code-gray-light border border-gray-700 rounded-lg p-4",children:i.jsxs("nav",{className:"space-y-2",children:[z.map(k=>{const _=k.icon;return i.jsxs("button",{onClick:()=>c(k.id),className:`w-full flex items-center gap-3 px-3 py-2 rounded font-mono text-sm transition-colors ${l===k.id?"bg-electric-violet text-white":"text-gray-400 hover:text-white hover:bg-code-gray"}`,children:[i.jsx(_,{className:"w-4 h-4"}),k.label]},k.id)}),i.jsx("hr",{className:"border-gray-700 my-4"}),i.jsxs("button",{onClick:D,className:"w-full flex items-center gap-3 px-3 py-2 rounded font-mono text-sm text-red-400 hover:text-red-300 hover:bg-red-500/10 transition-colors",children:[i.jsx(Yu,{className:"w-4 h-4"}),"Sign Out"]})]})})}),i.jsx("div",{className:"lg:col-span-3",children:i.jsxs("div",{className:"bg-code-gray-light border border-gray-700 rounded-lg p-8",children:[l==="profile"&&i.jsxs(U.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},children:[i.jsx("h2",{className:"text-xl font-mono text-white mb-6",children:"Profile Information"}),i.jsxs("form",{onSubmit:$,className:"space-y-6",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-mono text-gray-300 mb-2",children:"Full Name"}),i.jsxs("div",{className:"relative",children:[i.jsx(at,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-400"}),i.jsx("input",{type:"text",value:b.fullName,onChange:k=>w(_=>({..._,fullName:k.target.value})),className:"w-full bg-code-gray border border-gray-600 pl-10 pr-4 py-3 rounded font-mono text-white placeholder-gray-500 focus:outline-none focus:border-electric-violet transition-colors",placeholder:"Enter your full name",disabled:u})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-mono text-gray-300 mb-2",children:"Email Address"}),i.jsxs("div",{className:"relative",children:[i.jsx(Be,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-400"}),i.jsx("input",{type:"email",value:b.email,onChange:k=>w(_=>({..._,email:k.target.value})),className:"w-full bg-code-gray border border-gray-600 pl-10 pr-4 py-3 rounded font-mono text-white placeholder-gray-500 focus:outline-none focus:border-electric-violet transition-colors",placeholder:"Enter your email",disabled:u})]}),i.jsx("p",{className:"text-gray-500 font-mono text-xs mt-1",children:"Email changes require verification"})]}),i.jsxs("button",{type:"submit",disabled:u,className:"flex items-center gap-2 bg-electric-violet hover:bg-electric-violet-light disabled:opacity-50 disabled:cursor-not-allowed text-white font-mono py-3 px-6 rounded transition-colors",children:[i.jsx(oo,{className:"w-4 h-4"}),u?"Saving...":"Save Changes"]})]})]}),l==="security"&&i.jsxs(U.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},children:[i.jsx("h2",{className:"text-xl font-mono text-white mb-6",children:"Security Settings"}),i.jsxs("form",{onSubmit:V,className:"space-y-6",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-mono text-gray-300 mb-2",children:"Current Password"}),i.jsxs("div",{className:"relative",children:[i.jsx($e,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-400"}),i.jsx("input",{type:m?"text":"password",value:g.currentPassword,onChange:k=>y(_=>({..._,currentPassword:k.target.value})),className:"w-full bg-code-gray border border-gray-600 pl-10 pr-12 py-3 rounded font-mono text-white placeholder-gray-500 focus:outline-none focus:border-electric-violet transition-colors",placeholder:"Enter current password",disabled:u}),i.jsx("button",{type:"button",onClick:()=>j(!m),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-electric-violet transition-colors",children:m?i.jsx(qr,{className:"w-4 h-4"}):i.jsx(Vt,{className:"w-4 h-4"})})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-mono text-gray-300 mb-2",children:"New Password"}),i.jsxs("div",{className:"relative",children:[i.jsx($e,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-400"}),i.jsx("input",{type:N?"text":"password",value:g.newPassword,onChange:k=>y(_=>({..._,newPassword:k.target.value})),className:"w-full bg-code-gray border border-gray-600 pl-10 pr-12 py-3 rounded font-mono text-white placeholder-gray-500 focus:outline-none focus:border-electric-violet transition-colors",placeholder:"Enter new password",disabled:u}),i.jsx("button",{type:"button",onClick:()=>E(!N),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-electric-violet transition-colors",children:N?i.jsx(qr,{className:"w-4 h-4"}):i.jsx(Vt,{className:"w-4 h-4"})})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-mono text-gray-300 mb-2",children:"Confirm New Password"}),i.jsxs("div",{className:"relative",children:[i.jsx($e,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-400"}),i.jsx("input",{type:P?"text":"password",value:g.confirmPassword,onChange:k=>y(_=>({..._,confirmPassword:k.target.value})),className:"w-full bg-code-gray border border-gray-600 pl-10 pr-12 py-3 rounded font-mono text-white placeholder-gray-500 focus:outline-none focus:border-electric-violet transition-colors",placeholder:"Confirm new password",disabled:u}),i.jsx("button",{type:"button",onClick:()=>T(!P),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-electric-violet transition-colors",children:P?i.jsx(qr,{className:"w-4 h-4"}):i.jsx(Vt,{className:"w-4 h-4"})})]})]}),i.jsxs("button",{type:"submit",disabled:u,className:"flex items-center gap-2 bg-electric-violet hover:bg-electric-violet-light disabled:opacity-50 disabled:cursor-not-allowed text-white font-mono py-3 px-6 rounded transition-colors",children:[i.jsx($e,{className:"w-4 h-4"}),u?"Updating...":"Update Password"]})]})]}),l==="downloads"&&i.jsxs(U.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},children:[i.jsx("h2",{className:"text-xl font-mono text-white mb-6",children:"Download History"}),i.jsxs("div",{className:"text-center py-12",children:[i.jsx(Ua,{className:"w-12 h-12 text-gray-600 mx-auto mb-4"}),i.jsx("h3",{className:"text-lg font-mono text-gray-400 mb-2",children:"No Downloads Yet"}),i.jsx("p",{className:"text-gray-500 font-mono text-sm mb-6",children:"Your purchased templates and downloads will appear here"}),i.jsx("button",{onClick:()=>a("/products"),className:"bg-electric-violet hover:bg-electric-violet-light text-white font-mono py-2 px-4 rounded transition-colors",children:"Browse Products"})]})]})]})})]})]})})})]})}const Vn=(e,t)=>{};const vT=async()=>{console.log("🔍 Testing Supabase Connection...");try{const e="https://hfpmmjvdsdofheuffnwb.supabase.co",t="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImhmcG1tanZkc2RvZmhldWZmbndiIiwicm9sZSI6InNlcnZpY2Vfcm9sZSIsImlhdCI6MTc1MjI0MTA5NywiZXhwIjoyMDY3ODE3MDk3fQ.TLsJBj7YXSgJRLnALJs3_YEqYkY0KMFK51c4Ge1OKyw";console.log("📋 Environment Variables:"),console.log("  VITE_SUPABASE_URL:",e?"✅ Set":"❌ Missing"),console.log("  VITE_SUPABASE_ANON_KEY:",t?"✅ Set":"❌ Missing"),console.log(`
🔐 Testing Auth Session...`);const{error:r}=await K.auth.getSession();if(r)return console.error("❌ Auth session error:",r),!1;console.log("✅ Auth session test passed"),console.log(`
📊 Testing Database Query...`);const{data:n,error:s}=await K.from("user_profiles").select("id").limit(1);return s?(console.error("❌ Database query failed:",s),console.error("Error details:",{message:s.message,details:s.details,hint:s.hint,code:s.code}),(s.message.includes("503")||s.message.includes("Service Unavailable"))&&(console.error(`
🔴 503 Service Unavailable - Possible solutions:`),console.error("   1. Check if your Supabase project is paused"),console.error("   2. Go to https://supabase.com/dashboard"),console.error("   3. Click on your project"),console.error("   4. Check project status in settings"),console.error("   5. If paused, restart the project")),s.message.includes("relation")&&s.message.includes("does not exist")&&(console.error(`
🔴 Table does not exist - Possible solutions:`),console.error("   1. Check if user_profiles table exists in your database"),console.error("   2. Run database migrations"),console.error("   3. Create the table manually in Supabase dashboard")),!1):(console.log("✅ Database query test passed"),console.log("📊 Query result:",n),console.log(`
🎉 All Supabase connection tests passed!`),!0)}catch(e){return console.error("❌ Unexpected error during diagnostics:",e),!1}},wT=async()=>{var t;console.log("🔍 Checking Supabase Project Status...");const e="https://hfpmmjvdsdofheuffnwb.supabase.co";try{const r=(t=e.match(/https:\/\/([^.]+)\.supabase\.co/))==null?void 0:t[1];if(!r){console.error("❌ Could not extract project ID from URL");return}console.log("📋 Project Info:"),console.log("  Project ID:",r),console.log("  URL:",e),console.log("  Dashboard:",`https://supabase.com/dashboard/project/${r}`);const n=await fetch(`${e}/health`);console.log("🏥 Health check response:",n.status,n.statusText)}catch(r){console.error("❌ Error checking Supabase status:",r)}};function Rn(){const{profile:e,loading:t,user:r}=gr(),[n,s]=x.useState(!0),[o,a]=x.useState(!1),l="studio_nullbyte_admin_status",c="studio_nullbyte_admin_expiry";x.useEffect(()=>{const k=setTimeout(()=>{n&&s(!1)},6e4);return()=>clearTimeout(k)},[n]),x.useEffect(()=>{r&&(()=>{try{const _=localStorage.getItem(l),R=localStorage.getItem(c);if(_&&R){const M=parseInt(R);Date.now()<M&&r?a(_==="true"):(localStorage.removeItem(l),localStorage.removeItem(c))}}catch{}})()},[r]);const u=k=>{try{const _=Date.now()+18e5;localStorage.setItem(l,k.toString()),localStorage.setItem(c,_.toString())}catch{}};return x.useEffect(()=>{(()=>{if(!t){if(!r){a(!1),localStorage.removeItem(l),localStorage.removeItem(c),s(!1);return}if(e){const _=e.role==="admin";a(_),u(_),s(!1)}else e===null&&(a(!1),u(!1),s(!1))}})()},[e,t,r]),x.useEffect(()=>{const k=()=>{localStorage.removeItem(l),localStorage.removeItem(c),r||(a(!1),s(!1))},{data:{subscription:_}}=K.auth.onAuthStateChange(k);return()=>_.unsubscribe()},[r]),{isAdmin:o,loading:n,getAdminStats:async()=>{var k;try{const{error:_}=await K.auth.getSession();if(_)throw console.error("Supabase connection error:",_),new Error(`Supabase connection failed: ${_.message}`);console.log("Fetching admin stats from Supabase...");const[R,M,q,C,A,I]=await Promise.all([K.from("user_profiles").select("id",{count:"exact",head:!0}),K.from("products").select("id",{count:"exact",head:!0}),K.from("orders").select("id",{count:"exact",head:!0}),K.from("orders").select("total_amount").eq("status","completed"),K.from("orders").select("id",{count:"exact",head:!0}).eq("status","pending"),K.from("contact_submissions").select("id",{count:"exact",head:!0}).eq("status","new")]);R.error&&(console.error("Users query error:",R.error),console.error("Users error details:",{message:R.error.message,details:R.error.details,hint:R.error.hint,code:R.error.code})),M.error&&console.error("Products query error:",M.error),q.error&&console.error("Orders query error:",q.error),C.error&&console.error("Revenue query error:",C.error),A.error&&console.error("Pending orders query error:",A.error),I.error&&console.error("Contacts query error:",I.error);const S=((k=C.data)==null?void 0:k.reduce((F,se)=>F+parseFloat(se.total_amount.toString()),0))||0;return{totalUsers:R.count||0,totalProducts:M.count||0,totalOrders:q.count||0,totalRevenue:S,pendingOrders:A.count||0,newContactSubmissions:I.count||0}}catch(_){if(console.error("Error fetching admin stats:",_),_&&typeof _=="object"&&"message"in _){const R=_.message||"";(R.includes("503")||R.includes("Service Unavailable"))&&(console.error("🔴 Supabase 503 Error - Possible causes:"),console.error("   • Project may be paused (free tier)"),console.error("   • Database connection issues"),console.error("   • Temporary service outage"),console.error("   • Check your Supabase dashboard: https://supabase.com/dashboard"))}throw _}},getUsers:async()=>{let _=null;for(let R=0;R<3;R++)try{Vn("fetching users",{retry:R,maxRetries:3});const{data:M,error:q}=await K.from("user_profiles").select(`
            user_id,
            email,
            full_name,
            avatar_url,
            role,
            is_active,
            created_at,
            updated_at
          `).order("created_at",{ascending:!1});if(q){if(_=q,console.error("Supabase error on retry",R,":",q),q.code==="PGRST301"||q.message.includes("RLS"))throw q;if(R<3-1){await new Promise(A=>setTimeout(A,(R+1)*1e3));continue}throw q}return Vn("users fetched successfully",{count:(M==null?void 0:M.length)||0}),(M==null?void 0:M.map(A=>{const[I,S]=(A.full_name||"").split(" ");return{id:A.user_id,email:A.email||"",first_name:I||null,last_name:S||null,avatar_url:A.avatar_url||null,role:A.role||"user",is_active:A.is_active??!0,created_at:A.created_at,last_sign_in_at:null,email_confirmed_at:null}}))||[]}catch(M){if(_=M,console.error("Error fetching users on retry",R,":",M),R===3-1)throw M instanceof Error&&M.message.includes("column")?new Error("User profiles table is missing required columns. Please run the database update script."):M;await new Promise(q=>setTimeout(q,(R+1)*1e3))}throw _||new Error("Failed to fetch users after multiple retries")},updateUser:async(k,_)=>{try{const{data:R,error:M}=await K.from("user_profiles").update(_).eq("user_id",k).select().single();if(M)throw M;return await K.rpc("log_admin_activity",{p_action:"update_user",p_table_name:"user_profiles",p_record_id:k,p_new_values:_}),{data:R,error:null}}catch(R){return console.error("Error updating user:",R),{data:null,error:R}}},deleteUser:async k=>{try{const{error:_}=await K.auth.admin.deleteUser(k);if(_)throw _;return await K.rpc("log_admin_activity",{p_action:"delete_user",p_table_name:"user_profiles",p_record_id:k}),{error:null}}catch(_){return console.error("Error deleting user:",_),{error:_}}},getProducts:async()=>{let _=null;for(let R=0;R<3;R++)try{Vn("fetching products",{retry:R,maxRetries:3});const{data:M,error:q}=await K.from("products").select(`
            *,
            category:categories(name, slug)
          `).order("created_at",{ascending:!1});if(q){if(_=q,console.error("Supabase error on retry",R,":",q),q.code==="PGRST301"||q.message.includes("RLS"))throw q;if(R<3-1){await new Promise(C=>setTimeout(C,(R+1)*1e3));continue}throw q}return Vn("products fetched successfully",{count:(M==null?void 0:M.length)||0}),M||[]}catch(M){if(_=M,console.error("Error fetching products on retry",R,":",M),R===3-1)throw M;await new Promise(q=>setTimeout(q,(R+1)*1e3))}throw _||new Error("Failed to fetch products after multiple retries")},createProduct:async k=>{try{const{data:_,error:R}=await K.from("products").insert(k).select().single();if(R)throw R;return await K.rpc("log_admin_activity",{p_action:"create_product",p_table_name:"products",p_record_id:_.id,p_new_values:k}),{data:_,error:null}}catch(_){return console.error("Error creating product:",_),{data:null,error:_}}},updateProduct:async(k,_)=>{try{const{data:R,error:M}=await K.from("products").update(_).eq("id",k).select().single();if(M)throw M;return await K.rpc("log_admin_activity",{p_action:"update_product",p_table_name:"products",p_record_id:k,p_new_values:_}),{data:R,error:null}}catch(R){return console.error("Error updating product:",R),{data:null,error:R}}},deleteProduct:async k=>{try{const{error:_}=await K.from("products").delete().eq("id",k);if(_)throw _;return await K.rpc("log_admin_activity",{p_action:"delete_product",p_table_name:"products",p_record_id:k}),{error:null}}catch(_){return console.error("Error deleting product:",_),{error:_}}},getOrders:async()=>{try{console.log("Starting getOrders...");const{data:k,error:_}=await K.from("orders").select("*").order("created_at",{ascending:!1});if(_){if(console.error("Error fetching orders:",_),_.message.includes("table")||_.message.includes("does not exist"))return console.warn("Orders table does not exist, returning empty array"),[];throw _}if(console.log("Orders fetched:",(k==null?void 0:k.length)||0),!k||k.length===0)return console.log("No orders found, returning empty array"),[];const R=[...new Set(k.map(A=>A.user_id))];console.log("User IDs to fetch:",R);let M=new Map;try{const{data:A,error:I}=await K.from("user_profiles").select("user_id, full_name, email").in("user_id",R);I?console.error("Error fetching user profiles:",I):(console.log("User profiles fetched:",(A==null?void 0:A.length)||0),A&&A.forEach(S=>{M.set(S.user_id,S)}))}catch(A){console.warn("Could not fetch user profiles:",A)}let q=new Map;try{const A=k.map(F=>F.id);console.log("Order IDs to fetch items for:",A);const{data:I,error:S}=await K.from("order_items").select(`
            id,
            order_id,
            product_id,
            price,
            quantity,
            products(title)
          `).in("order_id",A);S?console.error("Error fetching order items:",S):(console.log("Order items fetched:",(I==null?void 0:I.length)||0),I&&I.forEach(F=>{q.has(F.order_id)||q.set(F.order_id,[]),q.get(F.order_id).push(F)}))}catch(A){console.warn("Could not fetch order items:",A)}const C=k.map(A=>({...A,user_profiles:M.get(A.user_id)||null,order_items:q.get(A.id)||[]}));return console.log("Enriched orders prepared:",C.length),C}catch(k){if(console.error("Error fetching orders:",k),k instanceof Error&&(k.message.includes("table")||k.message.includes("does not exist")))return console.warn("Database tables not found, returning empty array"),[];throw k}},updateOrder:async(k,_)=>{try{const{data:R,error:M}=await K.from("orders").update(_).eq("id",k).select().single();if(M)throw M;return await K.rpc("log_admin_activity",{p_action:"update_order",p_table_name:"orders",p_record_id:k,p_new_values:_}),{data:R,error:null}}catch(R){return console.error("Error updating order:",R),{data:null,error:R}}},getContactSubmissions:async()=>{try{const{data:k,error:_}=await K.from("contact_submissions").select("*").order("submitted_at",{ascending:!1});if(_)throw _;return k||[]}catch(k){throw console.error("Error fetching contact submissions:",k),k}},updateContactSubmissionStatus:async(k,_)=>{try{const{data:R,error:M}=await K.from("contact_submissions").update({status:_}).eq("id",k).select().single();if(M)throw M;return await K.rpc("log_admin_activity",{p_action:"update_contact_status",p_table_name:"contact_submissions",p_record_id:k,p_new_values:{status:_}}),{data:R,error:null}}catch(R){return console.error("Error updating contact submission status:",R),{data:null,error:R}}},getCategories:async()=>{let _=null;for(let R=0;R<3;R++)try{Vn("fetching categories",{retry:R,maxRetries:3});const{data:M,error:q}=await K.from("categories").select("*").order("name");if(q){if(_=q,console.error("Supabase error on retry",R,":",q),q.code==="PGRST301"||q.message.includes("RLS"))throw q;if(R<3-1){await new Promise(C=>setTimeout(C,(R+1)*1e3));continue}throw q}return Vn("categories fetched successfully",{count:(M==null?void 0:M.length)||0}),M||[]}catch(M){if(_=M,console.error("Error fetching categories on retry",R,":",M),R===3-1)throw M;await new Promise(q=>setTimeout(q,(R+1)*1e3))}throw _||new Error("Failed to fetch categories after multiple retries")},createCategory:async k=>{try{const{data:_,error:R}=await K.from("categories").insert({name:k.name,slug:k.slug,description:k.description||null,is_active:!0}).select().single();if(R)throw R;return{data:_,error:null}}catch(_){return console.error("Error creating category:",_),{data:null,error:_}}},updateCategory:async(k,_)=>{try{const{data:R,error:M}=await K.from("categories").update(_).eq("id",k).select().single();if(M)throw M;return{data:R,error:null}}catch(R){return console.error("Error updating category:",R),{data:null,error:R}}},deleteCategory:async k=>{try{const{error:_}=await K.from("categories").delete().eq("id",k);if(_)throw _;return{error:null}}catch(_){return console.error("Error deleting category:",_),{error:_}}},uploadProductImage:async k=>{var _,R,M;try{if(!["image/jpeg","image/jpg","image/png","image/gif","image/webp"].includes(k.type))return{url:null,error:{message:"Invalid file type. Please upload a valid image file."}};if(k.size>10485760)return{url:null,error:{message:"File size too large. Please upload an image smaller than 10MB."}};const C=k.name.split(".").pop(),I=`product-images/${`${Date.now()}-${Math.random().toString(36).substring(2)}.${C}`}`,{error:S}=await K.storage.from("images").upload(I,k,{cacheControl:"3600",upsert:!1});if(S)return console.error("Error uploading image:",S),(_=S.message)!=null&&_.includes("Bucket not found")?{url:null,error:{message:'Storage bucket not found. Please create an "images" bucket in your Supabase dashboard under Storage.'}}:(R=S.message)!=null&&R.includes("row-level security")||(M=S.message)!=null&&M.includes("policy")?{url:null,error:{message:"Storage permissions error. Please check your Supabase storage policies or contact an administrator."}}:{url:null,error:S};const{data:F}=K.storage.from("images").getPublicUrl(I);return{url:F.publicUrl,error:null}}catch(q){return console.error("Error in uploadProductImage:",q),{url:null,error:q}}},deleteProductImage:async k=>{try{const M=new URL(k).pathname.split("/").slice(-2).join("/"),{error:q}=await K.storage.from("images").remove([M]);return q?(console.error("Error deleting image:",q),{error:q}):{error:null}}catch(_){return console.error("Error in deleteProductImage:",_),{error:_}}},diagnoseSupabase:async()=>(console.log("🔍 Running Supabase Diagnostics..."),await wT(),await vT())}}function bT({className:e=""}){const t=Tt(),[r,n]=x.useState(!1),[s,o]=x.useState(!1);x.useEffect(()=>{const d=()=>{o(window.innerWidth>=1024)};return d(),window.addEventListener("resize",d),()=>window.removeEventListener("resize",d)},[]);const a=[{title:"Dashboard",href:"/admin",icon:LC,description:"Overview & Analytics"},{title:"Products",href:"/admin/products",icon:Wr,description:"Manage Templates"},{title:"Categories",href:"/admin/categories",icon:oi,description:"Product Categories"},{title:"Users",href:"/admin/users",icon:Hr,description:"User Accounts"},{title:"Orders",href:"/admin/orders",icon:ms,description:"Order Management"},{title:"Messages",href:"/admin/contacts",icon:Be,description:"Customer Messages"}],l=d=>d==="/admin"?t.pathname==="/admin":t.pathname.startsWith(d),c=()=>{n(!r)},u=()=>{n(!1)};return i.jsxs(i.Fragment,{children:[i.jsx("button",{onClick:c,className:"fixed top-24 left-4 z-50 lg:hidden bg-code-gray-light border border-gray-700 rounded-lg p-2 text-white hover:bg-code-gray transition-colors",children:r?i.jsx(kt,{className:"w-5 h-5"}):i.jsx(uv,{className:"w-5 h-5"})}),i.jsx(_s,{children:r&&i.jsx(U.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:u,className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-40 lg:hidden"})}),i.jsx(U.aside,{initial:!1,animate:{x:s||r?0:-300},transition:{type:"spring",damping:25,stiffness:200},className:`fixed top-20 left-0 h-[calc(100vh-5rem)] w-64 bg-code-gray-light border-r border-gray-700 z-40 overflow-y-auto lg:static lg:z-auto lg:h-screen lg:top-0 ${e}`,children:i.jsxs("div",{className:"p-4 pt-24 lg:pt-24",children:[i.jsxs("div",{className:"mb-6",children:[i.jsx("h2",{className:"text-base font-mono text-white mb-1",children:"Admin Panel"}),i.jsx("p",{className:"text-xs font-mono text-gray-400",children:"Quick Actions"})]}),i.jsx("nav",{className:"space-y-1",children:a.map(d=>{const h=l(d.href),f=d.icon;return i.jsxs(J,{to:d.href,onClick:u,className:`flex items-center gap-2 p-2 rounded font-mono text-sm transition-all duration-200 group ${h?"bg-electric-violet text-white shadow-lg shadow-electric-violet/25":"text-gray-300 hover:text-white hover:bg-code-gray"}`,children:[i.jsx("div",{className:`flex items-center justify-center w-6 h-6 rounded transition-colors ${h?"bg-white/20":"bg-gray-700 group-hover:bg-gray-600"}`,children:i.jsx(f,{className:`w-3 h-3 ${h?"text-white":"text-gray-400 group-hover:text-white"}`})}),i.jsx("div",{className:"flex-1 min-w-0",children:i.jsx("div",{className:"font-medium truncate",children:d.title})}),h&&i.jsx(CC,{className:"w-3 h-3 text-white/70 flex-shrink-0"})]},d.href)})}),i.jsxs("div",{className:"mt-6 pt-4 border-t border-gray-700",children:[i.jsxs("p",{className:"text-xs font-mono text-gray-500 text-center",children:["Studio ",i.jsx("span",{className:"cursor-blink",children:"Nullbyte"})]}),i.jsx("p",{className:"text-xs font-mono text-gray-600 text-center",children:"v1.0.0"})]})]})})]})}function Us({children:e}){return i.jsx("div",{className:"min-h-screen bg-black",children:i.jsxs("div",{className:"flex",children:[i.jsx(bT,{}),i.jsx("main",{className:"flex-1 w-full min-w-0 pt-20",children:e})]})})}function jT(){const{isAdmin:e,loading:t,getAdminStats:r}=Rn(),n=Ze(),[s,o]=x.useState({totalUsers:0,totalProducts:0,totalOrders:0,totalRevenue:0,pendingOrders:0,newContactSubmissions:0}),[a,l]=x.useState(!0);if(x.useEffect(()=>{!t&&!e&&n("/")},[e,t,n]),x.useEffect(()=>{(async()=>{if(e)try{const d=await r();o(d)}catch{}finally{l(!1)}})()},[e,r]),t)return i.jsx("div",{className:"min-h-screen bg-black flex items-center justify-center",children:i.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-electric-violet"})});if(!e)return null;const c=[{title:"Total Users",value:s.totalUsers,icon:Hr,color:"bg-blue-500/10 border-blue-500/20 text-blue-400",trend:"+12% from last month"},{title:"Products",value:s.totalProducts,icon:Wr,color:"bg-green-500/10 border-green-500/20 text-green-400",trend:"+3 new this month"},{title:"Total Orders",value:s.totalOrders,icon:ms,color:"bg-purple-500/10 border-purple-500/20 text-purple-400",trend:"+8% from last month"},{title:"Revenue",value:`$${s.totalRevenue.toFixed(2)}`,icon:av,color:"bg-electric-violet/10 border-electric-violet/20 text-electric-violet",trend:"+15% from last month"},{title:"Pending Orders",value:s.pendingOrders,icon:$t,color:"bg-yellow-500/10 border-yellow-500/20 text-yellow-400",trend:"Needs attention"},{title:"New Messages",value:s.newContactSubmissions,icon:Be,color:"bg-red-500/10 border-red-500/20 text-red-400",trend:"Unread submissions"}];return i.jsxs(Us,{children:[i.jsxs(Oe,{children:[i.jsx("title",{children:"Admin Dashboard - Studio Nullbyte"}),i.jsx("meta",{name:"description",content:"Studio Nullbyte admin dashboard for managing templates, users, and orders."}),i.jsx("meta",{name:"robots",content:"noindex, nofollow"})]}),i.jsx("div",{className:"pb-6",children:i.jsx("div",{className:"w-full px-4 py-6",children:i.jsxs(U.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"w-full",children:[i.jsxs("div",{className:"mb-8",children:[i.jsx("div",{className:"flex items-center justify-between mb-4",children:i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx(kC,{className:"w-6 h-6 text-electric-violet"}),i.jsx("h1",{className:"text-3xl font-mono text-white",children:"Admin Dashboard"})]})}),i.jsx("p",{className:"text-gray-400 font-mono",children:"Manage templates, users, and orders for Studio Nullbyte"})]}),i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 mb-8",children:c.map((u,d)=>{const h=u.icon;return i.jsxs(U.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:d*.1},className:`bg-code-gray-light border rounded-lg p-6 ${u.color}`,children:[i.jsxs("div",{className:"flex items-center justify-between mb-4",children:[i.jsx(h,{className:"w-8 h-8"}),i.jsx("span",{className:"text-2xl font-mono font-bold",children:a?"...":u.value})]}),i.jsx("h3",{className:"text-white font-mono text-sm mb-1",children:u.title}),u.trend&&i.jsx("p",{className:"text-gray-400 font-mono text-xs",children:u.trend})]},u.title)})}),i.jsxs(U.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:1},className:"bg-code-gray-light border border-gray-700 rounded-lg p-6",children:[i.jsxs("h2",{className:"text-xl font-mono text-white mb-4 flex items-center gap-2",children:[i.jsx(PC,{className:"w-5 h-5 text-electric-violet"}),"System Overview"]}),i.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[i.jsxs("div",{className:"bg-code-gray border border-gray-600 rounded p-4",children:[i.jsx("h3",{className:"text-white font-mono mb-3",children:"Recent Activity"}),i.jsxs("div",{className:"space-y-3",children:[i.jsxs("div",{className:"flex items-center justify-between text-sm",children:[i.jsx("span",{className:"text-gray-400 font-mono",children:"New orders today"}),i.jsx("span",{className:"text-electric-violet font-mono",children:a?"...":Math.floor(s.totalOrders*.1)})]}),i.jsxs("div",{className:"flex items-center justify-between text-sm",children:[i.jsx("span",{className:"text-gray-400 font-mono",children:"Products sold this week"}),i.jsx("span",{className:"text-green-400 font-mono",children:a?"...":Math.floor(s.totalOrders*.3)})]}),i.jsxs("div",{className:"flex items-center justify-between text-sm",children:[i.jsx("span",{className:"text-gray-400 font-mono",children:"New users this month"}),i.jsx("span",{className:"text-blue-400 font-mono",children:a?"...":Math.floor(s.totalUsers*.2)})]})]})]}),i.jsxs("div",{className:"bg-code-gray border border-gray-600 rounded p-4",children:[i.jsx("h3",{className:"text-white font-mono mb-3",children:"System Status"}),i.jsxs("div",{className:"space-y-3",children:[i.jsxs("div",{className:"flex items-center justify-between text-sm",children:[i.jsx("span",{className:"text-gray-400 font-mono",children:"Database"}),i.jsx("span",{className:"text-green-400 font-mono",children:"● Online"})]}),i.jsxs("div",{className:"flex items-center justify-between text-sm",children:[i.jsx("span",{className:"text-gray-400 font-mono",children:"Authentication"}),i.jsx("span",{className:"text-green-400 font-mono",children:"● Active"})]}),i.jsxs("div",{className:"flex items-center justify-between text-sm",children:[i.jsx("span",{className:"text-gray-400 font-mono",children:"File Storage"}),i.jsx("span",{className:"text-green-400 font-mono",children:"● Ready"})]})]})]})]})]})]})})})]})}function Es({children:e}){const{loading:t}=gr(),{isAdmin:r,loading:n}=Rn(),s=Ze(),o=t||n;return x.useEffect(()=>{const a=()=>{s("/",{replace:!0})};return window.addEventListener("session-expired",a),()=>window.removeEventListener("session-expired",a)},[s]),x.useEffect(()=>{!o&&!r&&s("/",{replace:!0})},[o,r,s,t,n]),o?i.jsx("div",{className:"min-h-screen bg-black flex items-center justify-center",children:i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"w-8 h-8 border-2 border-electric-violet border-t-transparent rounded-full animate-spin mx-auto mb-4"}),i.jsx("p",{className:"text-gray-400 font-mono",children:"Verifying admin access..."})]})}):r?i.jsx(i.Fragment,{children:e}):i.jsx("div",{className:"min-h-screen bg-black flex items-center justify-center",children:i.jsx("div",{className:"text-center",children:i.jsx("p",{className:"text-gray-400 font-mono",children:"Access denied. Redirecting..."})})})}const NT=(e=1e4)=>{let t=null;const r=o=>{t&&globalThis.clearTimeout(t),t=setTimeout(()=>{o(!1)},e)},n=()=>{t&&(globalThis.clearTimeout(t),t=null)};return{startTimeout:r,clearTimeout:n,setLoadingWithTimeout:(o,a)=>{o(a),a?r(o):n()}}},ST=(e=!0,t=1e4)=>{const[r,n]=x.useState(e),s=NT(t);return x.useEffect(()=>(r&&s.startTimeout(n),()=>s.clearTimeout()),[r,s]),[r,a=>{s.setLoadingWithTimeout(n,a)}]};function _T(){const{isAdmin:e,getProducts:t,getCategories:r,createProduct:n,updateProduct:s,deleteProduct:o,uploadProductImage:a}=Rn(),[l,c]=x.useState([]),[u,d]=x.useState([]),[h,f]=x.useState([]),[p,v]=ST(!0,8e3),[b,w]=x.useState(""),[g,y]=x.useState(""),[m,j]=x.useState(!1),[N,E]=x.useState(!1),[P,T]=x.useState(null),[$,V]=x.useState(!1),[D,z]=x.useState(""),[k,_]=x.useState(""),[R,M]=x.useState("url"),[q,C]=x.useState(null),[A,I]=x.useState(null),[S,F]=x.useState({title:"",description:"",price:"",category_id:"",image_url:"",download_url:"",preview_url:"",tags:"",featured:!1,active:!0});x.useEffect(()=>{(async()=>{if(e)try{const[G,xt]=await Promise.all([t(),r()]);c(G),d(xt)}catch{_("Failed to load products")}finally{v(!1)}})()},[e,t,r]),x.useEffect(()=>{let O=l;b&&(O=O.filter(G=>G.title.toLowerCase().includes(b.toLowerCase())||G.description.toLowerCase().includes(b.toLowerCase())||G.tags.some(xt=>xt.toLowerCase().includes(b.toLowerCase())))),g&&(O=O.filter(G=>G.category_id===g)),m&&(O=O.filter(G=>G.active)),f(O)},[l,b,g,m]);const se=()=>{F({title:"",description:"",price:"",category_id:"",image_url:"",download_url:"",preview_url:"",tags:"",featured:!1,active:!0}),T(null),E(!1),_(""),z(""),I(null),C(""),M("url")},B=()=>{se(),E(!0)},ee=O=>{F({title:O.title,description:O.description,price:O.price.toString(),category_id:O.category_id,image_url:O.image_url||"",download_url:O.download_url||"",preview_url:O.preview_url||"",tags:O.tags.join(", "),featured:O.featured,active:O.active}),T(O),E(!0),I(null),C(""),M((O.image_url,"url"))},re=async O=>{O.preventDefault(),V(!0),_("");try{let G=S.image_url.trim();if(A){const qe=await ct();if(!qe){V(!1);return}G=qe}const xt={title:S.title.trim(),description:S.description.trim(),price:parseFloat(S.price),category_id:S.category_id,image_url:G||null,download_url:S.download_url.trim()||null,preview_url:S.preview_url.trim()||null,tags:S.tags.split(",").map(qe=>qe.trim()).filter(qe=>qe),featured:S.featured,active:S.active};let ut;if(P?ut=await s(P.id,xt):ut=await n(xt),ut.error)_("Failed to save product"),console.error("❌ Failed to save product:",ut.error);else{z(P?"Product updated successfully!":"Product created successfully!");try{const qe=await t();c(qe),f(qe)}catch{}setTimeout(()=>{se()},1500)}}catch(G){_(G.message||"An unexpected error occurred")}finally{V(!1)}},Se=async(O,G)=>{if(confirm(`Are you sure you want to delete "${G}"? This action cannot be undone.`))try{(await o(O)).error?_("Failed to delete product"):(z("Product deleted successfully!"),c(l.filter(ut=>ut.id!==O)))}catch{_("An unexpected error occurred")}},Jt=O=>{var Ch;const G=(Ch=O.target.files)==null?void 0:Ch[0];if(!G)return;if(!["image/jpeg","image/jpg","image/png","image/gif","image/webp"].includes(G.type)){_("Please select a valid image file (JPEG, PNG, GIF, or WebP)");return}const ut=5*1024*1024;if(G.size>ut){_("Image file must be smaller than 5MB");return}I(G);const qe=new FileReader;qe.onload=bl=>{var Eh;C((Eh=bl.target)==null?void 0:Eh.result)},qe.readAsDataURL(G),F(bl=>({...bl,image_url:""}))},ct=async()=>{if(!A)return null;try{const{url:O,error:G}=await a(A);return G?(_("Failed to upload image: "+(G.message||"Unknown error")),null):O}catch(O){return _("Failed to upload image: "+(O instanceof Error?O.message:"Unknown error")),null}},Qt=O=>{F(G=>({...G,image_url:O})),C(O||null),I(null)},Zt=()=>{C(null),I(null),F(O=>({...O,image_url:""}))};return p?i.jsx(Es,{children:i.jsx("div",{className:"min-h-screen bg-black flex items-center justify-center",children:i.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-electric-violet"})})}):i.jsx(Es,{children:i.jsxs(Us,{children:[i.jsxs(Oe,{children:[i.jsx("title",{children:"Manage Products - Admin - Studio Nullbyte"}),i.jsx("meta",{name:"robots",content:"noindex, nofollow"})]}),i.jsx("div",{className:"pb-6",children:i.jsx("div",{className:"w-full px-4 py-6",children:i.jsxs(U.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"w-full",children:[i.jsxs("div",{className:"mb-8",children:[i.jsxs("div",{className:"flex items-center justify-between mb-4",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx(Wr,{className:"w-6 h-6 text-electric-violet"}),i.jsx("h1",{className:"text-3xl font-mono text-white",children:"Manage Products"})]}),i.jsxs("button",{onClick:B,className:"flex items-center gap-2 bg-electric-violet hover:bg-electric-violet-light text-white font-mono px-4 py-2 rounded transition-colors",children:[i.jsx(_h,{className:"w-4 h-4"}),"Add Product"]})]}),i.jsx("p",{className:"text-gray-400 font-mono",children:"Manage your template catalog and product listings"})]}),D&&i.jsxs(U.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"flex items-center gap-2 bg-terminal-green/10 border border-terminal-green/30 rounded p-3 mb-6",children:[i.jsx(fe,{className:"w-4 h-4 text-terminal-green"}),i.jsx("span",{className:"text-sm font-mono text-terminal-green",children:D})]}),k&&i.jsxs(U.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"flex items-center gap-2 bg-red-500/10 border border-red-500/30 rounded p-3 mb-6",children:[i.jsx(Ye,{className:"w-4 h-4 text-red-400"}),i.jsx("span",{className:"text-sm font-mono text-red-400",children:k})]}),i.jsx("div",{className:"bg-code-gray-light border border-gray-700 rounded-lg p-6 mb-6",children:i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[i.jsxs("div",{className:"relative",children:[i.jsx(Pn,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-400"}),i.jsx("input",{type:"text",placeholder:"Search products...",value:b,onChange:O=>w(O.target.value),className:"w-full bg-code-gray border border-gray-600 pl-10 pr-4 py-2 rounded font-mono text-white placeholder-gray-500 focus:outline-none focus:border-electric-violet transition-colors"})]}),i.jsxs("div",{className:"relative",children:[i.jsx(Cs,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-400"}),i.jsxs("select",{value:g,onChange:O=>y(O.target.value),className:"w-full bg-code-gray border border-gray-600 pl-10 pr-4 py-2 rounded font-mono text-white focus:outline-none focus:border-electric-violet transition-colors appearance-none",children:[i.jsx("option",{value:"",children:"All Categories"}),u.map(O=>i.jsx("option",{value:O.id,children:O.name},O.id))]})]}),i.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[i.jsx("input",{type:"checkbox",checked:m,onChange:O=>j(O.target.checked),className:"w-4 h-4 text-electric-violet bg-code-gray border-gray-600 rounded focus:ring-electric-violet focus:ring-2"}),i.jsx("span",{className:"font-mono text-white text-sm",children:"Active only"})]}),i.jsx("div",{className:"flex items-center justify-end",children:i.jsxs("span",{className:"font-mono text-gray-400 text-sm",children:[h.length," of ",l.length," products"]})})]})}),i.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 xl:grid-cols-3 gap-6",children:h.map((O,G)=>{var xt;return i.jsxs(U.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:G*.1},className:`bg-code-gray-light border rounded-lg overflow-hidden hover:border-electric-violet/50 transition-colors ${O.active?"":"opacity-60"}`,children:[i.jsxs("div",{className:"aspect-video bg-code-gray relative",children:[O.image_url?i.jsx("img",{src:`${O.image_url}${O.image_url.includes("?")?"&":"?"}t=${O.updated_at||Date.now()}`,alt:O.title,className:"w-full h-full object-cover",onError:ut=>{const qe=ut.target;qe.style.display="none"}}):i.jsx("div",{className:"w-full h-full flex items-center justify-center",children:i.jsx(Wr,{className:"w-12 h-12 text-gray-600"})}),i.jsxs("div",{className:"absolute top-3 left-3 flex gap-2",children:[O.featured&&i.jsxs("span",{className:"flex items-center gap-1 bg-yellow-500/90 text-black px-2 py-1 rounded text-xs font-mono",children:[i.jsx(HC,{className:"w-3 h-3"}),"Featured"]}),!O.active&&i.jsxs("span",{className:"flex items-center gap-1 bg-red-500/90 text-white px-2 py-1 rounded text-xs font-mono",children:[i.jsx(qr,{className:"w-3 h-3"}),"Inactive"]})]})]}),i.jsxs("div",{className:"p-4",children:[i.jsxs("div",{className:"flex items-start justify-between mb-2",children:[i.jsx("h3",{className:"font-mono text-white font-semibold line-clamp-1",children:O.title}),i.jsxs("span",{className:"font-mono text-electric-violet font-bold",children:["$",O.price]})]}),i.jsx("p",{className:"text-gray-400 font-mono text-sm mb-3 line-clamp-2",children:O.description}),i.jsxs("div",{className:"flex items-center justify-between text-xs",children:[i.jsx("span",{className:"text-gray-500 font-mono",children:(xt=O.category)==null?void 0:xt.name}),i.jsx("span",{className:"text-gray-500 font-mono",children:new Date(O.created_at).toLocaleDateString()})]}),O.tags.length>0&&i.jsxs("div",{className:"flex flex-wrap gap-1 mt-3",children:[O.tags.slice(0,3).map(ut=>i.jsx("span",{className:"bg-code-gray text-gray-300 px-2 py-1 rounded text-xs font-mono",children:ut},ut)),O.tags.length>3&&i.jsxs("span",{className:"text-gray-500 text-xs font-mono",children:["+",O.tags.length-3," more"]})]}),i.jsxs("div",{className:"flex items-center gap-2 mt-4 pt-3 border-t border-gray-700",children:[i.jsxs("button",{onClick:()=>ee(O),className:"flex items-center gap-1 bg-blue-500 hover:bg-blue-600 text-white px-3 py-1 rounded text-xs font-mono transition-colors",children:[i.jsx(vl,{className:"w-3 h-3"}),"Edit"]}),O.preview_url&&i.jsxs("a",{href:O.preview_url,target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-1 bg-green-500 hover:bg-green-600 text-white px-3 py-1 rounded text-xs font-mono transition-colors",children:[i.jsx(Vt,{className:"w-3 h-3"}),"Preview"]}),i.jsxs("button",{onClick:()=>Se(O.id,O.title),className:"flex items-center gap-1 bg-red-500 hover:bg-red-600 text-white px-3 py-1 rounded text-xs font-mono transition-colors ml-auto",children:[i.jsx(wl,{className:"w-3 h-3"}),"Delete"]})]})]})]},O.id)})}),h.length===0&&!p&&i.jsxs("div",{className:"text-center py-12",children:[i.jsx(Wr,{className:"w-16 h-16 text-gray-600 mx-auto mb-4"}),i.jsx("h3",{className:"text-lg font-mono text-gray-400 mb-2",children:"No products found"}),i.jsx("p",{className:"text-gray-500 font-mono text-sm mb-6",children:b||g?"Try adjusting your filters":"Get started by adding your first product"}),!b&&!g&&i.jsx("button",{onClick:B,className:"bg-electric-violet hover:bg-electric-violet-light text-white font-mono py-2 px-4 rounded transition-colors",children:"Add First Product"})]})]})})}),N&&i.jsx("div",{className:"fixed inset-0 bg-black/80 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:i.jsx(U.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},className:"bg-code-gray-light border border-gray-700 rounded-lg w-full max-w-2xl max-h-[90vh] overflow-y-auto",children:i.jsxs("form",{onSubmit:re,className:"p-6",children:[i.jsxs("div",{className:"flex items-center justify-between mb-6",children:[i.jsx("h2",{className:"text-xl font-mono text-white",children:P?"Edit Product":"Add New Product"}),i.jsx("button",{type:"button",onClick:se,className:"text-gray-400 hover:text-white transition-colors",children:i.jsx(kt,{className:"w-6 h-6"})})]}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-mono text-gray-300 mb-2",children:"Product Title *"}),i.jsx("input",{type:"text",value:S.title,onChange:O=>F(G=>({...G,title:O.target.value})),className:"w-full bg-code-gray border border-gray-600 px-4 py-3 rounded font-mono text-white placeholder-gray-500 focus:outline-none focus:border-electric-violet transition-colors",placeholder:"Enter product title",required:!0})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-mono text-gray-300 mb-2",children:"Description *"}),i.jsx("textarea",{value:S.description,onChange:O=>F(G=>({...G,description:O.target.value})),rows:4,className:"w-full bg-code-gray border border-gray-600 px-4 py-3 rounded font-mono text-white placeholder-gray-500 focus:outline-none focus:border-electric-violet transition-colors resize-none",placeholder:"Enter product description",required:!0})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-mono text-gray-300 mb-2",children:"Price ($) *"}),i.jsx("input",{type:"number",step:"0.01",min:"0",value:S.price,onChange:O=>F(G=>({...G,price:O.target.value})),className:"w-full bg-code-gray border border-gray-600 px-4 py-3 rounded font-mono text-white placeholder-gray-500 focus:outline-none focus:border-electric-violet transition-colors",placeholder:"0.00",required:!0})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-mono text-gray-300 mb-2",children:"Category *"}),i.jsxs("select",{value:S.category_id,onChange:O=>F(G=>({...G,category_id:O.target.value})),className:"w-full bg-code-gray border border-gray-600 px-4 py-3 rounded font-mono text-white focus:outline-none focus:border-electric-violet transition-colors",required:!0,children:[i.jsx("option",{value:"",children:"Select category"}),u.map(O=>i.jsx("option",{value:O.id,children:O.name},O.id))]})]})]}),i.jsxs("div",{className:"space-y-4",children:[i.jsx("label",{className:"block text-sm font-mono text-gray-300",children:"Product Image"}),i.jsxs("div",{className:"flex space-x-4",children:[i.jsx("button",{type:"button",onClick:()=>M("upload"),className:`px-4 py-2 rounded font-mono text-sm transition-colors ${R==="upload"?"bg-electric-violet text-white":"bg-gray-700 text-gray-300 hover:bg-gray-600"}`,children:"Upload File"}),i.jsx("button",{type:"button",onClick:()=>M("url"),className:`px-4 py-2 rounded font-mono text-sm transition-colors ${R==="url"?"bg-electric-violet text-white":"bg-gray-700 text-gray-300 hover:bg-gray-600"}`,children:"From URL"})]}),R==="upload"&&i.jsxs("div",{className:"space-y-2",children:[i.jsx("input",{type:"file",accept:"image/*",onChange:Jt,className:`block w-full text-gray-300 font-mono text-sm\r
                                 file:mr-4 file:py-2 file:px-4\r
                                 file:rounded file:border-0\r
                                 file:bg-electric-violet file:text-white\r
                                 file:font-mono file:text-sm\r
                                 hover:file:bg-electric-violet-dark`}),k&&k.includes("image")&&i.jsx("p",{className:"text-red-400 font-mono text-sm",children:k})]}),R==="url"&&i.jsx("input",{type:"url",value:S.image_url,onChange:O=>{F(G=>({...G,image_url:O.target.value})),Qt(O.target.value)},placeholder:"https://example.com/image.jpg",className:"w-full bg-code-gray border border-gray-600 px-4 py-3 rounded font-mono text-white placeholder-gray-500 focus:outline-none focus:border-electric-violet transition-colors"}),(q||S.image_url)&&i.jsxs("div",{className:"relative inline-block",children:[i.jsx("img",{src:q||S.image_url,alt:"Product preview",className:"w-32 h-32 object-cover rounded border border-gray-600",onError:O=>{const G=O.target;G.style.display="none"}}),i.jsx("button",{type:"button",onClick:Zt,className:`absolute -top-2 -right-2 w-6 h-6 bg-red-500 text-white rounded-full\r
                                 flex items-center justify-center hover:bg-red-600 font-mono text-sm`,children:"×"})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-mono text-gray-300 mb-2",children:"Download URL"}),i.jsx("input",{type:"url",value:S.download_url,onChange:O=>F(G=>({...G,download_url:O.target.value})),className:"w-full bg-code-gray border border-gray-600 px-4 py-3 rounded font-mono text-white placeholder-gray-500 focus:outline-none focus:border-electric-violet transition-colors",placeholder:"https://example.com/download"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-mono text-gray-300 mb-2",children:"Preview URL"}),i.jsx("input",{type:"url",value:S.preview_url,onChange:O=>F(G=>({...G,preview_url:O.target.value})),className:"w-full bg-code-gray border border-gray-600 px-4 py-3 rounded font-mono text-white placeholder-gray-500 focus:outline-none focus:border-electric-violet transition-colors",placeholder:"https://example.com/preview"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-mono text-gray-300 mb-2",children:"Tags (comma-separated)"}),i.jsx("input",{type:"text",value:S.tags,onChange:O=>F(G=>({...G,tags:O.target.value})),className:"w-full bg-code-gray border border-gray-600 px-4 py-3 rounded font-mono text-white placeholder-gray-500 focus:outline-none focus:border-electric-violet transition-colors",placeholder:"React, TypeScript, Template"})]}),i.jsxs("div",{className:"flex items-center gap-6",children:[i.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[i.jsx("input",{type:"checkbox",checked:S.featured,onChange:O=>F(G=>({...G,featured:O.target.checked})),className:"w-4 h-4 text-electric-violet bg-code-gray border-gray-600 rounded focus:ring-electric-violet focus:ring-2"}),i.jsx("span",{className:"font-mono text-white text-sm",children:"Featured Product"})]}),i.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[i.jsx("input",{type:"checkbox",checked:S.active,onChange:O=>F(G=>({...G,active:O.target.checked})),className:"w-4 h-4 text-electric-violet bg-code-gray border-gray-600 rounded focus:ring-electric-violet focus:ring-2"}),i.jsx("span",{className:"font-mono text-white text-sm",children:"Active"})]})]})]}),i.jsxs("div",{className:"flex items-center gap-3 mt-8 pt-6 border-t border-gray-700",children:[i.jsxs("button",{type:"submit",disabled:$,className:"flex items-center gap-2 bg-electric-violet hover:bg-electric-violet-light disabled:opacity-50 disabled:cursor-not-allowed text-white font-mono py-3 px-6 rounded transition-colors",children:[i.jsx(oo,{className:"w-4 h-4"}),$?"Saving...":P?"Update Product":"Create Product"]}),i.jsx("button",{type:"button",onClick:se,className:"bg-gray-600 hover:bg-gray-700 text-white font-mono py-3 px-6 rounded transition-colors",children:"Cancel"})]})]})})})]})})}function kT(){const{isAdmin:e,loading:t,getUsers:r,updateUser:n,deleteUser:s}=Rn(),o=Ze(),[a,l]=x.useState([]),[c,u]=x.useState([]),[d,h]=x.useState(!0),[f,p]=x.useState(""),[v,b]=x.useState(""),[w,g]=x.useState(""),[y,m]=x.useState(!1),[j,N]=x.useState(null),[E,P]=x.useState(!1),[T,$]=x.useState(""),[V,D]=x.useState(""),[z,k]=x.useState({first_name:"",last_name:"",role:"user",is_active:!0});x.useEffect(()=>{!t&&!e&&o("/")},[e,t,o]),x.useEffect(()=>{(async()=>{if(e)try{const F=await r();l(F)}catch{D("Failed to load users")}finally{h(!1)}})()},[e,r]),x.useEffect(()=>{let S=a;if(f){const F=f.toLowerCase();S=S.filter(se=>se.email.toLowerCase().includes(F)||se.first_name&&se.first_name.toLowerCase().includes(F)||se.last_name&&se.last_name.toLowerCase().includes(F))}v&&(S=S.filter(F=>F.role===v)),w&&(w==="active"?S=S.filter(F=>F.is_active):w==="inactive"?S=S.filter(F=>!F.is_active):w==="verified"?S=S.filter(F=>F.email_confirmed_at!==null):w==="unverified"&&(S=S.filter(F=>F.email_confirmed_at===null))),u(S)},[a,f,v,w]);const _=()=>{k({first_name:"",last_name:"",role:"user",is_active:!0}),N(null),m(!1),D(""),$("")},R=S=>{k({first_name:S.first_name||"",last_name:S.last_name||"",role:S.role,is_active:S.is_active}),N(S),m(!0)},M=async S=>{if(S.preventDefault(),P(!0),D(""),!j){D("No user selected for editing"),P(!1);return}try{const F={first_name:z.first_name.trim()||null,last_name:z.last_name.trim()||null,role:z.role,is_active:z.is_active};(await n(j.id,F)).error?D("Failed to update user"):($("User updated successfully!"),l(a.map(B=>B.id===j.id?{...B,...F}:B)),setTimeout(()=>{_()},1500))}catch(F){D(F.message||"An unexpected error occurred")}finally{P(!1)}},q=async(S,F)=>{if(confirm(`Are you sure you want to delete user "${F}"? This action cannot be undone.`))try{(await s(S)).error?D("Failed to delete user"):($("User deleted successfully!"),l(a.filter(B=>B.id!==S)))}catch{D("An unexpected error occurred")}},C=S=>S.first_name||S.last_name?`${S.first_name||""} ${S.last_name||""}`.trim():S.email.split("@")[0],A=()=>({total:a.length,active:a.filter(S=>S.is_active).length,admins:a.filter(S=>S.role==="admin").length,verified:a.filter(S=>S.email_confirmed_at!==null).length});if(t||d)return i.jsx("div",{className:"min-h-screen bg-black flex items-center justify-center",children:i.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-electric-violet"})});if(!e)return null;const I=A();return i.jsxs(Us,{children:[i.jsxs(Oe,{children:[i.jsx("title",{children:"Manage Users - Admin - Studio Nullbyte"}),i.jsx("meta",{name:"robots",content:"noindex, nofollow"})]}),i.jsx("div",{className:"pb-6",children:i.jsx("div",{className:"w-full px-4 py-6",children:i.jsxs(U.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"w-full",children:[i.jsxs("div",{className:"mb-8",children:[i.jsx("div",{className:"flex items-center justify-between mb-4",children:i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx(Hr,{className:"w-6 h-6 text-electric-violet"}),i.jsx("h1",{className:"text-3xl font-mono text-white",children:"Manage Users"})]})}),i.jsx("p",{className:"text-gray-400 font-mono",children:"View and manage user accounts and permissions"})]}),T&&i.jsxs(U.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"flex items-center gap-2 bg-terminal-green/10 border border-terminal-green/30 rounded p-3 mb-6",children:[i.jsx(fe,{className:"w-4 h-4 text-terminal-green"}),i.jsx("span",{className:"text-sm font-mono text-terminal-green",children:T})]}),V&&i.jsxs(U.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"flex items-center gap-2 bg-red-500/10 border border-red-500/30 rounded p-3 mb-6",children:[i.jsx(Ye,{className:"w-4 h-4 text-red-400"}),i.jsx("span",{className:"text-sm font-mono text-red-400",children:V})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-6",children:[i.jsx("div",{className:"bg-code-gray-light border border-gray-700 rounded-lg p-4",children:i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx(Hr,{className:"w-8 h-8 text-electric-violet"}),i.jsxs("div",{children:[i.jsx("p",{className:"text-2xl font-mono text-white font-bold",children:I.total}),i.jsx("p",{className:"text-gray-400 font-mono text-sm",children:"Total Users"})]})]})}),i.jsx("div",{className:"bg-code-gray-light border border-gray-700 rounded-lg p-4",children:i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx(fe,{className:"w-8 h-8 text-terminal-green"}),i.jsxs("div",{children:[i.jsx("p",{className:"text-2xl font-mono text-white font-bold",children:I.active}),i.jsx("p",{className:"text-gray-400 font-mono text-sm",children:"Active Users"})]})]})}),i.jsx("div",{className:"bg-code-gray-light border border-gray-700 rounded-lg p-4",children:i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx(Np,{className:"w-8 h-8 text-yellow-500"}),i.jsxs("div",{children:[i.jsx("p",{className:"text-2xl font-mono text-white font-bold",children:I.admins}),i.jsx("p",{className:"text-gray-400 font-mono text-sm",children:"Administrators"})]})]})}),i.jsx("div",{className:"bg-code-gray-light border border-gray-700 rounded-lg p-4",children:i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx(qC,{className:"w-8 h-8 text-blue-500"}),i.jsxs("div",{children:[i.jsx("p",{className:"text-2xl font-mono text-white font-bold",children:I.verified}),i.jsx("p",{className:"text-gray-400 font-mono text-sm",children:"Verified Emails"})]})]})})]}),i.jsx("div",{className:"bg-code-gray-light border border-gray-700 rounded-lg p-6 mb-6",children:i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[i.jsxs("div",{className:"relative",children:[i.jsx(Pn,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-400"}),i.jsx("input",{type:"text",placeholder:"Search users...",value:f,onChange:S=>p(S.target.value),className:"w-full bg-code-gray border border-gray-600 pl-10 pr-4 py-2 rounded font-mono text-white placeholder-gray-500 focus:outline-none focus:border-electric-violet transition-colors"})]}),i.jsxs("div",{className:"relative",children:[i.jsx(Cs,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-400"}),i.jsxs("select",{value:v,onChange:S=>b(S.target.value),className:"w-full bg-code-gray border border-gray-600 pl-10 pr-4 py-2 rounded font-mono text-white focus:outline-none focus:border-electric-violet transition-colors appearance-none",children:[i.jsx("option",{value:"",children:"All Roles"}),i.jsx("option",{value:"user",children:"Users"}),i.jsx("option",{value:"admin",children:"Admins"})]})]}),i.jsxs("div",{className:"relative",children:[i.jsx(Cs,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-400"}),i.jsxs("select",{value:w,onChange:S=>g(S.target.value),className:"w-full bg-code-gray border border-gray-600 pl-10 pr-4 py-2 rounded font-mono text-white focus:outline-none focus:border-electric-violet transition-colors appearance-none",children:[i.jsx("option",{value:"",children:"All Status"}),i.jsx("option",{value:"active",children:"Active"}),i.jsx("option",{value:"inactive",children:"Inactive"}),i.jsx("option",{value:"verified",children:"Verified"}),i.jsx("option",{value:"unverified",children:"Unverified"})]})]}),i.jsx("div",{className:"flex items-center justify-end",children:i.jsxs("span",{className:"font-mono text-gray-400 text-sm",children:[c.length," of ",a.length," users"]})})]})}),i.jsxs("div",{className:"bg-code-gray-light border border-gray-700 rounded-lg overflow-hidden",children:[i.jsx("div",{className:"overflow-x-auto",children:i.jsxs("table",{className:"w-full",children:[i.jsx("thead",{className:"bg-code-gray border-b border-gray-700",children:i.jsxs("tr",{children:[i.jsx("th",{className:"text-left p-4 font-mono text-gray-300 text-sm",children:"User"}),i.jsx("th",{className:"text-left p-4 font-mono text-gray-300 text-sm",children:"Email"}),i.jsx("th",{className:"text-left p-4 font-mono text-gray-300 text-sm",children:"Role"}),i.jsx("th",{className:"text-left p-4 font-mono text-gray-300 text-sm",children:"Status"}),i.jsx("th",{className:"text-left p-4 font-mono text-gray-300 text-sm",children:"Joined"}),i.jsx("th",{className:"text-left p-4 font-mono text-gray-300 text-sm",children:"Last Sign In"}),i.jsx("th",{className:"text-left p-4 font-mono text-gray-300 text-sm",children:"Actions"})]})}),i.jsx("tbody",{children:c.map((S,F)=>i.jsxs(U.tr,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:F*.05},className:"border-b border-gray-700/50 hover:bg-code-gray/50 transition-colors",children:[i.jsx("td",{className:"p-4",children:i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"w-8 h-8 bg-electric-violet/20 rounded-full flex items-center justify-center",children:S.avatar_url?i.jsx("img",{src:S.avatar_url,alt:C(S),className:"w-8 h-8 rounded-full object-cover"}):i.jsx(at,{className:"w-4 h-4 text-electric-violet"})}),i.jsxs("div",{children:[i.jsx("p",{className:"font-mono text-white text-sm",children:C(S)}),S.role==="admin"&&i.jsxs("div",{className:"flex items-center gap-1 mt-1",children:[i.jsx(Np,{className:"w-3 h-3 text-yellow-500"}),i.jsx("span",{className:"text-xs font-mono text-yellow-500",children:"Admin"})]})]})]})}),i.jsx("td",{className:"p-4",children:i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(Be,{className:"w-4 h-4 text-gray-400"}),i.jsx("span",{className:"font-mono text-white text-sm",children:S.email}),S.email_confirmed_at&&i.jsx(fe,{className:"w-4 h-4 text-terminal-green"})]})}),i.jsx("td",{className:"p-4",children:i.jsxs("span",{className:`inline-flex items-center gap-1 px-2 py-1 rounded text-xs font-mono ${S.role==="admin"?"bg-yellow-500/20 text-yellow-400 border border-yellow-500/30":"bg-blue-500/20 text-blue-400 border border-blue-500/30"}`,children:[S.role==="admin"?i.jsx(Ir,{className:"w-3 h-3"}):i.jsx(at,{className:"w-3 h-3"}),S.role]})}),i.jsx("td",{className:"p-4",children:i.jsx("div",{className:"flex items-center gap-2",children:i.jsx("span",{className:`inline-flex items-center gap-1 px-2 py-1 rounded text-xs font-mono ${S.is_active?"bg-terminal-green/20 text-terminal-green border border-terminal-green/30":"bg-red-500/20 text-red-400 border border-red-500/30"}`,children:S.is_active?"Active":"Inactive"})})}),i.jsx("td",{className:"p-4",children:i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(Wi,{className:"w-4 h-4 text-gray-400"}),i.jsx("span",{className:"font-mono text-gray-300 text-sm",children:new Date(S.created_at).toLocaleDateString()})]})}),i.jsx("td",{className:"p-4",children:i.jsx("span",{className:"font-mono text-gray-300 text-sm",children:S.last_sign_in_at?new Date(S.last_sign_in_at).toLocaleDateString():"Never"})}),i.jsx("td",{className:"p-4",children:i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsxs("button",{onClick:()=>R(S),className:"flex items-center gap-1 bg-blue-500 hover:bg-blue-600 text-white px-3 py-1 rounded text-xs font-mono transition-colors",children:[i.jsx(vl,{className:"w-3 h-3"}),"Edit"]}),i.jsxs("button",{onClick:()=>q(S.id,S.email),className:"flex items-center gap-1 bg-red-500 hover:bg-red-600 text-white px-3 py-1 rounded text-xs font-mono transition-colors",children:[i.jsx(wl,{className:"w-3 h-3"}),"Delete"]})]})})]},S.id))})]})}),c.length===0&&i.jsxs("div",{className:"text-center py-12",children:[i.jsx(Hr,{className:"w-16 h-16 text-gray-600 mx-auto mb-4"}),i.jsx("h3",{className:"text-lg font-mono text-gray-400 mb-2",children:"No users found"}),i.jsx("p",{className:"text-gray-500 font-mono text-sm",children:f||v||w?"Try adjusting your filters":"No users have registered yet"})]})]})]})})}),y&&j&&i.jsx("div",{className:"fixed inset-0 bg-black/80 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:i.jsx(U.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},className:"bg-code-gray-light border border-gray-700 rounded-lg w-full max-w-md",children:i.jsxs("form",{onSubmit:M,className:"p-6",children:[i.jsxs("div",{className:"flex items-center justify-between mb-6",children:[i.jsx("h2",{className:"text-xl font-mono text-white",children:"Edit User"}),i.jsx("button",{type:"button",onClick:_,className:"text-gray-400 hover:text-white transition-colors",children:i.jsx(kt,{className:"w-6 h-6"})})]}),i.jsx("div",{className:"bg-code-gray border border-gray-600 rounded p-4 mb-6",children:i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"w-10 h-10 bg-electric-violet/20 rounded-full flex items-center justify-center",children:j.avatar_url?i.jsx("img",{src:j.avatar_url,alt:C(j),className:"w-10 h-10 rounded-full object-cover"}):i.jsx(at,{className:"w-5 h-5 text-electric-violet"})}),i.jsxs("div",{children:[i.jsx("p",{className:"font-mono text-white",children:j.email}),i.jsxs("p",{className:"font-mono text-gray-400 text-sm",children:["Joined ",new Date(j.created_at).toLocaleDateString()]})]})]})}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-mono text-gray-300 mb-2",children:"First Name"}),i.jsx("input",{type:"text",value:z.first_name,onChange:S=>k(F=>({...F,first_name:S.target.value})),className:"w-full bg-code-gray border border-gray-600 px-4 py-3 rounded font-mono text-white placeholder-gray-500 focus:outline-none focus:border-electric-violet transition-colors",placeholder:"Enter first name"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-mono text-gray-300 mb-2",children:"Last Name"}),i.jsx("input",{type:"text",value:z.last_name,onChange:S=>k(F=>({...F,last_name:S.target.value})),className:"w-full bg-code-gray border border-gray-600 px-4 py-3 rounded font-mono text-white placeholder-gray-500 focus:outline-none focus:border-electric-violet transition-colors",placeholder:"Enter last name"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-mono text-gray-300 mb-2",children:"Role"}),i.jsxs("select",{value:z.role,onChange:S=>k(F=>({...F,role:S.target.value})),className:"w-full bg-code-gray border border-gray-600 px-4 py-3 rounded font-mono text-white focus:outline-none focus:border-electric-violet transition-colors",children:[i.jsx("option",{value:"user",children:"User"}),i.jsx("option",{value:"admin",children:"Administrator"})]})]}),i.jsxs("div",{children:[i.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[i.jsx("input",{type:"checkbox",checked:z.is_active,onChange:S=>k(F=>({...F,is_active:S.target.checked})),className:"w-4 h-4 text-electric-violet bg-code-gray border-gray-600 rounded focus:ring-electric-violet focus:ring-2"}),i.jsx("span",{className:"font-mono text-white text-sm",children:"Active User"})]}),i.jsx("p",{className:"text-gray-500 font-mono text-xs mt-1",children:"Inactive users cannot sign in to their account"})]})]}),i.jsxs("div",{className:"flex items-center gap-3 mt-8 pt-6 border-t border-gray-700",children:[i.jsxs("button",{type:"submit",disabled:E,className:"flex items-center gap-2 bg-electric-violet hover:bg-electric-violet-light disabled:opacity-50 disabled:cursor-not-allowed text-white font-mono py-3 px-6 rounded transition-colors",children:[i.jsx(oo,{className:"w-4 h-4"}),E?"Saving...":"Update User"]}),i.jsx("button",{type:"button",onClick:_,className:"bg-gray-600 hover:bg-gray-700 text-white font-mono py-3 px-6 rounded transition-colors",children:"Cancel"})]})]})})})]})}const Op={pending:"bg-yellow-500/20 text-yellow-400 border-yellow-500/30",processing:"bg-blue-500/20 text-blue-400 border-blue-500/30",completed:"bg-terminal-green/20 text-terminal-green border-terminal-green/30",cancelled:"bg-red-500/20 text-red-400 border-red-500/30",refunded:"bg-purple-500/20 text-purple-400 border-purple-500/30"},Lp={pending:$t,processing:Wr,completed:fe,cancelled:kt,refunded:Ye};function PT(){var F,se;const{isAdmin:e,loading:t,getOrders:r,updateOrder:n}=Rn(),s=Ze(),[o,a]=x.useState([]),[l,c]=x.useState([]),[u,d]=x.useState(!0),[h,f]=x.useState(""),[p,v]=x.useState(""),[b,w]=x.useState(!1),[g,y]=x.useState(!1),[m,j]=x.useState(null),[N,E]=x.useState(null),[P,T]=x.useState(!1),[$,V]=x.useState(""),[D,z]=x.useState(""),[k,_]=x.useState({status:"pending",notes:""});x.useEffect(()=>{!t&&!e&&s("/")},[e,t,s]),x.useEffect(()=>{const B=async()=>{if(e)try{Ke.admin("Starting to fetch orders...");const re=await r();Ke.admin("Orders fetched successfully:",re),a(re),z("")}catch(re){Ke.error("Failed to load orders:",re),z(`Failed to load orders: ${re instanceof Error?re.message:"Unknown error"}`)}finally{d(!1)}else d(!1)},ee=setTimeout(()=>{u&&(d(!1),z("Request timed out. Please try refreshing the page."))},1e4);return B(),()=>clearTimeout(ee)},[e,r,u]),x.useEffect(()=>{let B=o;if(h){const ee=h.toLowerCase();B=B.filter(re=>{var Se,Jt,ct,Qt;return re.id.toLowerCase().includes(ee)||((Se=re.user_profiles)==null?void 0:Se.email.toLowerCase().includes(ee))||((ct=(Jt=re.user_profiles)==null?void 0:Jt.full_name)==null?void 0:ct.toLowerCase().includes(ee))||((Qt=re.payment_id)==null?void 0:Qt.toLowerCase().includes(ee))})}p&&(B=B.filter(ee=>ee.status===p)),c(B)},[o,h,p]);const R=()=>{_({status:"pending",notes:""}),j(null),E(null),w(!1),y(!1),z(""),V("")},M=B=>{j(B),w(!0)},q=B=>{_({status:B.status,notes:B.notes||""}),E(B),y(!0)},C=async B=>{if(B.preventDefault(),T(!0),z(""),!N){z("No order selected for editing"),T(!1);return}try{const ee={status:k.status,notes:k.notes.trim()||null};(await n(N.id,ee)).error?z("Failed to update order"):(V("Order updated successfully!"),a(o.map(Se=>Se.id===N.id?{...Se,...ee}:Se)),setTimeout(()=>{R()},1500))}catch(ee){z(ee.message||"An unexpected error occurred")}finally{T(!1)}},A=()=>({total:o.length,pending:o.filter(B=>B.status==="pending").length,processing:o.filter(B=>B.status==="processing").length,completed:o.filter(B=>B.status==="completed").length,revenue:o.filter(B=>B.status==="completed").reduce((B,ee)=>B+ee.total_amount,0)}),I=B=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(B);if(t||u)return i.jsx("div",{className:"min-h-screen bg-black flex items-center justify-center",children:i.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-electric-violet"})});if(!e)return null;const S=A();return i.jsxs(Us,{children:[i.jsxs(Oe,{children:[i.jsx("title",{children:"Manage Orders - Admin - Studio Nullbyte"}),i.jsx("meta",{name:"robots",content:"noindex, nofollow"})]}),i.jsx("div",{className:"pb-6",children:i.jsx("div",{className:"w-full px-4 py-6",children:i.jsxs(U.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"w-full",children:[i.jsxs("div",{className:"mb-8",children:[i.jsx("div",{className:"flex items-center justify-between mb-4",children:i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx(ms,{className:"w-6 h-6 text-electric-violet"}),i.jsx("h1",{className:"text-3xl font-mono text-white",children:"Manage Orders"})]})}),i.jsx("p",{className:"text-gray-400 font-mono",children:"View and manage customer orders and transactions"})]}),$&&i.jsxs(U.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"flex items-center gap-2 bg-terminal-green/10 border border-terminal-green/30 rounded p-3 mb-6",children:[i.jsx(fe,{className:"w-4 h-4 text-terminal-green"}),i.jsx("span",{className:"text-sm font-mono text-terminal-green",children:$})]}),D&&i.jsxs(U.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"flex items-center gap-2 bg-red-500/10 border border-red-500/30 rounded p-3 mb-6",children:[i.jsx(Ye,{className:"w-4 h-4 text-red-400"}),i.jsx("span",{className:"text-sm font-mono text-red-400",children:D})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-6 mb-6",children:[i.jsx("div",{className:"bg-code-gray-light border border-gray-700 rounded-lg p-4",children:i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx(ms,{className:"w-8 h-8 text-electric-violet"}),i.jsxs("div",{children:[i.jsx("p",{className:"text-2xl font-mono text-white font-bold",children:S.total}),i.jsx("p",{className:"text-gray-400 font-mono text-sm",children:"Total Orders"})]})]})}),i.jsx("div",{className:"bg-code-gray-light border border-gray-700 rounded-lg p-4",children:i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx($t,{className:"w-8 h-8 text-yellow-500"}),i.jsxs("div",{children:[i.jsx("p",{className:"text-2xl font-mono text-white font-bold",children:S.pending}),i.jsx("p",{className:"text-gray-400 font-mono text-sm",children:"Pending"})]})]})}),i.jsx("div",{className:"bg-code-gray-light border border-gray-700 rounded-lg p-4",children:i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx(Wr,{className:"w-8 h-8 text-blue-500"}),i.jsxs("div",{children:[i.jsx("p",{className:"text-2xl font-mono text-white font-bold",children:S.processing}),i.jsx("p",{className:"text-gray-400 font-mono text-sm",children:"Processing"})]})]})}),i.jsx("div",{className:"bg-code-gray-light border border-gray-700 rounded-lg p-4",children:i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx(fe,{className:"w-8 h-8 text-terminal-green"}),i.jsxs("div",{children:[i.jsx("p",{className:"text-2xl font-mono text-white font-bold",children:S.completed}),i.jsx("p",{className:"text-gray-400 font-mono text-sm",children:"Completed"})]})]})}),i.jsx("div",{className:"bg-code-gray-light border border-gray-700 rounded-lg p-4",children:i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx(av,{className:"w-8 h-8 text-terminal-green"}),i.jsxs("div",{children:[i.jsx("p",{className:"text-2xl font-mono text-white font-bold",children:I(S.revenue)}),i.jsx("p",{className:"text-gray-400 font-mono text-sm",children:"Revenue"})]})]})})]}),i.jsx("div",{className:"bg-code-gray-light border border-gray-700 rounded-lg p-6 mb-6",children:i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[i.jsxs("div",{className:"relative",children:[i.jsx(Pn,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-400"}),i.jsx("input",{type:"text",placeholder:"Search orders...",value:h,onChange:B=>f(B.target.value),className:"w-full bg-code-gray border border-gray-600 pl-10 pr-4 py-2 rounded font-mono text-white placeholder-gray-500 focus:outline-none focus:border-electric-violet transition-colors"})]}),i.jsxs("div",{className:"relative",children:[i.jsx(Cs,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-400"}),i.jsxs("select",{value:p,onChange:B=>v(B.target.value),className:"w-full bg-code-gray border border-gray-600 pl-10 pr-4 py-2 rounded font-mono text-white focus:outline-none focus:border-electric-violet transition-colors appearance-none",children:[i.jsx("option",{value:"",children:"All Status"}),i.jsx("option",{value:"pending",children:"Pending"}),i.jsx("option",{value:"processing",children:"Processing"}),i.jsx("option",{value:"completed",children:"Completed"}),i.jsx("option",{value:"cancelled",children:"Cancelled"}),i.jsx("option",{value:"refunded",children:"Refunded"})]})]}),i.jsx("div",{className:"flex items-center justify-end",children:i.jsxs("span",{className:"font-mono text-gray-400 text-sm",children:[l.length," of ",o.length," orders"]})})]})}),i.jsxs("div",{className:"bg-code-gray-light border border-gray-700 rounded-lg overflow-hidden",children:[i.jsx("div",{className:"overflow-x-auto",children:i.jsxs("table",{className:"w-full",children:[i.jsx("thead",{className:"bg-code-gray border-b border-gray-700",children:i.jsxs("tr",{children:[i.jsx("th",{className:"text-left p-4 font-mono text-gray-300 text-sm",children:"Order ID"}),i.jsx("th",{className:"text-left p-4 font-mono text-gray-300 text-sm",children:"Customer"}),i.jsx("th",{className:"text-left p-4 font-mono text-gray-300 text-sm",children:"Items"}),i.jsx("th",{className:"text-left p-4 font-mono text-gray-300 text-sm",children:"Amount"}),i.jsx("th",{className:"text-left p-4 font-mono text-gray-300 text-sm",children:"Status"}),i.jsx("th",{className:"text-left p-4 font-mono text-gray-300 text-sm",children:"Date"}),i.jsx("th",{className:"text-left p-4 font-mono text-gray-300 text-sm",children:"Actions"})]})}),i.jsx("tbody",{children:l.map((B,ee)=>{var Se,Jt;const re=Lp[B.status];return i.jsxs(U.tr,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:ee*.05},className:"border-b border-gray-700/50 hover:bg-code-gray/50 transition-colors",children:[i.jsx("td",{className:"p-4",children:i.jsxs("span",{className:"font-mono text-white text-sm",children:["#",B.id.slice(-8)]})}),i.jsx("td",{className:"p-4",children:i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(at,{className:"w-4 h-4 text-gray-400"}),i.jsxs("div",{children:[i.jsx("p",{className:"font-mono text-white text-sm",children:((Se=B.user_profiles)==null?void 0:Se.full_name)||"Unknown"}),i.jsx("p",{className:"font-mono text-gray-400 text-xs",children:(Jt=B.user_profiles)==null?void 0:Jt.email})]})]})}),i.jsx("td",{className:"p-4",children:i.jsx("div",{className:"space-y-1",children:B.order_items&&B.order_items.length>0?B.order_items.map(ct=>i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsxs(J,{to:`/products/${ct.product_id}`,className:"flex items-center gap-1 text-electric-violet hover:text-electric-violet-light transition-colors font-mono text-xs group",children:[i.jsx("span",{children:ct.products.title}),i.jsx(Ku,{className:"w-3 h-3 opacity-0 group-hover:opacity-100 transition-opacity"})]}),i.jsxs("span",{className:"text-gray-400 text-xs",children:["(",ct.quantity,"x)"]})]},ct.id)):i.jsx("span",{className:"font-mono text-gray-500 text-xs",children:"No items"})})}),i.jsx("td",{className:"p-4",children:i.jsx("span",{className:"font-mono text-electric-violet font-bold",children:I(B.total_amount)})}),i.jsx("td",{className:"p-4",children:i.jsx("span",{className:`inline-flex items-center gap-1 px-2 py-1 rounded text-xs font-mono border ${Op[B.status]}`,children:i.jsx(re,{className:"w-3 h-3"})})}),i.jsx("td",{className:"p-4",children:i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(Wi,{className:"w-4 h-4 text-gray-400"}),i.jsx("span",{className:"font-mono text-gray-300 text-sm",children:new Date(B.created_at).toLocaleDateString()})]})}),i.jsx("td",{className:"p-4",children:i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsxs("button",{onClick:()=>M(B),className:"flex items-center gap-1 bg-blue-500 hover:bg-blue-600 text-white px-3 py-1 rounded text-xs font-mono transition-colors",children:[i.jsx(Vt,{className:"w-3 h-3"}),"View"]}),i.jsxs("button",{onClick:()=>q(B),className:"flex items-center gap-1 bg-green-500 hover:bg-green-600 text-white px-3 py-1 rounded text-xs font-mono transition-colors",children:[i.jsx(vl,{className:"w-3 h-3"}),"Edit"]})]})})]},B.id)})})]})}),l.length===0&&i.jsxs("div",{className:"text-center py-12",children:[i.jsx(ms,{className:"w-16 h-16 text-gray-600 mx-auto mb-4"}),i.jsx("h3",{className:"text-lg font-mono text-gray-400 mb-2",children:"No orders found"}),i.jsx("p",{className:"text-gray-500 font-mono text-sm",children:h||p?"Try adjusting your filters":"No orders have been placed yet"})]})]})]})})}),b&&m&&i.jsx("div",{className:"fixed inset-0 bg-black/80 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:i.jsx(U.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},className:"bg-code-gray-light border border-gray-700 rounded-lg w-full max-w-2xl max-h-[90vh] overflow-y-auto",children:i.jsxs("div",{className:"p-6",children:[i.jsxs("div",{className:"flex items-center justify-between mb-6",children:[i.jsxs("h2",{className:"text-xl font-mono text-white",children:["Order Details #",m.id.slice(-8)]}),i.jsx("button",{onClick:R,className:"text-gray-400 hover:text-white transition-colors",children:i.jsx(kt,{className:"w-6 h-6"})})]}),i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[i.jsxs("div",{className:"bg-code-gray border border-gray-600 rounded p-4",children:[i.jsx("h3",{className:"text-sm font-mono text-gray-300 mb-3",children:"Customer"}),i.jsxs("div",{className:"space-y-2",children:[i.jsx("p",{className:"font-mono text-white",children:((F=m.user_profiles)==null?void 0:F.full_name)||"Unknown Customer"}),i.jsx("p",{className:"font-mono text-gray-400 text-sm",children:(se=m.user_profiles)==null?void 0:se.email})]})]}),i.jsxs("div",{className:"bg-code-gray border border-gray-600 rounded p-4",children:[i.jsx("h3",{className:"text-sm font-mono text-gray-300 mb-3",children:"Payment"}),i.jsxs("div",{className:"space-y-2",children:[i.jsx("p",{className:"font-mono text-white",children:m.payment_method||"N/A"}),m.payment_id&&i.jsxs("p",{className:"font-mono text-gray-400 text-sm",children:["ID: ",m.payment_id]})]})]})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[i.jsxs("div",{className:"bg-code-gray border border-gray-600 rounded p-4",children:[i.jsx("h3",{className:"text-sm font-mono text-gray-300 mb-3",children:"Status"}),i.jsx("div",{className:"flex items-center gap-2",children:(()=>{const B=Lp[m.status];return i.jsxs("span",{className:`inline-flex items-center gap-2 px-3 py-2 rounded font-mono border ${Op[m.status]}`,children:[i.jsx(B,{className:"w-4 h-4"}),m.status]})})()})]}),i.jsxs("div",{className:"bg-code-gray border border-gray-600 rounded p-4",children:[i.jsx("h3",{className:"text-sm font-mono text-gray-300 mb-3",children:"Total Amount"}),i.jsx("p",{className:"text-2xl font-mono text-electric-violet font-bold",children:I(m.total_amount)}),m.notes&&m.notes.includes("Subtotal:")&&i.jsx("div",{className:"mt-3 text-xs font-mono text-gray-400",children:m.notes.split(", ").map((B,ee)=>i.jsx("div",{children:B},ee))})]})]}),m.order_items&&m.order_items.length>0&&i.jsxs("div",{className:"bg-code-gray border border-gray-600 rounded p-4",children:[i.jsx("h3",{className:"text-sm font-mono text-gray-300 mb-3",children:"Order Items"}),i.jsx("div",{className:"space-y-3",children:m.order_items.map(B=>{var ee;return i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("div",{className:"flex items-center gap-3",children:i.jsxs("div",{children:[i.jsx("div",{className:"flex items-center gap-2 mb-1",children:i.jsxs(J,{to:`/products/${B.product_id}`,className:"font-mono text-electric-violet hover:text-electric-violet-light transition-colors text-sm flex items-center gap-1 group",children:[(ee=B.products)==null?void 0:ee.title,i.jsx(Ku,{className:"w-3 h-3 opacity-0 group-hover:opacity-100 transition-opacity"})]})}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsxs("p",{className:"font-mono text-gray-400 text-xs",children:["Item ID: #",B.id.slice(-8)]}),i.jsx("span",{className:"text-gray-500",children:"•"}),i.jsxs("p",{className:"font-mono text-gray-400 text-xs",children:["Qty: ",B.quantity]})]})]})}),i.jsx("span",{className:"font-mono text-electric-violet",children:I(B.price)})]},B.id)})})]}),m.notes&&i.jsxs("div",{className:"bg-code-gray border border-gray-600 rounded p-4",children:[i.jsx("h3",{className:"text-sm font-mono text-gray-300 mb-3",children:"Notes"}),i.jsx("p",{className:"font-mono text-white text-sm whitespace-pre-wrap",children:m.notes})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[i.jsxs("div",{className:"bg-code-gray border border-gray-600 rounded p-4",children:[i.jsx("h3",{className:"text-sm font-mono text-gray-300 mb-3",children:"Created"}),i.jsx("p",{className:"font-mono text-white",children:new Date(m.created_at).toLocaleString()})]}),i.jsxs("div",{className:"bg-code-gray border border-gray-600 rounded p-4",children:[i.jsx("h3",{className:"text-sm font-mono text-gray-300 mb-3",children:"Last Updated"}),i.jsx("p",{className:"font-mono text-white",children:new Date(m.updated_at).toLocaleString()})]})]})]})]})})}),g&&N&&i.jsx("div",{className:"fixed inset-0 bg-black/80 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:i.jsx(U.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},className:"bg-code-gray-light border border-gray-700 rounded-lg w-full max-w-md",children:i.jsxs("form",{onSubmit:C,className:"p-6",children:[i.jsxs("div",{className:"flex items-center justify-between mb-6",children:[i.jsxs("h2",{className:"text-xl font-mono text-white",children:["Edit Order #",N.id.slice(-8)]}),i.jsx("button",{type:"button",onClick:R,className:"text-gray-400 hover:text-white transition-colors",children:i.jsx(kt,{className:"w-6 h-6"})})]}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-mono text-gray-300 mb-2",children:"Order Status"}),i.jsxs("select",{value:k.status,onChange:B=>_(ee=>({...ee,status:B.target.value})),className:"w-full bg-code-gray border border-gray-600 px-4 py-3 rounded font-mono text-white focus:outline-none focus:border-electric-violet transition-colors",children:[i.jsx("option",{value:"pending",children:"Pending"}),i.jsx("option",{value:"processing",children:"Processing"}),i.jsx("option",{value:"completed",children:"Completed"}),i.jsx("option",{value:"cancelled",children:"Cancelled"}),i.jsx("option",{value:"refunded",children:"Refunded"})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-mono text-gray-300 mb-2",children:"Admin Notes"}),i.jsx("textarea",{value:k.notes,onChange:B=>_(ee=>({...ee,notes:B.target.value})),rows:4,className:"w-full bg-code-gray border border-gray-600 px-4 py-3 rounded font-mono text-white placeholder-gray-500 focus:outline-none focus:border-electric-violet transition-colors resize-none",placeholder:"Add internal notes about this order..."})]})]}),i.jsxs("div",{className:"flex items-center gap-3 mt-8 pt-6 border-t border-gray-700",children:[i.jsxs("button",{type:"submit",disabled:P,className:"flex items-center gap-2 bg-electric-violet hover:bg-electric-violet-light disabled:opacity-50 disabled:cursor-not-allowed text-white font-mono py-3 px-6 rounded transition-colors",children:[i.jsx(oo,{className:"w-4 h-4"}),P?"Saving...":"Update Order"]}),i.jsx("button",{type:"button",onClick:R,className:"bg-gray-600 hover:bg-gray-700 text-white font-mono py-3 px-6 rounded transition-colors",children:"Cancel"})]})]})})})]})}function CT(e){return e.toLowerCase().trim().replace(/[^\w\s-]/g,"").replace(/[\s_-]+/g,"-").replace(/^-+|-+$/g,"")}function Dp(e,t){const r=CT(e);if(!t.includes(r))return r;let n=1,s=`${r}-${n}`;for(;t.includes(s);)n++,s=`${r}-${n}`;return s}function ET(){const{isAdmin:e,loading:t,getCategories:r,createCategory:n,updateCategory:s,deleteCategory:o}=Rn(),[a,l]=x.useState([]),[c,u]=x.useState([]),[d,h]=x.useState(!0),[f,p]=x.useState(""),[v,b]=x.useState(!1),[w,g]=x.useState(null),[y,m]=x.useState(!1),[j,N]=x.useState(""),[E,P]=x.useState(""),[T,$]=x.useState({name:"",description:"",slug:"",is_active:!0});x.useEffect(()=>{const C=async()=>{if(e)try{const I=await r();l(I)}catch(I){console.error("AdminCategories: Error fetching categories:",I);let S="Failed to load categories";I instanceof Error||I&&typeof I=="object"&&"message"in I?S+=": "+I.message:I&&typeof I=="object"&&"error"in I?S+=": "+I.error:S+=": Unknown error occurred",P(S)}finally{h(!1)}else t||h(!1)},A=setTimeout(()=>{h(!1),!a.length&&e&&P("Loading timeout - please refresh the page")},1e4);return C(),()=>clearTimeout(A)},[e,t,r]),x.useEffect(()=>{let C=a;if(f){const A=f.toLowerCase();C=C.filter(I=>I.name.toLowerCase().includes(A)||I.description&&I.description.toLowerCase().includes(A))}u(C)},[a,f]);const V=()=>{$({name:"",description:"",slug:"",is_active:!0}),g(null),b(!1),P(""),N("")},D=()=>{V(),b(!0)},z=C=>{$({name:C.name,description:C.description||"",slug:C.slug||"",is_active:C.is_active}),g(C),b(!0)},k=async C=>{C.preventDefault(),m(!0),P("");try{if(w){const A={name:T.name.trim(),slug:T.slug.trim(),description:T.description.trim()||void 0,is_active:T.is_active};(await s(w.id,A)).error?P("Failed to update category"):(N("Category updated successfully!"),l(a.map(S=>S.id===w.id?{...S,...A,description:A.description||null}:S)),setTimeout(()=>{V()},1500))}else{if(!T.name.trim()){P("Category name is required"),m(!1);return}const A={name:T.name.trim(),slug:T.slug||Dp(T.name.trim(),a.map(S=>S.slug)),description:T.description.trim()||void 0},I=await n(A);if(I.error)console.error("Create category error:",I.error),P("Failed to create category: "+(typeof I.error=="string"?I.error:JSON.stringify(I.error)));else{N("Category created successfully!");const S={id:I.data.id,name:A.name,slug:A.slug,description:A.description||null,is_active:!0,created_at:new Date().toISOString(),updated_at:new Date().toISOString()};l([S,...a]),setTimeout(()=>{V()},1500)}}}catch(A){P(A.message||"An unexpected error occurred")}finally{m(!1)}},_=async(C,A)=>{if(confirm(`Are you sure you want to delete category "${A}"? This action cannot be undone.`))try{(await o(C)).error?P("Failed to delete category"):(N("Category deleted successfully!"),l(a.filter(S=>S.id!==C)))}catch{P("An unexpected error occurred")}},R=()=>({total:a.length,active:a.filter(C=>C.is_active).length,inactive:a.filter(C=>!C.is_active).length}),M=C=>{$(A=>{const I={...A,name:C};if(!w){const S=a.map(F=>F.slug);I.slug=Dp(C,S)}return I})};if(d)return i.jsx(Es,{children:i.jsx("div",{className:"min-h-screen bg-black flex items-center justify-center",children:i.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-electric-violet"})})});const q=R();return i.jsx(Es,{children:i.jsxs(Us,{children:[i.jsxs(Oe,{children:[i.jsx("title",{children:"Manage Categories - Admin - Studio Nullbyte"}),i.jsx("meta",{name:"robots",content:"noindex, nofollow"})]}),i.jsx("div",{className:"pb-6",children:i.jsx("div",{className:"w-full px-4 py-6",children:i.jsxs(U.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"w-full",children:[i.jsxs("div",{className:"mb-8",children:[i.jsxs("div",{className:"flex items-center justify-between mb-4",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx(oi,{className:"w-6 h-6 text-electric-violet"}),i.jsx("h1",{className:"text-3xl font-mono text-white",children:"Manage Categories"})]}),i.jsxs("button",{onClick:D,className:"flex items-center gap-2 bg-electric-violet hover:bg-electric-violet-dark px-4 py-2 rounded font-mono text-white transition-colors duration-200",children:[i.jsx(_h,{className:"w-4 h-4"}),"Create Category"]})]}),i.jsx("p",{className:"text-gray-400 font-mono",children:"Create and manage product categories"})]}),j&&i.jsxs(U.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"flex items-center gap-2 bg-terminal-green/10 border border-terminal-green/30 rounded p-3 mb-6",children:[i.jsx(fe,{className:"w-4 h-4 text-terminal-green"}),i.jsx("span",{className:"text-sm font-mono text-terminal-green",children:j})]}),E&&i.jsxs(U.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"flex items-center gap-2 bg-red-500/10 border border-red-500/30 rounded p-3 mb-6",children:[i.jsx(Ye,{className:"w-4 h-4 text-red-400"}),i.jsx("span",{className:"text-sm font-mono text-red-400",children:E})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-6",children:[i.jsx("div",{className:"bg-code-gray-light border border-gray-700 rounded-lg p-4",children:i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx(oi,{className:"w-8 h-8 text-electric-violet"}),i.jsxs("div",{children:[i.jsx("p",{className:"text-2xl font-mono text-white font-bold",children:q.total}),i.jsx("p",{className:"text-gray-400 font-mono text-sm",children:"Total Categories"})]})]})}),i.jsx("div",{className:"bg-code-gray-light border border-gray-700 rounded-lg p-4",children:i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx(fe,{className:"w-8 h-8 text-terminal-green"}),i.jsxs("div",{children:[i.jsx("p",{className:"text-2xl font-mono text-white font-bold",children:q.active}),i.jsx("p",{className:"text-gray-400 font-mono text-sm",children:"Active Categories"})]})]})}),i.jsx("div",{className:"bg-code-gray-light border border-gray-700 rounded-lg p-4",children:i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx(kt,{className:"w-8 h-8 text-red-400"}),i.jsxs("div",{children:[i.jsx("p",{className:"text-2xl font-mono text-white font-bold",children:q.inactive}),i.jsx("p",{className:"text-gray-400 font-mono text-sm",children:"Inactive Categories"})]})]})})]}),i.jsx("div",{className:"bg-code-gray-light border border-gray-700 rounded-lg p-6 mb-6",children:i.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 items-center",children:[i.jsxs("div",{className:"relative flex-1",children:[i.jsx(Pn,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-400"}),i.jsx("input",{type:"text",placeholder:"Search categories...",value:f,onChange:C=>p(C.target.value),className:"w-full bg-code-gray border border-gray-600 pl-10 pr-4 py-2 rounded font-mono text-white placeholder-gray-500 focus:outline-none focus:border-electric-violet transition-colors"})]}),i.jsx("div",{className:"flex items-center justify-end",children:i.jsxs("span",{className:"font-mono text-gray-400 text-sm",children:[c.length," of ",a.length," categories"]})})]})}),i.jsx("div",{className:"bg-code-gray-light border border-gray-700 rounded-lg overflow-hidden",children:i.jsx("div",{className:"overflow-x-auto",children:i.jsxs("table",{className:"w-full",children:[i.jsx("thead",{className:"bg-code-gray border-b border-gray-700",children:i.jsxs("tr",{children:[i.jsx("th",{className:"text-left p-4 font-mono text-gray-300 text-sm",children:"Name"}),i.jsx("th",{className:"text-left p-4 font-mono text-gray-300 text-sm",children:"Slug"}),i.jsx("th",{className:"text-left p-4 font-mono text-gray-300 text-sm",children:"Description"}),i.jsx("th",{className:"text-left p-4 font-mono text-gray-300 text-sm",children:"Status"}),i.jsx("th",{className:"text-left p-4 font-mono text-gray-300 text-sm",children:"Created"}),i.jsx("th",{className:"text-left p-4 font-mono text-gray-300 text-sm",children:"Actions"})]})}),i.jsx("tbody",{children:c.map((C,A)=>i.jsxs(U.tr,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:A*.05},className:"border-b border-gray-700 hover:bg-code-gray/50 transition-colors",children:[i.jsx("td",{className:"p-4",children:i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"w-8 h-8 bg-electric-violet/20 rounded-lg flex items-center justify-center flex-shrink-0",children:i.jsx(oi,{className:"w-4 h-4 text-electric-violet"})}),i.jsx("span",{className:"font-mono text-white text-sm font-medium",children:C.name})]})}),i.jsx("td",{className:"p-4",children:i.jsx("span",{className:"font-mono text-gray-300 text-sm bg-code-gray px-2 py-1 rounded",children:C.slug})}),i.jsx("td",{className:"p-4 max-w-xs",children:i.jsx("p",{className:"font-mono text-gray-400 text-sm truncate",title:C.description||"No description",children:C.description||"No description"})}),i.jsx("td",{className:"p-4",children:i.jsx("span",{className:`inline-flex items-center gap-1 px-2 py-1 rounded text-xs font-mono border ${C.is_active?"bg-terminal-green/20 text-terminal-green border-terminal-green/30":"bg-red-500/20 text-red-400 border-red-500/30"}`,children:C.is_active?i.jsxs(i.Fragment,{children:[i.jsx(fe,{className:"w-3 h-3"}),"Active"]}):i.jsxs(i.Fragment,{children:[i.jsx(kt,{className:"w-3 h-3"}),"Inactive"]})})}),i.jsx("td",{className:"p-4",children:i.jsx("span",{className:"font-mono text-gray-400 text-sm",children:new Date(C.created_at).toLocaleDateString()})}),i.jsx("td",{className:"p-4",children:i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsxs("button",{onClick:()=>z(C),className:"flex items-center gap-1 bg-blue-500 hover:bg-blue-600 text-white px-3 py-1 rounded text-xs font-mono transition-colors",children:[i.jsx(vl,{className:"w-3 h-3"}),"Edit"]}),i.jsxs("button",{onClick:()=>_(C.id,C.name),className:"flex items-center gap-1 bg-red-500 hover:bg-red-600 text-white px-3 py-1 rounded text-xs font-mono transition-colors",children:[i.jsx(wl,{className:"w-3 h-3"}),"Delete"]})]})})]},C.id))})]})})}),c.length===0&&i.jsxs("div",{className:"text-center py-12",children:[i.jsx(oi,{className:"w-16 h-16 text-gray-600 mx-auto mb-4"}),i.jsx("h3",{className:"text-lg font-mono text-gray-400 mb-2",children:"No categories found"}),i.jsx("p",{className:"text-gray-500 font-mono text-sm",children:f?"Try adjusting your search":"Create your first category to get started"})]})]})})}),v&&i.jsx("div",{className:"fixed inset-0 bg-black/80 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:i.jsx(U.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},className:"bg-code-gray-light border border-gray-700 rounded-lg w-full max-w-md",children:i.jsxs("form",{onSubmit:k,className:"p-6",children:[i.jsxs("div",{className:"flex items-center justify-between mb-6",children:[i.jsx("h2",{className:"text-xl font-mono text-white",children:w?"Edit Category":"Create New Category"}),i.jsx("button",{type:"button",onClick:V,className:"text-gray-400 hover:text-white transition-colors",children:i.jsx(kt,{className:"w-6 h-6"})})]}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{children:[i.jsxs("label",{className:"block text-sm font-mono text-gray-300 mb-2",children:["Category Name ",i.jsx("span",{className:"text-red-400",children:"*"})]}),i.jsx("input",{type:"text",value:T.name,onChange:C=>M(C.target.value),className:"w-full bg-code-gray border border-gray-600 px-4 py-3 rounded font-mono text-white placeholder-gray-500 focus:outline-none focus:border-electric-violet transition-colors",placeholder:"Enter category name",required:!0})]}),i.jsxs("div",{children:[i.jsxs("label",{className:"block text-sm font-mono text-gray-300 mb-2",children:["URL Slug ",i.jsx("span",{className:"text-red-400",children:"*"})]}),i.jsx("input",{type:"text",value:T.slug,onChange:C=>$(A=>({...A,slug:C.target.value})),className:"w-full bg-code-gray border border-gray-600 px-4 py-3 rounded font-mono text-white placeholder-gray-500 focus:outline-none focus:border-electric-violet transition-colors",placeholder:"url-friendly-slug",required:!0}),i.jsx("p",{className:"text-gray-500 font-mono text-xs mt-1",children:"Auto-generated from name. Used in URLs (e.g., /category/web-templates)"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-mono text-gray-300 mb-2",children:"Description"}),i.jsx("textarea",{value:T.description,onChange:C=>$(A=>({...A,description:C.target.value})),className:"w-full bg-code-gray border border-gray-600 px-4 py-3 rounded font-mono text-white placeholder-gray-500 focus:outline-none focus:border-electric-violet transition-colors resize-none",placeholder:"Enter category description",rows:3})]}),i.jsxs("div",{children:[i.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[i.jsx("input",{type:"checkbox",checked:T.is_active,onChange:C=>$(A=>({...A,is_active:C.target.checked})),className:"w-4 h-4 text-electric-violet bg-code-gray border-gray-600 rounded focus:ring-electric-violet focus:ring-2"}),i.jsx("span",{className:"font-mono text-white text-sm",children:"Active Category"})]}),i.jsx("p",{className:"text-gray-500 font-mono text-xs mt-1",children:"Inactive categories won't be shown to users"})]})]}),i.jsxs("div",{className:"flex items-center gap-3 mt-8 pt-6 border-t border-gray-700",children:[i.jsxs("button",{type:"submit",disabled:y,className:"flex items-center gap-2 bg-electric-violet hover:bg-electric-violet-light disabled:opacity-50 disabled:cursor-not-allowed text-white font-mono py-3 px-6 rounded transition-colors",children:[i.jsx(oo,{className:"w-4 h-4"}),y?w?"Updating...":"Creating...":w?"Update Category":"Create Category"]}),i.jsx("button",{type:"button",onClick:V,className:"bg-gray-600 hover:bg-gray-700 text-white font-mono py-3 px-6 rounded transition-colors",children:"Cancel"})]})]})})})]})})}function TT(){const{isAdmin:e,getContactSubmissions:t,updateContactSubmissionStatus:r}=Rn(),[n,s]=x.useState([]),[o,a]=x.useState([]),[l,c]=x.useState(!0),[u,d]=x.useState(""),[h,f]=x.useState("all"),[p,v]=x.useState(null),[b,w]=x.useState(!1),[g,y]=x.useState(""),[m,j]=x.useState("");x.useEffect(()=>{(async()=>{if(e)try{const z=await t();s(z)}catch(z){console.error("AdminContacts: Error fetching contacts:",z),y("Failed to load contact submissions: "+(z instanceof Error?z.message:String(z)))}finally{c(!1)}else c(!1)})()},[e,t]),x.useEffect(()=>{let D=n;if(h!=="all"&&(D=D.filter(z=>z.status===h)),u){const z=u.toLowerCase();D=D.filter(k=>k.name.toLowerCase().includes(z)||k.email.toLowerCase().includes(z)||k.subject.toLowerCase().includes(z)||k.message.toLowerCase().includes(z))}a(D)},[n,u,h]);const N=async(D,z)=>{try{const k=await r(D,z);k.error?y("Failed to update status: "+(k.error instanceof Error?k.error.message:String(k.error))):(j("Status updated successfully!"),s(n.map(_=>_.id===D?{..._,status:z}:_)),(p==null?void 0:p.id)===D&&v({...p,status:z}),setTimeout(()=>{j(""),P()},1500))}catch(k){console.error("❌ AdminContacts: Unexpected error during status change",k),y("An unexpected error occurred: "+(k instanceof Error?k.message:String(k)))}},E=D=>{v(D),w(!0),D.status==="new"&&N(D.id,"in_progress")},P=()=>{v(null),w(!1)},T=D=>{switch(D){case"new":return i.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-1 rounded text-xs font-mono bg-blue-500/20 text-blue-400 border border-blue-500/30",children:[i.jsx(xc,{className:"w-3 h-3"}),"New"]});case"in_progress":return i.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-1 rounded text-xs font-mono bg-yellow-500/20 text-yellow-400 border border-yellow-500/30",children:[i.jsx($t,{className:"w-3 h-3"}),"In Progress"]});case"resolved":return i.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-1 rounded text-xs font-mono bg-terminal-green/20 text-terminal-green border border-terminal-green/30",children:[i.jsx(fe,{className:"w-3 h-3"}),"Resolved"]});default:return i.jsx("span",{className:"inline-flex items-center gap-1 px-2 py-1 rounded text-xs font-mono bg-gray-500/20 text-gray-400 border border-gray-500/30",children:D})}},$=()=>({total:n.length,new:n.filter(D=>D.status==="new").length,in_progress:n.filter(D=>D.status==="in_progress").length,resolved:n.filter(D=>D.status==="resolved").length});if(l)return i.jsx(Es,{children:i.jsx("div",{className:"min-h-screen bg-black flex items-center justify-center",children:i.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-electric-violet"})})});const V=$();return i.jsx(Es,{children:i.jsxs(Us,{children:[i.jsxs(Oe,{children:[i.jsx("title",{children:"Contact Messages - Admin - Studio Nullbyte"}),i.jsx("meta",{name:"robots",content:"noindex, nofollow"})]}),i.jsx("div",{className:"pb-6",children:i.jsx("div",{className:"w-full px-4 py-6",children:i.jsxs(U.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"w-full",children:[i.jsxs("div",{className:"mb-8",children:[i.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[i.jsx(Be,{className:"w-6 h-6 text-electric-violet"}),i.jsx("h1",{className:"text-3xl font-mono text-white",children:"Contact Messages"})]}),i.jsx("p",{className:"text-gray-400 font-mono",children:"Review and respond to customer inquiries"})]}),m&&i.jsxs(U.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"flex items-center gap-2 bg-terminal-green/10 border border-terminal-green/30 rounded p-3 mb-6",children:[i.jsx(fe,{className:"w-4 h-4 text-terminal-green"}),i.jsx("span",{className:"text-sm font-mono text-terminal-green",children:m})]}),g&&i.jsxs(U.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"flex items-center gap-2 bg-red-500/10 border border-red-500/30 rounded p-3 mb-6",children:[i.jsx(Ye,{className:"w-4 h-4 text-red-400"}),i.jsx("span",{className:"text-sm font-mono text-red-400",children:g})]}),i.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-5 gap-4 mb-6",children:[i.jsx("div",{className:"bg-code-gray-light border border-gray-700 rounded-lg p-4",children:i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(Be,{className:"w-6 h-6 text-electric-violet"}),i.jsxs("div",{children:[i.jsx("p",{className:"text-xl font-mono text-white font-bold",children:V.total}),i.jsx("p",{className:"text-gray-400 font-mono text-xs",children:"Total"})]})]})}),i.jsx("div",{className:"bg-code-gray-light border border-gray-700 rounded-lg p-4",children:i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(xc,{className:"w-6 h-6 text-blue-400"}),i.jsxs("div",{children:[i.jsx("p",{className:"text-xl font-mono text-white font-bold",children:V.new}),i.jsx("p",{className:"text-gray-400 font-mono text-xs",children:"New"})]})]})}),i.jsx("div",{className:"bg-code-gray-light border border-gray-700 rounded-lg p-4",children:i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx($t,{className:"w-6 h-6 text-yellow-400"}),i.jsxs("div",{children:[i.jsx("p",{className:"text-xl font-mono text-white font-bold",children:V.in_progress}),i.jsx("p",{className:"text-gray-400 font-mono text-xs",children:"In Progress"})]})]})}),i.jsx("div",{className:"bg-code-gray-light border border-gray-700 rounded-lg p-4",children:i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(fe,{className:"w-6 h-6 text-terminal-green"}),i.jsxs("div",{children:[i.jsx("p",{className:"text-xl font-mono text-white font-bold",children:V.resolved}),i.jsx("p",{className:"text-gray-400 font-mono text-xs",children:"Resolved"})]})]})})]}),i.jsx("div",{className:"bg-code-gray-light border border-gray-700 rounded-lg p-6 mb-6",children:i.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[i.jsxs("div",{className:"flex-1 relative",children:[i.jsx(Pn,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-400"}),i.jsx("input",{type:"text",placeholder:"Search contacts...",value:u,onChange:D=>d(D.target.value),className:"w-full bg-code-gray border border-gray-600 pl-10 pr-4 py-2 rounded font-mono text-white placeholder-gray-500 focus:outline-none focus:border-electric-violet transition-colors"})]}),i.jsxs("div",{className:"relative",children:[i.jsx(Cs,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-400"}),i.jsxs("select",{value:h,onChange:D=>f(D.target.value),className:"bg-code-gray border border-gray-600 pl-10 pr-8 py-2 rounded font-mono text-white focus:outline-none focus:border-electric-violet transition-colors appearance-none",children:[i.jsx("option",{value:"all",children:"All Status"}),i.jsx("option",{value:"new",children:"New"}),i.jsx("option",{value:"in_progress",children:"In Progress"}),i.jsx("option",{value:"resolved",children:"Resolved"})]})]})]})}),i.jsx("div",{className:"bg-code-gray-light border border-gray-700 rounded-lg overflow-hidden",children:o.length>0?i.jsx("div",{className:"divide-y divide-gray-700",children:o.map((D,z)=>i.jsxs(U.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:z*.05},className:"p-6 hover:bg-code-gray transition-colors cursor-pointer",onClick:()=>E(D),children:[i.jsxs("div",{className:"flex items-start justify-between mb-3",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"w-10 h-10 bg-electric-violet/20 rounded-lg flex items-center justify-center",children:i.jsx(at,{className:"w-5 h-5 text-electric-violet"})}),i.jsxs("div",{children:[i.jsx("h3",{className:"font-mono text-white text-lg",children:D.name}),i.jsx("p",{className:"text-gray-400 font-mono text-sm",children:D.email})]})]}),i.jsxs("div",{className:"flex items-center gap-3",children:[T(D.status),i.jsx(Vt,{className:"w-4 h-4 text-gray-400"})]})]}),i.jsx("h4",{className:"font-mono text-white text-base mb-2",children:D.subject}),i.jsx("p",{className:"text-gray-400 font-mono text-sm mb-3 line-clamp-2",children:D.message}),i.jsxs("div",{className:"flex items-center gap-4 text-xs font-mono text-gray-500",children:[i.jsxs("div",{className:"flex items-center gap-1",children:[i.jsx(Wi,{className:"w-3 h-3"}),new Date(D.submitted_at).toLocaleDateString()]}),i.jsxs("div",{className:"flex items-center gap-1",children:[i.jsx($t,{className:"w-3 h-3"}),new Date(D.submitted_at).toLocaleTimeString()]})]})]},D.id))}):i.jsxs("div",{className:"text-center py-12",children:[i.jsx(Be,{className:"w-16 h-16 text-gray-600 mx-auto mb-4"}),i.jsx("h3",{className:"text-lg font-mono text-gray-400 mb-2",children:"No contact messages found"}),i.jsx("p",{className:"text-gray-500 font-mono text-sm",children:u||h!=="all"?"Try adjusting your filters":"No messages have been submitted yet"})]})})]})})}),b&&p&&i.jsx("div",{className:"fixed inset-0 bg-black/80 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:i.jsx(U.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},className:"bg-code-gray-light border border-gray-700 rounded-lg w-full max-w-2xl max-h-[90vh] overflow-y-auto",children:i.jsxs("div",{className:"p-6",children:[i.jsxs("div",{className:"flex items-center justify-between mb-6",children:[i.jsx("h2",{className:"text-xl font-mono text-white",children:"Contact Details"}),i.jsx("button",{onClick:P,className:"text-gray-400 hover:text-white transition-colors",children:"✕"})]}),i.jsxs("div",{className:"space-y-4 mb-6",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx(at,{className:"w-5 h-5 text-electric-violet"}),i.jsxs("div",{children:[i.jsx("p",{className:"text-sm font-mono text-gray-400",children:"Name"}),i.jsx("p",{className:"text-white font-mono",children:p.name})]})]}),i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx(Be,{className:"w-5 h-5 text-electric-violet"}),i.jsxs("div",{children:[i.jsx("p",{className:"text-sm font-mono text-gray-400",children:"Email"}),i.jsx("p",{className:"text-white font-mono",children:p.email}),i.jsxs("a",{href:`mailto:${p.email}`,className:"text-electric-violet hover:text-electric-violet-light font-mono text-sm flex items-center gap-1 mt-1",children:["Reply via email ",i.jsx(Ku,{className:"w-3 h-3"})]})]})]}),i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx(xc,{className:"w-5 h-5 text-electric-violet"}),i.jsxs("div",{children:[i.jsx("p",{className:"text-sm font-mono text-gray-400",children:"Subject"}),i.jsx("p",{className:"text-white font-mono",children:p.subject})]})]}),i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx(Wi,{className:"w-5 h-5 text-electric-violet"}),i.jsxs("div",{children:[i.jsx("p",{className:"text-sm font-mono text-gray-400",children:"Submitted"}),i.jsx("p",{className:"text-white font-mono",children:new Date(p.submitted_at).toLocaleString()})]})]})]}),i.jsxs("div",{className:"mb-6",children:[i.jsx("p",{className:"text-sm font-mono text-gray-400 mb-2",children:"Message"}),i.jsx("div",{className:"bg-code-gray border border-gray-600 rounded p-4",children:i.jsx("p",{className:"text-white font-mono text-sm whitespace-pre-wrap",children:p.message})})]}),i.jsxs("div",{className:"border-t border-gray-700 pt-6",children:[i.jsx("p",{className:"text-sm font-mono text-gray-400 mb-3",children:"Update Status"}),i.jsx("div",{className:"flex flex-wrap gap-2",children:["new","in_progress","resolved"].map(D=>i.jsxs("button",{onClick:()=>N(p.id,D),disabled:p.status===D,className:`px-3 py-2 rounded font-mono text-sm transition-colors ${p.status===D?"bg-electric-violet text-white cursor-not-allowed":"bg-gray-600 hover:bg-gray-700 text-white"}`,children:["Mark as ",D==="in_progress"?"In Progress":D.charAt(0).toUpperCase()+D.slice(1)]},D))})]})]})})})]})})}const AT=()=>{const e="January 2025",t=[{id:"information-collection",title:"Information We Collect",icon:i.jsx(AC,{className:"w-5 h-5"}),content:[{subtitle:"Account Information",items:["Full name and email address (required for registration)","Password (encrypted and never stored in plain text)","Profile information (avatar, display preferences)","Account verification status and authentication metadata"]},{subtitle:"Payment Information",items:["Billing address and contact information","Payment method details (processed securely by PayPal and Square)","Transaction history and order information","Download history and purchase records"]},{subtitle:"Communication Data",items:["Contact form submissions (name, email, subject, message)","Live chat conversations through Crisp Chat","Email communications and support tickets","User feedback and product reviews"]},{subtitle:"Technical Information",items:["IP address and geographic location","Device information and browser type","Usage analytics and site interaction data","Session data and authentication tokens"]}]},{id:"information-usage",title:"How We Use Your Information",icon:i.jsx(Fa,{className:"w-5 h-5"}),content:[{subtitle:"Core Services",items:["Account creation and authentication","Processing payments and delivering digital products","Providing customer support and responding to inquiries","Sending order confirmations and download links via email"]},{subtitle:"Platform Improvement",items:["Analyzing usage patterns to improve user experience","Monitoring site performance and security","Developing new features and products","Preventing fraud and ensuring platform security"]},{subtitle:"Communications",items:["Sending transactional emails (order confirmations, password resets)","Providing customer support through multiple channels","Notifying users of important account or service changes","Responding to contact form submissions and support requests"]}]},{id:"data-sharing",title:"Information Sharing",icon:i.jsx(Hr,{className:"w-5 h-5"}),content:[{subtitle:"Third-Party Services",items:["Supabase (database hosting and authentication)","PayPal and Square (payment processing)","Crisp Chat (live customer support)","EmailJS (automated email delivery)","GitHub Pages (website hosting)"]},{subtitle:"We Never Share",items:["Personal information with advertisers or marketers","User data with unauthorized third parties","Payment information (handled directly by payment processors)","Private communications or sensitive account details"]},{subtitle:"Legal Requirements",items:["We may disclose information if required by law","To protect our rights and prevent fraud","To comply with legal processes or government requests","To protect the safety of our users and platform"]}]},{id:"data-security",title:"Data Security",icon:i.jsx($e,{className:"w-5 h-5"}),content:[{subtitle:"Security Measures",items:["HTTPS encryption for all data transmission","Row Level Security (RLS) policies on all database tables","Secure authentication through Supabase Auth","Regular security audits and monitoring"]},{subtitle:"Payment Security",items:["PCI-compliant payment processing through PayPal and Square","No storage of credit card information on our servers","Tokenized payment methods for enhanced security","Secure transaction logging and monitoring"]},{subtitle:"Access Controls",items:["Role-based access control for admin functions","User-specific data access restrictions","Regular security updates and patches","Secure session management and token handling"]}]},{id:"user-rights",title:"Your Rights",icon:i.jsx(Ir,{className:"w-5 h-5"}),content:[{subtitle:"Account Control",items:["Access and update your profile information","Change your password and security settings","Download your purchase history and data","Delete your account and associated data"]},{subtitle:"Data Rights",items:["Request a copy of your personal data","Correct inaccurate or incomplete information","Request deletion of your personal data","Restrict or object to data processing"]},{subtitle:"Communication Preferences",items:["Opt out of non-essential communications","Control email notification preferences","Manage live chat availability","Update contact information and preferences"]}]},{id:"cookies",title:"Cookies & Tracking",icon:i.jsx(Vt,{className:"w-5 h-5"}),content:[{subtitle:"Essential Cookies",items:["Authentication and session management","Shopping cart and checkout functionality","Security and fraud prevention","Site preferences and user settings"]},{subtitle:"Analytics",items:["Usage analytics to improve site performance","Error tracking and debugging information","Feature usage and user interaction data","Site optimization and A/B testing"]},{subtitle:"Third-Party Cookies",items:["Payment processor cookies (PayPal, Square)","Live chat functionality (Crisp Chat)","External service integrations","Social media and sharing features"]}]},{id:"international",title:"International Users",icon:i.jsx(Gu,{className:"w-5 h-5"}),content:[{subtitle:"Data Transfers",items:["Data is processed in the United States","We comply with international data protection laws","Adequate safeguards are in place for data transfers","Users consent to international data processing"]},{subtitle:"Regional Compliance",items:["GDPR compliance for European users","CCPA compliance for California residents","Adherence to local data protection regulations","Regular compliance audits and updates"]}]},{id:"data-retention",title:"Data Retention",icon:i.jsx($t,{className:"w-5 h-5"}),content:[{subtitle:"Retention Periods",items:["Account data: Retained while account is active","Transaction records: 7 years for tax and legal purposes","Support communications: 3 years for service improvement","Analytics data: Anonymized and retained for 2 years"]},{subtitle:"Data Deletion",items:["Users can request immediate account deletion","Automated deletion of expired session data","Secure deletion of payment information","Retention of minimal data for legal compliance"]}]},{id:"children",title:"Children's Privacy",icon:i.jsx(iv,{className:"w-5 h-5"}),content:[{subtitle:"Age Requirements",items:["Studio Nullbyte is not intended for children under 13","We do not knowingly collect data from children","Users must be 18 or older to make purchases","Parents can request deletion of child data"]}]},{id:"changes",title:"Policy Changes",icon:i.jsx(lv,{className:"w-5 h-5"}),content:[{subtitle:"Updates",items:["We may update this policy to reflect changes in our practices","Users will be notified of significant changes","Continued use constitutes acceptance of updates","Previous versions are available upon request"]}]}];return i.jsxs(i.Fragment,{children:[i.jsx(Ms,{title:"Privacy Policy - Studio Nullbyte",description:"Privacy policy for Studio Nullbyte. Learn how we collect, use, and protect your personal information.",canonical:"https://studio-nullbyte.github.io/privacy-policy",noIndex:!0}),i.jsx("div",{className:"min-h-screen bg-black pt-20 pb-12",children:i.jsxs("div",{className:"container mx-auto px-4",children:[i.jsxs(U.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"text-center mb-12",children:[i.jsxs("div",{className:"flex items-center justify-center gap-3 mb-4",children:[i.jsx(Ir,{className:"w-8 h-8 text-electric-violet"}),i.jsx("h1",{className:"text-4xl md:text-5xl font-mono text-white",children:"Privacy Policy"})]}),i.jsx("p",{className:"text-xl text-gray-400 font-mono max-w-3xl mx-auto",children:"Your privacy is important to us. This policy explains how Studio Nullbyte collects, uses, and protects your personal information."}),i.jsxs("div",{className:"mt-6 text-sm text-gray-500 font-mono",children:["Last Updated: ",e]})]}),i.jsx(U.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.1},className:"mb-12",children:i.jsxs("div",{className:"bg-code-gray-light border border-gray-700 rounded-lg p-6",children:[i.jsx("h2",{className:"text-2xl font-mono text-white mb-4",children:"Introduction"}),i.jsx("p",{className:"text-gray-400 font-mono leading-relaxed mb-4",children:'Studio Nullbyte ("we," "our," or "us") is committed to protecting your privacy. This Privacy Policy explains how we collect, use, disclose, and safeguard your information when you use our website and services.'}),i.jsx("p",{className:"text-gray-400 font-mono leading-relaxed",children:"By using Studio Nullbyte, you consent to the practices described in this Privacy Policy. If you do not agree with this policy, please do not use our services."})]})}),i.jsx(U.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.2},className:"mb-12",children:i.jsxs("div",{className:"bg-code-gray-light border border-gray-700 rounded-lg p-6",children:[i.jsx("h2",{className:"text-2xl font-mono text-white mb-4",children:"Contact Information"}),i.jsxs("div",{className:"space-y-3",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx(Be,{className:"w-5 h-5 text-electric-violet"}),i.jsx("span",{className:"text-gray-400 font-mono",children:"studionullbyte@gmail.com"})]}),i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx(Gu,{className:"w-5 h-5 text-electric-violet"}),i.jsx("span",{className:"text-gray-400 font-mono",children:"https://studio-nullbyte.github.io"})]})]})]})}),i.jsx("div",{className:"space-y-8",children:t.map((r,n)=>i.jsxs(U.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.3+n*.1},className:"bg-code-gray-light border border-gray-700 rounded-lg p-6",children:[i.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[i.jsx("div",{className:"text-electric-violet",children:r.icon}),i.jsx("h2",{className:"text-2xl font-mono text-white",children:r.title})]}),i.jsx("div",{className:"space-y-6",children:r.content.map((s,o)=>i.jsxs("div",{children:[i.jsx("h3",{className:"text-lg font-mono text-electric-violet mb-3",children:s.subtitle}),i.jsx("ul",{className:"space-y-2",children:s.items.map((a,l)=>i.jsxs("li",{className:"flex items-start gap-3",children:[i.jsx("span",{className:"text-electric-violet mt-2",children:"•"}),i.jsx("span",{className:"text-gray-400 font-mono leading-relaxed",children:a})]},l))})]},o))})]},r.id))}),i.jsx(U.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.8},className:"mt-12",children:i.jsxs("div",{className:"bg-electric-violet/10 border border-electric-violet/30 rounded-lg p-6",children:[i.jsx("h2",{className:"text-2xl font-mono text-white mb-4",children:"Exercise Your Rights"}),i.jsx("p",{className:"text-gray-400 font-mono leading-relaxed mb-4",children:"To exercise any of your privacy rights or if you have questions about this policy, please contact us at:"}),i.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[i.jsx(Be,{className:"w-5 h-5 text-electric-violet"}),i.jsx("a",{href:"mailto:studionullbyte@gmail.com",className:"text-electric-violet font-mono hover:text-electric-violet-light transition-colors",children:"studionullbyte@gmail.com"})]}),i.jsx("p",{className:"text-gray-400 font-mono text-sm",children:"We will respond to your request within 30 days of receipt."})]})}),i.jsx(U.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.9},className:"mt-12 text-center",children:i.jsxs("div",{className:"bg-code-gray-light border border-gray-700 rounded-lg p-6",children:[i.jsxs("div",{className:"flex items-center justify-center gap-3 mb-3",children:[i.jsx($t,{className:"w-5 h-5 text-electric-violet"}),i.jsx("h3",{className:"text-lg font-mono text-white",children:"Effective Date"})]}),i.jsxs("p",{className:"text-gray-400 font-mono",children:["This Privacy Policy is effective as of ",e," and will remain in effect except with respect to any changes in its provisions in the future."]})]})})]})})]})},IT=()=>{const e="January 2025",t=[{id:"acceptance",title:"Acceptance of Terms",icon:i.jsx(lv,{className:"w-5 h-5"}),content:[{subtitle:"Agreement",items:["By accessing or using Studio Nullbyte, you agree to be bound by these Terms of Service","These terms apply to all users, including browsers, vendors, customers, and contributors","If you do not agree to these terms, you may not access or use our services","We reserve the right to refuse service to anyone for any reason at any time"]},{subtitle:"Modifications",items:["We may modify these terms at any time without prior notice",'Updated terms will be posted on this page with a new "Last Updated" date',"Your continued use of the service constitutes acceptance of modified terms","It is your responsibility to review these terms periodically"]}]},{id:"services",title:"Services Description",icon:i.jsx(Ua,{className:"w-5 h-5"}),content:[{subtitle:"Digital Products",items:["Studio Nullbyte offers digital templates, tools, and resources for developers","Products include web templates, Notion templates, AI prompts, and UI components","All products are delivered digitally via email and download links","Products are licensed for use, not sold - you receive usage rights only"]},{subtitle:"Service Availability",items:["We strive to maintain 99.9% uptime but cannot guarantee uninterrupted service","Services may be temporarily unavailable for maintenance or updates","We reserve the right to modify or discontinue services at any time","No compensation will be provided for service interruptions"]}]},{id:"accounts",title:"User Accounts",icon:i.jsx(at,{className:"w-5 h-5"}),content:[{subtitle:"Account Registration",items:["You must provide accurate and complete information when creating an account","You are responsible for maintaining the confidentiality of your account credentials","You must notify us immediately of any unauthorized use of your account","You are responsible for all activities that occur under your account"]},{subtitle:"Account Restrictions",items:["You must be at least 18 years old to create an account","One account per person - multiple accounts are not permitted","Accounts may not be transferred or sold to other parties","We may suspend or terminate accounts that violate these terms"]}]},{id:"purchases",title:"Purchases & Payments",icon:i.jsx(Ps,{className:"w-5 h-5"}),content:[{subtitle:"Payment Processing",items:["Payments are processed securely through PayPal and Square","All prices are in USD and subject to applicable taxes","Payment must be received before product delivery","We do not store credit card information on our servers"]},{subtitle:"Digital Delivery",items:["Products are delivered instantly via email after successful payment","Download links are valid for 30 days from purchase date","You may re-download products from your account dashboard","Technical support is provided for download and access issues"]},{subtitle:"Refunds",items:["Digital products are non-refundable due to their instant delivery nature","Refunds may be considered for technical issues preventing product access","Refund requests must be submitted within 7 days of purchase","Refunds, if approved, will be processed within 5-10 business days"]}]},{id:"licenses",title:"Product Licenses",icon:i.jsx(vc,{className:"w-5 h-5"}),content:[{subtitle:"Usage Rights",items:["You receive a non-exclusive, non-transferable license to use purchased products","Products may be used for personal and commercial projects","You may modify and customize products to suit your needs","Usage rights are perpetual - no recurring fees or expiration"]},{subtitle:"Restrictions",items:["You may not redistribute, resell, or sublicense the products","You may not claim ownership of the original product designs","You may not use products to compete directly with Studio Nullbyte","Products may not be used for illegal or harmful purposes"]}]},{id:"conduct",title:"User Conduct",icon:i.jsx(Ir,{className:"w-5 h-5"}),content:[{subtitle:"Prohibited Activities",items:["Attempting to gain unauthorized access to our systems","Uploading malicious code or attempting to harm our infrastructure","Harassing, abusing, or threatening other users or staff","Violating any applicable laws or regulations"]},{subtitle:"Content Guidelines",items:["User-generated content must be appropriate and legal","No spam, promotional content, or irrelevant material","Respect intellectual property rights of others","Report any inappropriate content or behavior to our support team"]}]},{id:"intellectual-property",title:"Intellectual Property",icon:i.jsx(Gu,{className:"w-5 h-5"}),content:[{subtitle:"Our Rights",items:["Studio Nullbyte owns all rights to the website, branding, and original content","Product designs and templates are protected by intellectual property laws","Our trademarks and logos may not be used without permission","We retain all rights not explicitly granted to users"]},{subtitle:"User Content",items:["You retain ownership of content you create using our products","You grant us a license to use your feedback and suggestions","User reviews and testimonials may be used for promotional purposes","We respect the intellectual property rights of third parties"]}]},{id:"disclaimers",title:"Disclaimers & Limitations",icon:i.jsx(iv,{className:"w-5 h-5"}),content:[{subtitle:"Service Disclaimers",items:['Services are provided "as is" without warranties of any kind',"We do not guarantee that products will meet your specific requirements","We are not responsible for third-party integrations or compatibility","Results may vary based on individual implementation and usage"]},{subtitle:"Limitation of Liability",items:["Our liability is limited to the amount you paid for the specific product","We are not liable for indirect, incidental, or consequential damages","We are not responsible for lost profits, data, or business interruption","Some jurisdictions do not allow liability limitations - local laws may apply"]}]},{id:"termination",title:"Termination",icon:i.jsx($t,{className:"w-5 h-5"}),content:[{subtitle:"Account Termination",items:["You may terminate your account at any time by contacting support","We may terminate accounts for violations of these terms","Termination does not affect your license to use previously purchased products","We may retain certain information as required by law or for legitimate business purposes"]},{subtitle:"Effect of Termination",items:["Access to your account and download history will be removed","Previously purchased products remain licensed for use","Outstanding payment obligations survive termination","Provisions that should survive termination will remain in effect"]}]},{id:"governing-law",title:"Governing Law",icon:i.jsx(vc,{className:"w-5 h-5"}),content:[{subtitle:"Legal Framework",items:["These terms are governed by the laws of the United States","Any disputes will be resolved in courts of competent jurisdiction","If any provision is found invalid, the remaining terms remain in effect","These terms constitute the entire agreement between you and Studio Nullbyte"]}]}];return i.jsxs(i.Fragment,{children:[i.jsx(Ms,{title:"Terms of Service - Studio Nullbyte",description:"Terms of Service for Studio Nullbyte. Learn about our service terms, user responsibilities, and product licenses.",canonical:"https://studio-nullbyte.github.io/terms-of-service",noIndex:!0}),i.jsx("div",{className:"min-h-screen bg-black pt-20 pb-12",children:i.jsxs("div",{className:"container mx-auto px-4",children:[i.jsxs(U.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"text-center mb-12",children:[i.jsxs("div",{className:"flex items-center justify-center gap-3 mb-4",children:[i.jsx(vc,{className:"w-8 h-8 text-electric-violet"}),i.jsx("h1",{className:"text-4xl md:text-5xl font-mono text-white",children:"Terms of Service"})]}),i.jsx("p",{className:"text-xl text-gray-400 font-mono max-w-3xl mx-auto",children:"Please read these terms carefully before using Studio Nullbyte's services and products."}),i.jsxs("div",{className:"mt-6 text-sm text-gray-500 font-mono",children:["Last Updated: ",e]})]}),i.jsx(U.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.1},className:"mb-12",children:i.jsxs("div",{className:"bg-code-gray-light border border-gray-700 rounded-lg p-6",children:[i.jsx("h2",{className:"text-2xl font-mono text-white mb-4",children:"Introduction"}),i.jsx("p",{className:"text-gray-400 font-mono leading-relaxed mb-4",children:'Welcome to Studio Nullbyte! These Terms of Service ("Terms") govern your use of our website and services. By accessing or using our platform, you agree to be bound by these Terms and our Privacy Policy.'}),i.jsx("p",{className:"text-gray-400 font-mono leading-relaxed",children:"Studio Nullbyte provides digital templates, tools, and resources for developers. These Terms explain your rights and responsibilities when using our services."})]})}),i.jsx("div",{className:"space-y-8",children:t.map((r,n)=>i.jsxs(U.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.2+n*.1},className:"bg-code-gray-light border border-gray-700 rounded-lg p-6",children:[i.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[i.jsx("div",{className:"text-electric-violet",children:r.icon}),i.jsx("h2",{className:"text-2xl font-mono text-white",children:r.title})]}),i.jsx("div",{className:"space-y-6",children:r.content.map((s,o)=>i.jsxs("div",{children:[i.jsx("h3",{className:"text-lg font-mono text-electric-violet mb-3",children:s.subtitle}),i.jsx("ul",{className:"space-y-2",children:s.items.map((a,l)=>i.jsxs("li",{className:"flex items-start gap-3",children:[i.jsx("span",{className:"text-electric-violet mt-2",children:"•"}),i.jsx("span",{className:"text-gray-400 font-mono leading-relaxed",children:a})]},l))})]},o))})]},r.id))}),i.jsx(U.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.8},className:"mt-12",children:i.jsxs("div",{className:"bg-electric-violet/10 border border-electric-violet/30 rounded-lg p-6",children:[i.jsx("h2",{className:"text-2xl font-mono text-white mb-4",children:"Questions About These Terms?"}),i.jsx("p",{className:"text-gray-400 font-mono leading-relaxed mb-4",children:"If you have any questions about these Terms of Service, please contact us at:"}),i.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[i.jsx(Be,{className:"w-5 h-5 text-electric-violet"}),i.jsx("a",{href:"mailto:studionullbyte@gmail.com",className:"text-electric-violet font-mono hover:text-electric-violet-light transition-colors",children:"studionullbyte@gmail.com"})]}),i.jsx("p",{className:"text-gray-400 font-mono text-sm",children:"We will respond to your inquiry within 48 hours."})]})}),i.jsx(U.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.9},className:"mt-12 text-center",children:i.jsxs("div",{className:"bg-code-gray-light border border-gray-700 rounded-lg p-6",children:[i.jsxs("div",{className:"flex items-center justify-center gap-3 mb-3",children:[i.jsx($t,{className:"w-5 h-5 text-electric-violet"}),i.jsx("h3",{className:"text-lg font-mono text-white",children:"Effective Date"})]}),i.jsxs("p",{className:"text-gray-400 font-mono",children:["These Terms of Service are effective as of ",e," and will remain in effect until modified or terminated."]})]})})]})})]})},RT=()=>{const e=Tt();x.useEffect(()=>{window.scrollTo(0,0)},[e])},OT=()=>(x.useState([]),x.useState(!1),x.useEffect(()=>{},[]),null),LT=()=>{const e=Tt();RT();const t={initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20}};return i.jsx(bC,{children:i.jsx(jC,{children:i.jsx(YC,{children:i.jsxs("div",{className:"min-h-screen bg-black text-white",children:[i.jsx(ZC,{}),i.jsx(_s,{mode:"wait",children:i.jsx(U.main,{initial:"initial",animate:"animate",exit:"exit",variants:t,transition:{duration:.3},className:"flex-1",children:i.jsxs(t1,{children:[i.jsx(xe,{path:"/",element:i.jsx(tE,{})}),i.jsx(xe,{path:"/products",element:i.jsx(rE,{})}),i.jsx(xe,{path:"/product/:id",element:i.jsx(nE,{})}),i.jsx(xe,{path:"/checkout",element:i.jsx(GE,{})}),i.jsx(xe,{path:"/order-confirmation",element:i.jsx(YE,{})}),i.jsx(xe,{path:"/success",element:i.jsx(uT,{})}),i.jsx(xe,{path:"/cancel",element:i.jsx(dT,{})}),i.jsx(xe,{path:"/about",element:i.jsx(hT,{})}),i.jsx(xe,{path:"/contact",element:i.jsx(fT,{})}),i.jsx(xe,{path:"/privacy-policy",element:i.jsx(AT,{})}),i.jsx(xe,{path:"/terms-of-service",element:i.jsx(IT,{})}),i.jsx(xe,{path:"/auth",element:i.jsx(vr,{requireAuth:!1,children:i.jsx(pT,{})})}),i.jsx(xe,{path:"/reset-password",element:i.jsx(gT,{})}),i.jsx(xe,{path:"/settings",element:i.jsx(vr,{children:i.jsx(xT,{})})}),i.jsx(xe,{path:"/admin",element:i.jsx(vr,{requireAdmin:!0,children:i.jsx(jT,{})})}),i.jsx(xe,{path:"/admin/products",element:i.jsx(vr,{requireAdmin:!0,children:i.jsx(_T,{})})}),i.jsx(xe,{path:"/admin/users",element:i.jsx(vr,{requireAdmin:!0,children:i.jsx(kT,{})})}),i.jsx(xe,{path:"/admin/orders",element:i.jsx(vr,{requireAdmin:!0,children:i.jsx(PT,{})})}),i.jsx(xe,{path:"/admin/categories",element:i.jsx(vr,{requireAdmin:!0,children:i.jsx(ET,{})})}),i.jsx(xe,{path:"/admin/contacts",element:i.jsx(vr,{requireAdmin:!0,children:i.jsx(TT,{})})})]})},e.pathname)}),i.jsx(XC,{}),i.jsx(eE,{}),i.jsx(OT,{})]})})})})};function DT(){const e=[],t=[],r=["VITE_SUPABASE_URL","VITE_SUPABASE_ANON_KEY"];for(const a of r){const l={VITE_SUPABASE_URL:"https://hfpmmjvdsdofheuffnwb.supabase.co",VITE_SUPABASE_ANON_KEY:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImhmcG1tanZkc2RvZmhldWZmbndiIiwicm9sZSI6InNlcnZpY2Vfcm9sZSIsImlhdCI6MTc1MjI0MTA5NywiZXhwIjoyMDY3ODE3MDk3fQ.TLsJBj7YXSgJRLnALJs3_YEqYkY0KMFK51c4Ge1OKyw",VITE_STRIPE_PUBLISHABLE_KEY:"pk_live_51RlCWuP59y3jEuN3gIe4hsjMbigZtdb9iIGCO7jk5a0O9lNFYRl5iJTlJTOZseBW8KPWTEmQh6ApI2y9gcno10A800CSEfdgPo",VITE_CRISP_WEBSITE_ID:"edecbf12-1559-474c-9d81-6915a18cf171",VITE_EMAILJS_SERVICE_ID:"service_uiopigv",VITE_EMAILJS_TEMPLATE_ID:"template_t37v8ek",VITE_EMAILJS_PUBLIC_KEY:"8v-_cpdn0TjBj35YF",VITE_PAYPAL_CLIENT_ID:"AcG5qPSjS9Mm6BnqfbNCdl5uUFD9NsQUreAbZZCpfS2EDP_MiNE1j_yIIRbDb-tZMi21_HT29bMBHJDP",VITE_PAYPAL_API_BASE:"https://api.paypal.com",VITE_SQUARE_APPLICATION_ID:"sq0idp-Y12sAu8fu2t-3uP9HwXk-A",VITE_SQUARE_LOCATION_ID:"L6QRE56637GZ2",VITE_SQUARE_ENVIRONMENT:"production",VITE_APP_TITLE:"Studio Nullbyte",BASE_URL:"/",MODE:"production",DEV:!1,PROD:!0,SSR:!1}[a];l?(l.includes("localhost")||l.includes("127.0.0.1"))&&t.push(`Environment variable ${a} contains localhost - ensure this is intended for development`):e.push(`Missing required environment variable: ${a}`)}const n="https://hfpmmjvdsdofheuffnwb.supabase.co";n.startsWith("https://")||e.push("VITE_SUPABASE_URL must use HTTPS in production"),n.includes("localhost")&&e.push("VITE_SUPABASE_URL cannot use localhost in production");const s=Object.keys({VITE_SUPABASE_URL:"https://hfpmmjvdsdofheuffnwb.supabase.co",VITE_SUPABASE_ANON_KEY:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImhmcG1tanZkc2RvZmhldWZmbndiIiwicm9sZSI6InNlcnZpY2Vfcm9sZSIsImlhdCI6MTc1MjI0MTA5NywiZXhwIjoyMDY3ODE3MDk3fQ.TLsJBj7YXSgJRLnALJs3_YEqYkY0KMFK51c4Ge1OKyw",VITE_STRIPE_PUBLISHABLE_KEY:"pk_live_51RlCWuP59y3jEuN3gIe4hsjMbigZtdb9iIGCO7jk5a0O9lNFYRl5iJTlJTOZseBW8KPWTEmQh6ApI2y9gcno10A800CSEfdgPo",VITE_CRISP_WEBSITE_ID:"edecbf12-1559-474c-9d81-6915a18cf171",VITE_EMAILJS_SERVICE_ID:"service_uiopigv",VITE_EMAILJS_TEMPLATE_ID:"template_t37v8ek",VITE_EMAILJS_PUBLIC_KEY:"8v-_cpdn0TjBj35YF",VITE_PAYPAL_CLIENT_ID:"AcG5qPSjS9Mm6BnqfbNCdl5uUFD9NsQUreAbZZCpfS2EDP_MiNE1j_yIIRbDb-tZMi21_HT29bMBHJDP",VITE_PAYPAL_API_BASE:"https://api.paypal.com",VITE_SQUARE_APPLICATION_ID:"sq0idp-Y12sAu8fu2t-3uP9HwXk-A",VITE_SQUARE_LOCATION_ID:"L6QRE56637GZ2",VITE_SQUARE_ENVIRONMENT:"production",VITE_APP_TITLE:"Studio Nullbyte",BASE_URL:"/",MODE:"production",DEV:!1,PROD:!0,SSR:!1}),o=s.filter(a=>a.includes("SECRET")||a.includes("PRIVATE")||a.includes("PASSWORD")||a.includes("TOKEN"));for(const a of o)a.startsWith("VITE_")&&e.push(`Potentially sensitive environment variable exposed to client: ${a}`);{const a=s.filter(l=>l.includes("DEV")||l.includes("DEBUG")||l.includes("TEST"));for(const l of a)({VITE_SUPABASE_URL:"https://hfpmmjvdsdofheuffnwb.supabase.co",VITE_SUPABASE_ANON_KEY:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImhmcG1tanZkc2RvZmhldWZmbndiIiwicm9sZSI6InNlcnZpY2Vfcm9sZSIsImlhdCI6MTc1MjI0MTA5NywiZXhwIjoyMDY3ODE3MDk3fQ.TLsJBj7YXSgJRLnALJs3_YEqYkY0KMFK51c4Ge1OKyw",VITE_STRIPE_PUBLISHABLE_KEY:"pk_live_51RlCWuP59y3jEuN3gIe4hsjMbigZtdb9iIGCO7jk5a0O9lNFYRl5iJTlJTOZseBW8KPWTEmQh6ApI2y9gcno10A800CSEfdgPo",VITE_CRISP_WEBSITE_ID:"edecbf12-1559-474c-9d81-6915a18cf171",VITE_EMAILJS_SERVICE_ID:"service_uiopigv",VITE_EMAILJS_TEMPLATE_ID:"template_t37v8ek",VITE_EMAILJS_PUBLIC_KEY:"8v-_cpdn0TjBj35YF",VITE_PAYPAL_CLIENT_ID:"AcG5qPSjS9Mm6BnqfbNCdl5uUFD9NsQUreAbZZCpfS2EDP_MiNE1j_yIIRbDb-tZMi21_HT29bMBHJDP",VITE_PAYPAL_API_BASE:"https://api.paypal.com",VITE_SQUARE_APPLICATION_ID:"sq0idp-Y12sAu8fu2t-3uP9HwXk-A",VITE_SQUARE_LOCATION_ID:"L6QRE56637GZ2",VITE_SQUARE_ENVIRONMENT:"production",VITE_APP_TITLE:"Studio Nullbyte",BASE_URL:"/",MODE:"production",DEV:!1,PROD:!0,SSR:!1})[l]&&t.push(`Development variable ${l} is set in production`)}return{isValid:e.length===0,errors:e,warnings:t}}function MT(){const e=[],t=[];return"https://hfpmmjvdsdofheuffnwb.supabase.co".includes("localhost")&&e.push("Using localhost Supabase URL in production"),window.location.protocol!=="https:"&&e.push("Application not served over HTTPS in production"),document.querySelector('meta[http-equiv="Content-Security-Policy"]')||t.push("Content Security Policy header not detected"),{isValid:e.length===0,errors:e,warnings:t}}function UT(){const e=DT(),t=MT();e.isValid||Ke.error("Environment validation failed",{errors:e.errors,warnings:e.warnings}),t.isValid||Ke.error("Security configuration validation failed",{errors:t.errors,warnings:t.warnings}),e.warnings.length>0,t.warnings.length>0}function FT(){UT()}FT();Sc.createRoot(document.getElementById("root")).render(i.jsx(Ve.StrictMode,{children:i.jsx(ux,{children:i.jsx(c1,{children:i.jsx(LT,{})})})}));
//# sourceMappingURL=index-d1cc2b4b.js.map
